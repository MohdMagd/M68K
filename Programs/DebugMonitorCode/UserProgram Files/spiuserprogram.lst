680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 01 Mar 2019      Time: 17:26:45          Source: C:\CYGWIN64\HOME\SABAS\M68K\PROGRAMS\DEBUGMONITORCODE\USERPROGRAM FILES\SPIUSERPROGRAM.SRC

                       1          section   code
                       2   **********************************************************************************************************
                       3   * CSTART.ASM  -  C startup-code
                       4   *
                       5   *          Initialises the system prior to running the users main() program
                       6   *
                       7   *          1) Sets up the user program stack pointer
                       8   *          2) Switches to User mode in the 68000
                       9   *          3) Enables All Interrupts 1-7 on 68000
                      10   *          4) Copies all initialised C program variables from Rom to Ram prior to running main()
                      11   *
                      12   **********************************************************************************************************
00000000              13                   align
                      14   
                      15   
                      16   **********************************************************************************************************
                      17   * The Following ORG Statement marks the address of the start of the this CStart Program
                      18   *
                      19   * The debug Monitor and Flash Load and Program routines assume your program lives here
                      20   **********************************************************************************************************
08000000              21                   org       $08000000
08000000  46FC 2000   22   start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode
                      23   
                      24   ******************************************************************************************
                      25   * Set unitialised global variables to 0 at startup
                      26   ******************************************************************************************
08000004  207C 0800   27   mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
08000008  1966      
0800000A  203C 0000   28                   move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
0800000E  0050      
08000010  6700 0024   29                   beq       go_main               if no data to copy go straight to program
08000014  10FC 0000   30   Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
08000018  5380        31                   subq.l    #1,d0
0800001A  66F8        32                   bne       Zeroinit
                      33   
                      34   *******************************************************************************************
                      35   * last minute initialisation before calling main
                      36   *******************************************************************************************
                      37   
0800001C  23FC FFFF   38                   move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
08000020  FFFF 0800 
08000024  1956      
08000026  42B9 0800   39                   clr.l     __allocp               used by malloc() in C
0800002A  195A      
0800002C  23FC 0800   40                   move.l    #heap,__heap           pointer to free memory
08000030  19B6 0800 
08000034  195E      
08000036  4EB9 0800   41   go_main         jsr       _main
0800003A  034E      
0800003C  60C2        42                   bra       start
                      43   
                      44   ; C:\CYGWIN64\HOME\SABAS\M68K\PROGRAMS\DEBUGMONITORCODE\USERPROGRAM FILES\M68KUSERPROGRAM (DE1).C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      45   ; #include <stdio.h>
                      46   ; // #include <string.h>
                      47   ; // #include <ctype.h>
                      48   ; /*********************************************************************************************
                      49   ; **  RS232 port addresses
                      50   ; *********************************************************************************************/
                      51   ; #define RS232_Control     *(volatile unsigned char *)(0x00400040)
                      52   ; #define RS232_Status      *(volatile unsigned char *)(0x00400040)
                      53   ; #define RS232_TxData      *(volatile unsigned char *)(0x00400042)
                      54   ; #define RS232_RxData      *(volatile unsigned char *)(0x00400042)
                      55   ; #define RS232_Baud        *(volatile unsigned char *)(0x00400044)
                      56   ; /*************************************************************
                      57   ; ** SPI Controller registers
                      58   ; **************************************************************/
                      59   ; // SPI Registers
                      60   ; #define SPI_Control         (*(volatile unsigned char *)(0x00408020))
                      61   ; #define SPI_Status          (*(volatile unsigned char *)(0x00408022))
                      62   ; #define SPI_Data            (*(volatile unsigned char *)(0x00408024))
                      63   ; #define SPI_Ext             (*(volatile unsigned char *)(0x00408026))
                      64   ; #define SPI_CS              (*(volatile unsigned char *)(0x00408028))
                      65   ; // these two macros enable or disable the flash memory chip enable off SSN_O[7..0]
                      66   ; // in this case we assume there is only 1 device connected to SSN_O[0] so we can
                      67   ; // write hex FE to the SPI_CS to enable it (the enable on the flash chip is active low)
                      68   ; // and write FF to disable it
                      69   ; #define   Enable_SPI_CS()             SPI_CS = 0xFE
                      70   ; #define   Disable_SPI_CS()            SPI_CS = 0xFF 
                      71   ; /*******************************************************************************************
                      72   ; ** Function Prototypes
                      73   ; *******************************************************************************************/
                      74   ; int sprintf(char *out, const char *format, ...) ;
                      75   ; int TestForSPITransmitDataComplete(void);
                      76   ; void SPI_Init(void);
                      77   ; void WaitForSPITransmitComplete(void);
                      78   ; void WriteEnable(void);
                      79   ; void WriteSPIChar(unsigned char c);
                      80   ; unsigned char ReadSPIChar(void);
                      81   ; void WaitWriteCommandCompletion(void);
                      82   ; void DisableBlockProtect(void);
                      83   ; int _getch( void )
                      84   ; {
                      85   __getch:
0800003E  4E56 FFFC   86          link      A6,#-4
                      87   ; char c ;
                      88   ; while((RS232_Status & (char)(0x01)) != (char)(0x01))    // wait for Rx bit in 6850 serial comms chip status register to be '1'
                      89   _getch_1:
08000042  1039 0040   90          move.b    4194368,D0
08000046  0040      
08000048  C03C 0001   91          and.b     #1,D0
0800004C  0C00 0001   92          cmp.b     #1,D0
08000050  6702        93          beq.s     _getch_3
08000052  60EE        94          bra       _getch_1
                      95   _getch_3:
                      96   ; ;
                      97   ; return (RS232_RxData & (char)(0x7f));                   // read received character, mask off top bit and return as 7 bit ASCII character
08000054  1039 0040   98          move.b    4194370,D0
08000058  0042      
0800005A  C0BC 0000   99          and.l     #255,D0
0800005E  00FF      
08000060  C0BC 0000  100          and.l     #127,D0
08000064  007F      
08000066  4E5E       101          unlk      A6
08000068  4E75       102          rts
                     103   ; }
                     104   ; int _putch( int c)
                     105   ; {
                     106   __putch:
0800006A  4E56 0000  107          link      A6,#0
                     108   ; while((RS232_Status & (char)(0x02)) != (char)(0x02))    // wait for Tx bit in status register or 6850 serial comms chip to be '1'
                     109   _putch_1:
0800006E  1039 0040  110          move.b    4194368,D0
08000072  0040      
08000074  C03C 0002  111          and.b     #2,D0
08000078  0C00 0002  112          cmp.b     #2,D0
0800007C  6702       113          beq.s     _putch_3
0800007E  60EE       114          bra       _putch_1
                     115   _putch_3:
                     116   ; ;
                     117   ; RS232_TxData = (c & (char)(0x7f));                      // write to the data register to output the character (mask off bit 8 to keep it 7 bit ASCII)
08000080  202E 0008  118          move.l    8(A6),D0
08000084  C0BC 0000  119          and.l     #127,D0
08000088  007F      
0800008A  13C0 0040  120          move.b    D0,4194370
0800008E  0042      
                     121   ; return c ;                                              // putchar() expects the character to be returned
08000090  202E 0008  122          move.l    8(A6),D0
08000094  4E5E       123          unlk      A6
08000096  4E75       124          rts
                     125   ; }
                     126   ; /******************************************************************************************
                     127   ; ** The following code is for the SPI controller
                     128   ; *******************************************************************************************/
                     129   ; // return true if the SPI has finished transmitting a byte (to say the Flash chip) return false otherwise
                     130   ; // this can be used in a polling algorithm to know when the controller is busy or idle.
                     131   ; int TestForSPITransmitDataComplete(void)
                     132   ; {
                     133   _TestForSPITransmitDataComplete:
                     134   ; /* if register SPIF bit set, return true, otherwise wait*/
                     135   ; while ((SPI_Status & 128) >> 7 != 1);
                     136   TestForSPITransmitDataComplete_1:
08000098  1039 0040  137          move.b    4227106,D0
0800009C  8022      
0800009E  C07C 00FF  138          and.w     #255,D0
080000A2  C07C 0080  139          and.w     #128,D0
080000A6  EE40       140          asr.w     #7,D0
080000A8  0C40 0001  141          cmp.w     #1,D0
080000AC  6702       142          beq.s     TestForSPITransmitDataComplete_3
080000AE  60E8       143          bra       TestForSPITransmitDataComplete_1
                     144   TestForSPITransmitDataComplete_3:
                     145   ; return 1;
080000B0  7001       146          moveq     #1,D0
080000B2  4E75       147          rts
                     148   ; }
                     149   ; /************************************************************************************
                     150   ; ** initialises the SPI controller chip to set speed, interrupt capability etc.
                     151   ; ************************************************************************************/
                     152   ; void SPI_Init(void)
                     153   ; {
                     154   _SPI_Init:
                     155   ; //TODO
                     156   ; //
                     157   ; // Program the SPI Control, EXT, CS and Status registers to initialise the SPI controller
                     158   ; // Don't forget to call this routine from main() before you do anything else with SPI
                     159   ; //
                     160   ; // Here are some settings we want to create
                     161   ; //
                     162   ; // Control Reg     - interrupts disabled, core enabled, Master mode, Polarity and Phase of clock = [0,0], speed =  divide by 32 = approx 700Khz
                     163   ; SPI_Control = 0x53; // 8'b01X10011, X = don't Care (Use 0)
080000B4  13FC 0053  164          move.b    #83,4227104
080000B8  0040 8020 
                     165   ; // Ext Reg         - in conjunction with control reg sets speed to above and also sets interrupt flag after every completed transfer (each byte)
                     166   ; SPI_Ext = 0;        //8'b00XXXX00
080000BC  4239 0040  167          clr.b     4227110
080000C0  8026      
                     168   ; // SPI_CS Reg      - disable all connected SPI chips via their CS signals
                     169   ; SPI_CS = Disable_SPI_CS();
080000C2  13FC 00FF  170          move.b    #255,4227112
080000C6  0040 8028 
080000CA  13FC 00FF  171          move.b    #255,4227112
080000CE  0040 8028 
                     172   ; // Status Reg      - clear any write collision and interrupt on transmit complete flag
                     173   ; SPI_Status = 0xC0;  // 8'b11XX0000, X = don't Care (Use 0)
080000D2  13FC 00C0  174          move.b    #192,4227106
080000D6  0040 8022 
080000DA  4E75       175          rts
                     176   ; }
                     177   ; /************************************************************************************
                     178   ; ** return ONLY when the SPI controller has finished transmitting a byte
                     179   ; ************************************************************************************/
                     180   ; void WaitForSPITransmitComplete(void)
                     181   ; {
                     182   _WaitForSPITransmitComplete:
                     183   ; // poll the status register SPIF bit looking for completion of transmission
                     184   ; TestForSPITransmitDataComplete();
080000DC  4EB9 0800  185          jsr       _TestForSPITransmitDataComplete
080000E0  0098      
                     186   ; // once transmission is complete, clear the write collision and interrupt on transmit complete flags in the status register (read documentation)
                     187   ; // in case they were set
                     188   ; SPI_Status = 0xC0; //  (8'b11000000, X = don't Care (Use 0))
080000E2  13FC 00C0  189          move.b    #192,4227106
080000E6  0040 8022 
080000EA  4E75       190          rts
                     191   ; }
                     192   ; /************************************************************************************
                     193   ; ** Disable Write Protect to allow writing access to chip
                     194   ; ************************************************************************************/
                     195   ; void WriteEnable(void){
                     196   _WriteEnable:
080000EC  4E56 FFFC  197          link      A6,#-4
                     198   ; unsigned char x;
                     199   ; // Enable Chip Select
                     200   ; Enable_SPI_CS();
080000F0  13FC 00FE  201          move.b    #254,4227112
080000F4  0040 8028 
                     202   ; // Send Write Command to Chip
                     203   ; SPI_Data = 6;
080000F8  13FC 0006  204          move.b    #6,4227108
080000FC  0040 8024 
                     205   ; WaitForSPITransmitComplete();
08000100  4EB9 0800  206          jsr       _WaitForSPITransmitComplete
08000104  00DC      
                     207   ; x = SPI_Data;
08000106  1D79 0040  208          move.b    4227108,-1(A6)
0800010A  8024 FFFF 
                     209   ; // Disable Chip Select
                     210   ; Disable_SPI_CS();
0800010E  13FC 00FF  211          move.b    #255,4227112
08000112  0040 8028 
08000116  4E5E       212          unlk      A6
08000118  4E75       213          rts
                     214   ; }
                     215   ; /************************************************************************************
                     216   ; ** Disable Write Protect to allow writing access to chip
                     217   ; ************************************************************************************/
                     218   ; void DisableBlockProtect(void){
                     219   _DisableBlockProtect:
0800011A  4E56 FFFC  220          link      A6,#-4
                     221   ; unsigned char x;
                     222   ; Enable_SPI_CS();
0800011E  13FC 00FE  223          move.b    #254,4227112
08000122  0040 8028 
                     224   ; // Send Write To status Register Command to Chip
                     225   ; SPI_Data = 1;
08000126  13FC 0001  226          move.b    #1,4227108
0800012A  0040 8024 
                     227   ; WaitForSPITransmitComplete();
0800012E  4EB9 0800  228          jsr       _WaitForSPITransmitComplete
08000132  00DC      
                     229   ; x = SPI_Data;
08000134  1D79 0040  230          move.b    4227108,-1(A6)
08000138  8024 FFFF 
                     231   ; // Send Write To status Register Command to Chip
                     232   ; SPI_Data = 2;   // 8'b00000010
0800013C  13FC 0002  233          move.b    #2,4227108
08000140  0040 8024 
                     234   ; WaitForSPITransmitComplete();
08000144  4EB9 0800  235          jsr       _WaitForSPITransmitComplete
08000148  00DC      
                     236   ; x = SPI_Data;   
0800014A  1D79 0040  237          move.b    4227108,-1(A6)
0800014E  8024 FFFF 
                     238   ; Disable_SPI_CS(); 
08000152  13FC 00FF  239          move.b    #255,4227112
08000156  0040 8028 
0800015A  4E5E       240          unlk      A6
0800015C  4E75       241          rts
                     242   ; }
                     243   ; /************************************************************************************
                     244   ; ** Wait for Write Command Completion
                     245   ; ************************************************************************************/
                     246   ; void WaitWriteCommandCompletion(void){
                     247   _WaitWriteCommandCompletion:
0800015E  2F02       248          move.l    D2,-(A7)
                     249   ; unsigned char x;
                     250   ; // Enable Chip Select
                     251   ; Enable_SPI_CS();
08000160  13FC 00FE  252          move.b    #254,4227112
08000164  0040 8028 
                     253   ; // Send Write Command to Chip
                     254   ; SPI_Data = 5;
08000168  13FC 0005  255          move.b    #5,4227108
0800016C  0040 8024 
                     256   ; WaitForSPITransmitComplete();
08000170  4EB9 0800  257          jsr       _WaitForSPITransmitComplete
08000174  00DC      
                     258   ; x = SPI_Data;
08000176  1439 0040  259          move.b    4227108,D2
0800017A  8024      
                     260   ; while(1){
                     261   WaitWriteCommandCompletion_1:
                     262   ; SPI_Data = 0xFF;
0800017C  13FC 00FF  263          move.b    #255,4227108
08000180  0040 8024 
                     264   ; WaitForSPITransmitComplete();
08000184  4EB9 0800  265          jsr       _WaitForSPITransmitComplete
08000188  00DC      
                     266   ; x = SPI_Data;
0800018A  1439 0040  267          move.b    4227108,D2
0800018E  8024      
                     268   ; if ((x & 1) != 1)
08000190  1002       269          move.b    D2,D0
08000192  C03C 0001  270          and.b     #1,D0
08000196  0C00 0001  271          cmp.b     #1,D0
0800019A  6702       272          beq.s     WaitWriteCommandCompletion_4
                     273   ; break;
0800019C  6002       274          bra.s     WaitWriteCommandCompletion_3
                     275   WaitWriteCommandCompletion_4:
0800019E  60DC       276          bra       WaitWriteCommandCompletion_1
                     277   WaitWriteCommandCompletion_3:
                     278   ; }
                     279   ; // Disable Chip Select
                     280   ; Disable_SPI_CS();
080001A0  13FC 00FF  281          move.b    #255,4227112
080001A4  0040 8028 
080001A8  241F       282          move.l    (A7)+,D2
080001AA  4E75       283          rts
                     284   ; }
                     285   ; /************************************************************************************
                     286   ; ** Write a byte to the SPI flash chip via the controller and returns (reads) whatever was
                     287   ; ** given back by SPI device at the same time (removes the read byte from the FIFO)
                     288   ; ************************************************************************************/
                     289   ; void WriteSPIChar(unsigned char c)
                     290   ; {
                     291   _WriteSPIChar:
080001AC  4E56 FFFC  292          link      A6,#-4
080001B0  48E7 2020  293          movem.l   D2/A2,-(A7)
080001B4  45F9 0800  294          lea       _WaitForSPITransmitComplete.L,A2
080001B8  00DC      
                     295   ; unsigned char x;
                     296   ; unsigned char addr1, addr2, addr3;
                     297   ; addr1 = addr2 = addr3 = 6;
080001BA  1D7C 0006  298          move.b    #6,-1(A6)
080001BE  FFFF      
080001C0  1D7C 0006  299          move.b    #6,-2(A6)
080001C4  FFFE      
080001C6  1D7C 0006  300          move.b    #6,-3(A6)
080001CA  FFFD      
                     301   ; printf("\r\nc = %u \n", c);
080001CC  122E 000B  302          move.b    11(A6),D1
080001D0  C2BC 0000  303          and.l     #255,D1
080001D4  00FF      
080001D6  2F01       304          move.l    D1,-(A7)
080001D8  4879 0800  305          pea       @m68kus~1_1.L
080001DC  17EE      
080001DE  4EB9 0800  306          jsr       _printf
080001E2  0C94      
080001E4  504F       307          addq.w    #8,A7
                     308   ; DisableBlockProtect();
080001E6  4EB9 0800  309          jsr       _DisableBlockProtect
080001EA  011A      
                     310   ; WriteEnable();
080001EC  4EB9 0800  311          jsr       _WriteEnable
080001F0  00EC      
                     312   ; // Enable Chip Select
                     313   ; Enable_SPI_CS();
080001F2  13FC 00FE  314          move.b    #254,4227112
080001F6  0040 8028 
                     315   ; // Send Write Command to Chip
                     316   ; SPI_Data = 2;
080001FA  13FC 0002  317          move.b    #2,4227108
080001FE  0040 8024 
                     318   ; WaitForSPITransmitComplete();
08000202  4E92       319          jsr       (A2)
                     320   ; x = SPI_Data;
08000204  1439 0040  321          move.b    4227108,D2
08000208  8024      
                     322   ; // Send 24-bit Address that we stored c in
                     323   ; SPI_Data = addr1; // 24-bit address - 1st Byte
0800020A  13EE FFFD  324          move.b    -3(A6),4227108
0800020E  0040 8024 
                     325   ; WaitForSPITransmitComplete();
08000212  4E92       326          jsr       (A2)
                     327   ; x = SPI_Data;
08000214  1439 0040  328          move.b    4227108,D2
08000218  8024      
                     329   ; SPI_Data = addr2; // 24-bit address - 2nd Byte
0800021A  13EE FFFE  330          move.b    -2(A6),4227108
0800021E  0040 8024 
                     331   ; WaitForSPITransmitComplete();
08000222  4E92       332          jsr       (A2)
                     333   ; x = SPI_Data;
08000224  1439 0040  334          move.b    4227108,D2
08000228  8024      
                     335   ; SPI_Data = addr3; // 24-bit address - 3rd Byte
0800022A  13EE FFFF  336          move.b    -1(A6),4227108
0800022E  0040 8024 
                     337   ; WaitForSPITransmitComplete();
08000232  4E92       338          jsr       (A2)
                     339   ; x = SPI_Data;
08000234  1439 0040  340          move.b    4227108,D2
08000238  8024      
                     341   ; // Payload Data
                     342   ; SPI_Data = c;
0800023A  13EE 000B  343          move.b    11(A6),4227108
0800023E  0040 8024 
                     344   ; WaitForSPITransmitComplete();
08000242  4E92       345          jsr       (A2)
                     346   ; x = SPI_Data;
08000244  1439 0040  347          move.b    4227108,D2
08000248  8024      
                     348   ; //  Disable Chip Select
                     349   ; Disable_SPI_CS();
0800024A  13FC 00FF  350          move.b    #255,4227112
0800024E  0040 8028 
                     351   ; // Poll Chip Status register for write completion
                     352   ; WaitWriteCommandCompletion();
08000252  4EB9 0800  353          jsr       _WaitWriteCommandCompletion
08000256  015E      
08000258  4CDF 0404  354          movem.l   (A7)+,D2/A2
0800025C  4E5E       355          unlk      A6
0800025E  4E75       356          rts
                     357   ; }
                     358   ; /************************************************************************************
                     359   ; ** Read contents of SPI flash chip from address 0
                     360   ; ************************************************************************************/
                     361   ; unsigned char ReadSPIChar(void){
                     362   _ReadSPIChar:
08000260  4E56 FFFC  363          link      A6,#-4
08000264  48E7 3020  364          movem.l   D2/D3/A2,-(A7)
08000268  45F9 0800  365          lea       _WaitForSPITransmitComplete.L,A2
0800026C  00DC      
                     366   ; unsigned char x;
                     367   ; unsigned char read_byte;
                     368   ; unsigned char addr1, addr2, addr3;
                     369   ; addr1 = addr2 = addr3 = 6;
0800026E  1D7C 0006  370          move.b    #6,-1(A6)
08000272  FFFF      
08000274  1D7C 0006  371          move.b    #6,-2(A6)
08000278  FFFE      
0800027A  1D7C 0006  372          move.b    #6,-3(A6)
0800027E  FFFD      
                     373   ; // Enable Chip Select
                     374   ; Enable_SPI_CS();
08000280  13FC 00FE  375          move.b    #254,4227112
08000284  0040 8028 
                     376   ; // Send Read Command to Chip
                     377   ; SPI_Data = 3;
08000288  13FC 0003  378          move.b    #3,4227108
0800028C  0040 8024 
                     379   ; WaitForSPITransmitComplete();
08000290  4E92       380          jsr       (A2)
                     381   ; x = SPI_Data;
08000292  1439 0040  382          move.b    4227108,D2
08000296  8024      
                     383   ; // Send 24-bit Address that we stored c in
                     384   ; // 24-bit address - 1st Byte
                     385   ; SPI_Data = addr1;
08000298  13EE FFFD  386          move.b    -3(A6),4227108
0800029C  0040 8024 
                     387   ; WaitForSPITransmitComplete();
080002A0  4E92       388          jsr       (A2)
                     389   ; x = SPI_Data;
080002A2  1439 0040  390          move.b    4227108,D2
080002A6  8024      
                     391   ; // 24-bit address - 2nd Byte
                     392   ; SPI_Data = addr2;
080002A8  13EE FFFE  393          move.b    -2(A6),4227108
080002AC  0040 8024 
                     394   ; WaitForSPITransmitComplete();
080002B0  4E92       395          jsr       (A2)
                     396   ; x = SPI_Data;
080002B2  1439 0040  397          move.b    4227108,D2
080002B6  8024      
                     398   ; // 24-bit address - 3rd Byte
                     399   ; SPI_Data = addr3;
080002B8  13EE FFFF  400          move.b    -1(A6),4227108
080002BC  0040 8024 
                     401   ; WaitForSPITransmitComplete();
080002C0  4E92       402          jsr       (A2)
                     403   ; x = SPI_Data;
080002C2  1439 0040  404          move.b    4227108,D2
080002C6  8024      
                     405   ; // Send Dummy Data to purge c out of read FIFO
                     406   ; SPI_Data = 0xF0;
080002C8  13FC 00F0  407          move.b    #240,4227108
080002CC  0040 8024 
                     408   ; WaitForSPITransmitComplete();
080002D0  4E92       409          jsr       (A2)
                     410   ; read_byte = SPI_Data;	// store data from read FIFO into temporary variable
080002D2  1639 0040  411          move.b    4227108,D3
080002D6  8024      
                     412   ; //  Disable Chip Select
                     413   ; Disable_SPI_CS();
080002D8  13FC 00FF  414          move.b    #255,4227112
080002DC  0040 8028 
                     415   ; printf("Read back Data (as u-char) = %u \n", read_byte);
080002E0  C6BC 0000  416          and.l     #255,D3
080002E4  00FF      
080002E6  2F03       417          move.l    D3,-(A7)
080002E8  4879 0800  418          pea       @m68kus~1_2.L
080002EC  17FA      
080002EE  4EB9 0800  419          jsr       _printf
080002F2  0C94      
080002F4  504F       420          addq.w    #8,A7
                     421   ; return read_byte;
080002F6  1003       422          move.b    D3,D0
080002F8  4CDF 040C  423          movem.l   (A7)+,D2/D3/A2
080002FC  4E5E       424          unlk      A6
080002FE  4E75       425          rts
                     426   ; // return the received data from Flash chip 
                     427   ; }
                     428   ; /************************************************************************************
                     429   ; ** Erase Chip Contents in SPI flash chip
                     430   ; ************************************************************************************/
                     431   ; void ChipErase(void){
                     432   _ChipErase:
08000300  4E56 FFFC  433          link      A6,#-4
                     434   ; unsigned char x;
                     435   ; WriteEnable();
08000304  4EB9 0800  436          jsr       _WriteEnable
08000308  00EC      
                     437   ; DisableBlockProtect();
0800030A  4EB9 0800  438          jsr       _DisableBlockProtect
0800030E  011A      
                     439   ; Enable_SPI_CS();
08000310  13FC 00FE  440          move.b    #254,4227112
08000314  0040 8028 
                     441   ; // Send Dummy Data to purge c out of read FIFO
                     442   ; SPI_Data = 199;
08000318  13FC 00C7  443          move.b    #199,4227108
0800031C  0040 8024 
                     444   ; WaitForSPITransmitComplete();
08000320  4EB9 0800  445          jsr       _WaitForSPITransmitComplete
08000324  00DC      
                     446   ; x = SPI_Data;
08000326  1D79 0040  447          move.b    4227108,-1(A6)
0800032A  8024 FFFF 
                     448   ; Disable_SPI_CS();
0800032E  13FC 00FF  449          move.b    #255,4227112
08000332  0040 8028 
                     450   ; WaitWriteCommandCompletion();
08000336  4EB9 0800  451          jsr       _WaitWriteCommandCompletion
0800033A  015E      
                     452   ; printf("Chip Erased!");
0800033C  4879 0800  453          pea       @m68kus~1_3.L
08000340  181C      
08000342  4EB9 0800  454          jsr       _printf
08000346  0C94      
08000348  584F       455          addq.w    #4,A7
0800034A  4E5E       456          unlk      A6
0800034C  4E75       457          rts
                     458   ; }
                     459   ; /******************************************************************************************************************************
                     460   ; * Start of user program
                     461   ; ******************************************************************************************************************************/
                     462   ; void main()
                     463   ; {
                     464   _main:
0800034E  4E56 FFFC  465          link      A6,#-4
                     466   ; int test_byte;
                     467   ; scanflush() ;                       // flush any text that may have been typed ahead
08000352  4EB9 0800  468          jsr       _scanflush
08000356  0612      
                     469   ; printf("\r\nHello CPEN 412 Student\r\n") ;
08000358  4879 0800  470          pea       @m68kus~1_4.L
0800035C  182A      
0800035E  4EB9 0800  471          jsr       _printf
08000362  0C94      
08000364  584F       472          addq.w    #4,A7
                     473   ; SPI_Init();
08000366  4EB9 0800  474          jsr       _SPI_Init
0800036A  00B4      
                     475   ; ChipErase();
0800036C  4EB9 0800  476          jsr       _ChipErase
08000370  0300      
                     477   ; WriteSPIChar('m');
08000372  4878 006D  478          pea       109
08000376  4EB9 0800  479          jsr       _WriteSPIChar
0800037A  01AC      
0800037C  584F       480          addq.w    #4,A7
                     481   ; test_byte = ReadSPIChar();
0800037E  4EB9 0800  482          jsr       _ReadSPIChar
08000382  0260      
08000384  C0BC 0000  483          and.l     #255,D0
08000388  00FF      
0800038A  2D40 FFFC  484          move.l    D0,-4(A6)
                     485   ; while(1);
                     486   main_1:
0800038E  60FE       487          bra       main_1
                     488   ; // programs should NOT exit as there is nothing to Exit TO !!!!!!
                     489   ; // There is no OS - just press the reset button to end program and call debug
                     490   ; }
                     491   @doscan_read:
08000390  4E56 FFFC  492          link      A6,#-4
08000394  2F0A       493          move.l    A2,-(A7)
08000396  45F9 0800  494          lea       @doscan_lpbuf.L,A2
0800039A  1962      
0800039C  4AAE 0008  495          tst.l     8(A6)
080003A0  6700 0032  496          beq       @doscan_read_1
080003A4  206E 0008  497          move.l    8(A6),A0
080003A8  58AE 0008  498          addq.l    #4,8(A6)
080003AC  2050       499          move.l    (A0),A0
080003AE  1010       500          move.b    (A0),D0
080003B0  4880       501          ext.w     D0
080003B2  48C0       502          ext.l     D0
080003B4  2D40 FFFC  503          move.l    D0,-4(A6)
080003B8  4201       504          clr.b     D1
080003BA  C2BC 0000  505          and.l     #255,D1
080003BE  00FF      
080003C0  B081       506          cmp.l     D1,D0
080003C2  6706       507          beq.s     @doscan_read_3
080003C4  202E FFFC  508          move.l    -4(A6),D0
080003C8  6006       509          bra.s     @doscan_read_4
                     510   @doscan_read_3:
080003CA  70FF       511          moveq     #-1,D0
080003CC  4880       512          ext.w     D0
080003CE  48C0       513          ext.l     D0
                     514   @doscan_read_4:
080003D0  6000 0036  515          bra       @doscan_read_5
                     516   @doscan_read_1:
080003D4  2052       517          move.l    (A2),A0
080003D6  1010       518          move.b    (A0),D0
080003D8  6624       519          bne.s     @doscan_read_6
080003DA  4879 0800  520          pea       @doscan_buf.L
080003DE  1966      
080003E0  4EB9 0800  521          jsr       _gets
080003E4  0D64      
080003E6  584F       522          addq.w    #4,A7
080003E8  2480       523          move.l    D0,(A2)
080003EA  4879 0800  524          pea       @doscan_1.L
080003EE  1846      
080003F0  4879 0800  525          pea       @doscan_buf.L
080003F4  1966      
080003F6  4EB9 0800  526          jsr       _strcat
080003FA  0DF6      
080003FC  504F       527          addq.w    #8,A7
                     528   @doscan_read_6:
080003FE  2052       529          move.l    (A2),A0
08000400  5292       530          addq.l    #1,(A2)
08000402  1010       531          move.b    (A0),D0
08000404  4880       532          ext.w     D0
08000406  48C0       533          ext.l     D0
                     534   @doscan_read_5:
08000408  245F       535          move.l    (A7)+,A2
0800040A  4E5E       536          unlk      A6
0800040C  4E75       537          rts
                     538   @doscan_putback:
0800040E  4E56 0000  539          link      A6,#0
08000412  48E7 3000  540          movem.l   D2/D3,-(A7)
08000416  242E 000C  541          move.l    12(A6),D2
0800041A  262E 0008  542          move.l    8(A6),D3
0800041E  6718       543          beq.s     @doscan_putback_1
08000420  0C82 FFFF  544          cmp.l     #-1,D2
08000424  FFFF      
08000426  670A       545          beq.s     @doscan_putback_3
08000428  5983       546          subq.l    #4,D3
0800042A  2043       547          move.l    D3,A0
0800042C  2050       548          move.l    (A0),A0
0800042E  1082       549          move.b    D2,(A0)
08000430  6004       550          bra.s     @doscan_putback_4
                     551   @doscan_putback_3:
08000432  2043       552          move.l    D3,A0
08000434  5390       553          subq.l    #1,(A0)
                     554   @doscan_putback_4:
08000436  6030       555          bra.s     @doscan_putback_6
                     556   @doscan_putback_1:
08000438  41F9 0800  557          lea       @doscan_buf.L,A0
0800043C  1966      
0800043E  2008       558          move.l    A0,D0
08000440  B0B9 0800  559          cmp.l     @doscan_lpbuf.L,D0
08000444  1962      
08000446  6612       560          bne.s     @doscan_putback_5
08000448  4239 0800  561          clr.b     @doscan_buf.L
0800044C  1966      
0800044E  2F02       562          move.l    D2,-(A7)
08000450  4EB9 0800  563          jsr       _ungetch
08000454  0E28      
08000456  584F       564          addq.w    #4,A7
08000458  600E       565          bra.s     @doscan_putback_6
                     566   @doscan_putback_5:
0800045A  53B9 0800  567          subq.l    #1,@doscan_lpbuf.L
0800045E  1962      
08000460  2079 0800  568          move.l    @doscan_lpbuf.L,A0
08000464  1962      
08000466  1082       569          move.b    D2,(A0)
                     570   @doscan_putback_6:
08000468  2002       571          move.l    D2,D0
0800046A  4CDF 000C  572          movem.l   (A7)+,D2/D3
0800046E  4E5E       573          unlk      A6
08000470  4E75       574          rts
                     575   @doscan_space:
08000472  4E56 0000  576          link      A6,#0
08000476  2F02       577          move.l    D2,-(A7)
                     578   @doscan_space_1:
08000478  2F2E 0008  579          move.l    8(A6),-(A7)
0800047C  4EB9 0800  580          jsr       @doscan_read
08000480  0390      
08000482  584F       581          addq.w    #4,A7
08000484  2400       582          move.l    D0,D2
08000486  206E 000C  583          move.l    12(A6),A0
0800048A  5290       584          addq.l    #1,(A0)
0800048C  2002       585          move.l    D2,D0
0800048E  5280       586          addq.l    #1,D0
08000490  41F9 0800  587          lea       __ctype.L,A0
08000494  1848      
08000496  1030 0800  588          move.b    0(A0,D0.L),D0
0800049A  C03C 0010  589          and.b     #16,D0
0800049E  66D8       590          bne       @doscan_space_1
080004A0  2002       591          move.l    D2,D0
080004A2  241F       592          move.l    (A7)+,D2
080004A4  4E5E       593          unlk      A6
080004A6  4E75       594          rts
                     595   @doscan_select:
080004A8  4E56 0000  596          link      A6,#0
080004AC  48E7 3F20  597          movem.l   D2/D3/D4/D5/D6/D7/A2,-(A7)
080004B0  262E 000C  598          move.l    12(A6),D3
080004B4  2C2E 0018  599          move.l    24(A6),D6
080004B8  2E2E 0014  600          move.l    20(A6),D7
080004BC  2043       601          move.l    D3,A0
080004BE  1010       602          move.b    (A0),D0
080004C0  0C00 005E  603          cmp.b     #94,D0
080004C4  6608       604          bne.s     @doscan_select_1
080004C6  347C 0001  605          move.w    #1,A2
080004CA  5283       606          addq.l    #1,D3
080004CC  6004       607          bra.s     @doscan_select_2
                     608   @doscan_select_1:
080004CE  347C 0000  609          move.w    #0,A2
                     610   @doscan_select_2:
080004D2  202E 0010  611          move.l    16(A6),D0
080004D6  53AE 0010  612          subq.l    #1,16(A6)
080004DA  4A80       613          tst.l     D0
080004DC  6700 00F6  614          beq       @doscan_select_5
080004E0  2F2E 0008  615          move.l    8(A6),-(A7)
080004E4  4EB9 0800  616          jsr       @doscan_read
080004E8  0390      
080004EA  584F       617          addq.w    #4,A7
080004EC  2800       618          move.l    D0,D4
080004EE  0C84 FFFF  619          cmp.l     #-1,D4
080004F2  FFFF      
080004F4  6604       620          bne.s     @doscan_select_6
080004F6  6000 00DC  621          bra       @doscan_select_5
                     622   @doscan_select_6:
080004FA  206E 001C  623          move.l    28(A6),A0
080004FE  5290       624          addq.l    #1,(A0)
08000500  4285       625          clr.l     D5
08000502  4282       626          clr.l     D2
                     627   @doscan_select_8:
08000504  2043       628          move.l    D3,A0
08000506  1030 2800  629          move.b    0(A0,D2.L),D0
0800050A  0C00 005D  630          cmp.b     #93,D0
0800050E  6700 0086  631          beq       @doscan_select_10
08000512  4A82       632          tst.l     D2
08000514  6710       633          beq.s     @doscan_select_11
08000516  2043       634          move.l    D3,A0
08000518  1030 2800  635          move.b    0(A0,D2.L),D0
0800051C  0C00 005D  636          cmp.b     #93,D0
08000520  6604       637          bne.s     @doscan_select_11
08000522  6000 0072  638          bra       @doscan_select_10
                     639   @doscan_select_11:
08000526  4A82       640          tst.l     D2
08000528  6700 0056  641          beq       @doscan_select_15
0800052C  2043       642          move.l    D3,A0
0800052E  1030 2800  643          move.b    0(A0,D2.L),D0
08000532  0C00 002D  644          cmp.b     #45,D0
08000536  6600 0048  645          bne       @doscan_select_15
0800053A  2043       646          move.l    D3,A0
0800053C  2002       647          move.l    D2,D0
0800053E  5380       648          subq.l    #1,D0
08000540  2243       649          move.l    D3,A1
08000542  2202       650          move.l    D2,D1
08000544  5281       651          addq.l    #1,D1
08000546  2F00       652          move.l    D0,-(A7)
08000548  1030 0800  653          move.b    0(A0,D0.L),D0
0800054C  B031 1800  654          cmp.b     0(A1,D1.L),D0
08000550  6C00 002E  655          bge       @doscan_select_15
08000554  201F       656          move.l    (A7)+,D0
08000556  2043       657          move.l    D3,A0
08000558  2002       658          move.l    D2,D0
0800055A  5380       659          subq.l    #1,D0
0800055C  1030 0800  660          move.b    0(A0,D0.L),D0
08000560  4880       661          ext.w     D0
08000562  48C0       662          ext.l     D0
08000564  B880       663          cmp.l     D0,D4
08000566  6D14       664          blt.s     @doscan_select_17
08000568  2043       665          move.l    D3,A0
0800056A  2002       666          move.l    D2,D0
0800056C  5280       667          addq.l    #1,D0
0800056E  1030 0800  668          move.b    0(A0,D0.L),D0
08000572  4880       669          ext.w     D0
08000574  48C0       670          ext.l     D0
08000576  B880       671          cmp.l     D0,D4
08000578  6E02       672          bgt.s     @doscan_select_17
0800057A  601A       673          bra.s     @doscan_select_10
                     674   @doscan_select_17:
0800057C  5282       675          addq.l    #1,D2
0800057E  6010       676          bra.s     @doscan_select_19
                     677   @doscan_select_15:
08000580  2043       678          move.l    D3,A0
08000582  1030 2800  679          move.b    0(A0,D2.L),D0
08000586  4880       680          ext.w     D0
08000588  48C0       681          ext.l     D0
0800058A  B880       682          cmp.l     D0,D4
0800058C  6602       683          bne.s     @doscan_select_19
0800058E  6006       684          bra.s     @doscan_select_10
                     685   @doscan_select_19:
08000590  5282       686          addq.l    #1,D2
08000592  6000 FF70  687          bra       @doscan_select_8
                     688   @doscan_select_10:
08000596  4A82       689          tst.l     D2
08000598  670C       690          beq.s     @doscan_select_23
0800059A  2043       691          move.l    D3,A0
0800059C  1030 2800  692          move.b    0(A0,D2.L),D0
080005A0  0C00 005D  693          cmp.b     #93,D0
080005A4  6702       694          beq.s     @doscan_select_21
                     695   @doscan_select_23:
080005A6  7A01       696          moveq     #1,D5
                     697   @doscan_select_21:
080005A8  200A       698          move.l    A2,D0
080005AA  6712       699          beq.s     @doscan_select_24
080005AC  4A85       700          tst.l     D5
080005AE  660C       701          bne.s     @doscan_select_26
080005B0  4A87       702          tst.l     D7
080005B2  6606       703          bne.s     @doscan_select_28
080005B4  2046       704          move.l    D6,A0
080005B6  5286       705          addq.l    #1,D6
080005B8  1084       706          move.b    D4,(A0)
                     707   @doscan_select_28:
080005BA  6014       708          bra.s     @doscan_select_4
                     709   @doscan_select_26:
080005BC  6016       710          bra.s     @doscan_select_5
                     711   @doscan_select_24:
080005BE  4A85       712          tst.l     D5
080005C0  670C       713          beq.s     @doscan_select_30
080005C2  4A87       714          tst.l     D7
080005C4  6606       715          bne.s     @doscan_select_32
080005C6  2046       716          move.l    D6,A0
080005C8  5286       717          addq.l    #1,D6
080005CA  1084       718          move.b    D4,(A0)
                     719   @doscan_select_32:
080005CC  6002       720          bra.s     @doscan_select_4
                     721   @doscan_select_30:
080005CE  6004       722          bra.s     @doscan_select_5
                     723   @doscan_select_4:
080005D0  6000 FF00  724          bra       @doscan_select_2
                     725   @doscan_select_5:
080005D4  0C84 FFFF  726          cmp.l     #-1,D4
080005D8  FFFF      
080005DA  6714       727          beq.s     @doscan_select_34
080005DC  2F04       728          move.l    D4,-(A7)
080005DE  2F2E 0008  729          move.l    8(A6),-(A7)
080005E2  4EB9 0800  730          jsr       @doscan_putback
080005E6  040E      
080005E8  504F       731          addq.w    #8,A7
080005EA  206E 001C  732          move.l    28(A6),A0
080005EE  5390       733          subq.l    #1,(A0)
                     734   @doscan_select_34:
080005F0  4A87       735          tst.l     D7
080005F2  6604       736          bne.s     @doscan_select_36
080005F4  2046       737          move.l    D6,A0
080005F6  4210       738          clr.b     (A0)
                     739   @doscan_select_36:
080005F8  5283       740          addq.l    #1,D3
080005FA  2043       741          move.l    D3,A0
080005FC  1010       742          move.b    (A0),D0
080005FE  0C00 005D  743          cmp.b     #93,D0
08000602  6702       744          beq.s     @doscan_select_40
08000604  60F2       745          bra       @doscan_select_36
                     746   @doscan_select_40:
08000606  5283       747          addq.l    #1,D3
08000608  2003       748          move.l    D3,D0
0800060A  4CDF 04FC  749          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2
0800060E  4E5E       750          unlk      A6
08000610  4E75       751          rts
                     752   _scanflush:
08000612  41F9 0800  753          lea       @doscan_buf.L,A0
08000616  1966      
08000618  23C8 0800  754          move.l    A0,@doscan_lpbuf.L
0800061C  1962      
0800061E  4239 0800  755          clr.b     @doscan_buf.L
08000622  1966      
08000624  4878 FFFF  756          pea       -1
08000628  4EB9 0800  757          jsr       _ungetch
0800062C  0E28      
0800062E  584F       758          addq.w    #4,A7
08000630  4E75       759          rts
                     760   _doscan:
08000632  4E56 FF88  761          link      A6,#-120
08000636  48E7 3F3C  762          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
0800063A  47F9 0800  763          lea       @doscan_read.L,A3
0800063E  0390      
08000640  4AAE 0008  764          tst.l     8(A6)
08000644  6706       765          beq.s     doscan_1
08000646  41EE 0008  766          lea       8(A6),A0
0800064A  6008       767          bra.s     doscan_2
                     768   doscan_1:
0800064C  4200       769          clr.b     D0
0800064E  4880       770          ext.w     D0
08000650  48C0       771          ext.l     D0
08000652  2040       772          move.l    D0,A0
                     773   doscan_2:
08000654  2A08       774          move.l    A0,D5
08000656  42AE FFE4  775          clr.l     -28(A6)
0800065A  4284       776          clr.l     D4
                     777   doscan_3:
0800065C  206E 000C  778          move.l    12(A6),A0
08000660  52AE 000C  779          addq.l    #1,12(A6)
08000664  1010       780          move.b    (A0),D0
08000666  4880       781          ext.w     D0
08000668  48C0       782          ext.l     D0
0800066A  2600       783          move.l    D0,D3
0800066C  4201       784          clr.b     D1
0800066E  C2BC 0000  785          and.l     #255,D1
08000672  00FF      
08000674  B081       786          cmp.l     D1,D0
08000676  6700 0612  787          beq       doscan_5
0800067A  4286       788          clr.l     D6
0800067C  387C 0000  789          move.w    #0,A4
08000680  0C83 0000  790          cmp.l     #32,D3
08000684  0020      
08000686  6712       791          beq.s     doscan_8
08000688  0C83 0000  792          cmp.l     #9,D3
0800068C  0009      
0800068E  670A       793          beq.s     doscan_8
08000690  0C83 0000  794          cmp.l     #10,D3
08000694  000A      
08000696  6600 0050  795          bne       doscan_6
                     796   doscan_8:
0800069A  2F05       797          move.l    D5,-(A7)
0800069C  4E93       798          jsr       (A3)
0800069E  584F       799          addq.w    #4,A7
080006A0  2400       800          move.l    D0,D2
080006A2  52AE FFE4  801          addq.l    #1,-28(A6)
080006A6  0C82 FFFF  802          cmp.l     #-1,D2
080006AA  FFFF      
080006AC  6612       803          bne.s     doscan_11
080006AE  4A84       804          tst.l     D4
080006B0  6704       805          beq.s     doscan_13
080006B2  2004       806          move.l    D4,D0
080006B4  6006       807          bra.s     doscan_14
                     808   doscan_13:
080006B6  70FF       809          moveq     #-1,D0
080006B8  4880       810          ext.w     D0
080006BA  48C0       811          ext.l     D0
                     812   doscan_14:
080006BC  6000 05CE  813          bra       doscan_15
                     814   doscan_11:
080006C0  2002       815          move.l    D2,D0
080006C2  5280       816          addq.l    #1,D0
080006C4  41F9 0800  817          lea       __ctype.L,A0
080006C8  1848      
080006CA  1030 0800  818          move.b    0(A0,D0.L),D0
080006CE  C03C 0010  819          and.b     #16,D0
080006D2  66C6       820          bne       doscan_8
080006D4  53AE FFE4  821          subq.l    #1,-28(A6)
080006D8  2F02       822          move.l    D2,-(A7)
080006DA  2F05       823          move.l    D5,-(A7)
080006DC  4EB9 0800  824          jsr       @doscan_putback
080006E0  040E      
080006E2  504F       825          addq.w    #8,A7
080006E4  6000 05A0  826          bra       doscan_141
                     827   doscan_6:
080006E8  0C83 0000  828          cmp.l     #37,D3
080006EC  0025      
080006EE  6600 055A  829          bne       doscan_129
080006F2  206E 000C  830          move.l    12(A6),A0
080006F6  52AE 000C  831          addq.l    #1,12(A6)
080006FA  1010       832          move.b    (A0),D0
080006FC  4880       833          ext.w     D0
080006FE  48C0       834          ext.l     D0
08000700  2600       835          move.l    D0,D3
08000702  42AE FFEC  836          clr.l     -20(A6)
08000706  4286       837          clr.l     D6
08000708  42AE FFE8  838          clr.l     -24(A6)
0800070C  347C 7FFF  839          move.w    #32767,A2
08000710  0C83 0000  840          cmp.l     #42,D3
08000714  002A      
08000716  6612       841          bne.s     doscan_18
08000718  7C01       842          moveq     #1,D6
0800071A  206E 000C  843          move.l    12(A6),A0
0800071E  52AE 000C  844          addq.l    #1,12(A6)
08000722  1010       845          move.b    (A0),D0
08000724  4880       846          ext.w     D0
08000726  48C0       847          ext.l     D0
08000728  2600       848          move.l    D0,D3
                     849   doscan_18:
0800072A  2003       850          move.l    D3,D0
0800072C  5280       851          addq.l    #1,D0
0800072E  41F9 0800  852          lea       __ctype.L,A0
08000732  1848      
08000734  1030 0800  853          move.b    0(A0,D0.L),D0
08000738  C03C 0004  854          and.b     #4,D0
0800073C  6700 004C  855          beq       doscan_24
08000740  2003       856          move.l    D3,D0
08000742  0480 0000  857          sub.l     #48,D0
08000746  0030      
08000748  2440       858          move.l    D0,A2
                     859   doscan_22:
0800074A  206E 000C  860          move.l    12(A6),A0
0800074E  52AE 000C  861          addq.l    #1,12(A6)
08000752  1010       862          move.b    (A0),D0
08000754  4880       863          ext.w     D0
08000756  48C0       864          ext.l     D0
08000758  2600       865          move.l    D0,D3
0800075A  5280       866          addq.l    #1,D0
0800075C  41F9 0800  867          lea       __ctype.L,A0
08000760  1848      
08000762  1030 0800  868          move.b    0(A0,D0.L),D0
08000766  C03C 0004  869          and.b     #4,D0
0800076A  671E       870          beq.s     doscan_24
0800076C  2F0A       871          move.l    A2,-(A7)
0800076E  4878 000A  872          pea       10
08000772  4EB9 0800  873          jsr       LMUL
08000776  0CD6      
08000778  2017       874          move.l    (A7),D0
0800077A  504F       875          addq.w    #8,A7
0800077C  2203       876          move.l    D3,D1
0800077E  0481 0000  877          sub.l     #48,D1
08000782  0030      
08000784  D081       878          add.l     D1,D0
08000786  2440       879          move.l    D0,A2
08000788  60C0       880          bra       doscan_22
                     881   doscan_24:
0800078A  0C83 0000  882          cmp.l     #108,D3
0800078E  006C      
08000790  6708       883          beq.s     doscan_27
08000792  0C83 0000  884          cmp.l     #76,D3
08000796  004C      
08000798  661A       885          bne.s     doscan_25
                     886   doscan_27:
0800079A  2D7C 0000  887          move.l    #1,-24(A6)
0800079E  0001 FFE8 
080007A2  206E 000C  888          move.l    12(A6),A0
080007A6  52AE 000C  889          addq.l    #1,12(A6)
080007AA  1010       890          move.b    (A0),D0
080007AC  4880       891          ext.w     D0
080007AE  48C0       892          ext.l     D0
080007B0  2600       893          move.l    D0,D3
080007B2  6020       894          bra.s     doscan_28
                     895   doscan_25:
080007B4  0C83 0000  896          cmp.l     #104,D3
080007B8  0068      
080007BA  6618       897          bne.s     doscan_28
080007BC  2D7C 0000  898          move.l    #1,-20(A6)
080007C0  0001 FFEC 
080007C4  206E 000C  899          move.l    12(A6),A0
080007C8  52AE 000C  900          addq.l    #1,12(A6)
080007CC  1010       901          move.b    (A0),D0
080007CE  4880       902          ext.w     D0
080007D0  48C0       903          ext.l     D0
080007D2  2600       904          move.l    D0,D3
                     905   doscan_28:
080007D4  0C83 0000  906          cmp.l     #91,D3
080007D8  005B      
080007DA  6600 0038  907          bne       doscan_30
080007DE  4A86       908          tst.l     D6
080007E0  660A       909          bne.s     doscan_32
080007E2  206E 0010  910          move.l    16(A6),A0
080007E6  58AE 0010  911          addq.l    #4,16(A6)
080007EA  2E10       912          move.l    (A0),D7
                     913   doscan_32:
080007EC  486E FFE4  914          pea       -28(A6)
080007F0  2F07       915          move.l    D7,-(A7)
080007F2  2F06       916          move.l    D6,-(A7)
080007F4  2F0A       917          move.l    A2,-(A7)
080007F6  2F2E 000C  918          move.l    12(A6),-(A7)
080007FA  2F05       919          move.l    D5,-(A7)
080007FC  4EB9 0800  920          jsr       @doscan_select
08000800  04A8      
08000802  DEFC 0018  921          add.w     #24,A7
08000806  2D40 000C  922          move.l    D0,12(A6)
0800080A  4A86       923          tst.l     D6
0800080C  6602       924          bne.s     doscan_34
0800080E  5284       925          addq.l    #1,D4
                     926   doscan_34:
08000810  6000 0474  927          bra       doscan_141
                     928   doscan_30:
08000814  0C83 0000  929          cmp.l     #110,D3
08000818  006E      
0800081A  661A       930          bne.s     doscan_36
0800081C  4A86       931          tst.l     D6
0800081E  6612       932          bne.s     doscan_38
08000820  206E 0010  933          move.l    16(A6),A0
08000824  58AE 0010  934          addq.l    #4,16(A6)
08000828  2E10       935          move.l    (A0),D7
0800082A  2047       936          move.l    D7,A0
0800082C  20AE FFE4  937          move.l    -28(A6),(A0)
08000830  5284       938          addq.l    #1,D4
                     939   doscan_38:
08000832  6000 0452  940          bra       doscan_141
                     941   doscan_36:
08000836  0C83 0000  942          cmp.l     #115,D3
0800083A  0073      
0800083C  6600 00C4  943          bne       doscan_40
08000840  486E FFE4  944          pea       -28(A6)
08000844  2F05       945          move.l    D5,-(A7)
08000846  4EB9 0800  946          jsr       @doscan_space
0800084A  0472      
0800084C  504F       947          addq.w    #8,A7
0800084E  2400       948          move.l    D0,D2
08000850  4A86       949          tst.l     D6
08000852  660A       950          bne.s     doscan_42
08000854  206E 0010  951          move.l    16(A6),A0
08000858  58AE 0010  952          addq.l    #4,16(A6)
0800085C  2E10       953          move.l    (A0),D7
                     954   doscan_42:
0800085E  52AE FFE4  955          addq.l    #1,-28(A6)
                     956   doscan_44:
08000862  200A       957          move.l    A2,D0
08000864  534A       958          subq.w    #1,A2
08000866  4A80       959          tst.l     D0
08000868  6700 0048  960          beq       doscan_46
0800086C  2002       961          move.l    D2,D0
0800086E  5280       962          addq.l    #1,D0
08000870  41F9 0800  963          lea       __ctype.L,A0
08000874  1848      
08000876  1030 0800  964          move.b    0(A0,D0.L),D0
0800087A  C03C 0010  965          and.b     #16,D0
0800087E  6604       966          bne.s     doscan_47
08000880  7001       967          moveq     #1,D0
08000882  6002       968          bra.s     doscan_48
                     969   doscan_47:
08000884  4280       970          clr.l     D0
                     971   doscan_48:
08000886  C0BC 0000  972          and.l     #255,D0
0800088A  00FF      
0800088C  6724       973          beq.s     doscan_46
0800088E  0C82 FFFF  974          cmp.l     #-1,D2
08000892  FFFF      
08000894  671C       975          beq.s     doscan_46
08000896  387C 0001  976          move.w    #1,A4
0800089A  4A86       977          tst.l     D6
0800089C  6606       978          bne.s     doscan_49
0800089E  2047       979          move.l    D7,A0
080008A0  5287       980          addq.l    #1,D7
080008A2  1082       981          move.b    D2,(A0)
                     982   doscan_49:
080008A4  2F05       983          move.l    D5,-(A7)
080008A6  4E93       984          jsr       (A3)
080008A8  584F       985          addq.w    #4,A7
080008AA  2400       986          move.l    D0,D2
080008AC  52AE FFE4  987          addq.l    #1,-28(A6)
080008B0  60B0       988          bra       doscan_44
                     989   doscan_46:
080008B2  4A86       990          tst.l     D6
080008B4  660A       991          bne.s     doscan_53
080008B6  2047       992          move.l    D7,A0
080008B8  4210       993          clr.b     (A0)
080008BA  200C       994          move.l    A4,D0
080008BC  6702       995          beq.s     doscan_53
080008BE  5284       996          addq.l    #1,D4
                     997   doscan_53:
080008C0  0C82 FFFF  998          cmp.l     #-1,D2
080008C4  FFFF      
080008C6  6708       999          beq.s     doscan_57
080008C8  4A86      1000          tst.l     D6
080008CA  6622      1001          bne.s     doscan_55
080008CC  200C      1002          move.l    A4,D0
080008CE  661E      1003          bne.s     doscan_55
                    1004   doscan_57:
080008D0  4A84      1005          tst.l     D4
080008D2  6704      1006          beq.s     doscan_58
080008D4  2004      1007          move.l    D4,D0
080008D6  6012      1008          bra.s     doscan_61
                    1009   doscan_58:
080008D8  0C82 FFFF 1010          cmp.l     #-1,D2
080008DC  FFFF      
080008DE  6608      1011          bne.s     doscan_60
080008E0  70FF      1012          moveq     #-1,D0
080008E2  4880      1013          ext.w     D0
080008E4  48C0      1014          ext.l     D0
080008E6  6002      1015          bra.s     doscan_61
                    1016   doscan_60:
080008E8  2004      1017          move.l    D4,D0
                    1018   doscan_61:
080008EA  6000 03A0 1019          bra       doscan_15
                    1020   doscan_55:
080008EE  53AE FFE4 1021          subq.l    #1,-28(A6)
080008F2  2F02      1022          move.l    D2,-(A7)
080008F4  2F05      1023          move.l    D5,-(A7)
080008F6  4EB9 0800 1024          jsr       @doscan_putback
080008FA  040E      
080008FC  504F      1025          addq.w    #8,A7
080008FE  6000 0386 1026          bra       doscan_141
                    1027   doscan_40:
08000902  0C83 0000 1028          cmp.l     #99,D3
08000906  0063      
08000908  6600 0094 1029          bne       doscan_62
0800090C  4A86      1030          tst.l     D6
0800090E  660A      1031          bne.s     doscan_64
08000910  206E 0010 1032          move.l    16(A6),A0
08000914  58AE 0010 1033          addq.l    #4,16(A6)
08000918  2E10      1034          move.l    (A0),D7
                    1035   doscan_64:
0800091A  2F05      1036          move.l    D5,-(A7)
0800091C  4E93      1037          jsr       (A3)
0800091E  584F      1038          addq.w    #4,A7
08000920  2400      1039          move.l    D0,D2
08000922  52AE FFE4 1040          addq.l    #1,-28(A6)
08000926  200A      1041          move.l    A2,D0
08000928  0C80 0000 1042          cmp.l     #32767,D0
0800092C  7FFF      
0800092E  6604      1043          bne.s     doscan_66
08000930  347C 0001 1044          move.w    #1,A2
                    1045   doscan_66:
08000934  0C82 FFFF 1046          cmp.l     #-1,D2
08000938  FFFF      
0800093A  6606      1047          bne.s     doscan_68
0800093C  4A86      1048          tst.l     D6
0800093E  6602      1049          bne.s     doscan_68
08000940  5384      1050          subq.l    #1,D4
                    1051   doscan_68:
08000942  200A      1052          move.l    A2,D0
08000944  534A      1053          subq.w    #1,A2
08000946  4A80      1054          tst.l     D0
08000948  6720      1055          beq.s     doscan_72
0800094A  0C82 FFFF 1056          cmp.l     #-1,D2
0800094E  FFFF      
08000950  6718      1057          beq.s     doscan_72
08000952  4A86      1058          tst.l     D6
08000954  6606      1059          bne.s     doscan_73
08000956  2047      1060          move.l    D7,A0
08000958  5287      1061          addq.l    #1,D7
0800095A  1082      1062          move.b    D2,(A0)
                    1063   doscan_73:
0800095C  2F05      1064          move.l    D5,-(A7)
0800095E  4E93      1065          jsr       (A3)
08000960  584F      1066          addq.w    #4,A7
08000962  2400      1067          move.l    D0,D2
08000964  52AE FFE4 1068          addq.l    #1,-28(A6)
08000968  60D8      1069          bra       doscan_68
                    1070   doscan_72:
0800096A  0C82 FFFF 1071          cmp.l     #-1,D2
0800096E  FFFF      
08000970  6612      1072          bne.s     doscan_75
08000972  4A84      1073          tst.l     D4
08000974  6704      1074          beq.s     doscan_77
08000976  2004      1075          move.l    D4,D0
08000978  6006      1076          bra.s     doscan_78
                    1077   doscan_77:
0800097A  70FF      1078          moveq     #-1,D0
0800097C  4880      1079          ext.w     D0
0800097E  48C0      1080          ext.l     D0
                    1081   doscan_78:
08000980  6000 030A 1082          bra       doscan_15
                    1083   doscan_75:
08000984  4A86      1084          tst.l     D6
08000986  6602      1085          bne.s     doscan_79
08000988  5284      1086          addq.l    #1,D4
                    1087   doscan_79:
0800098A  53AE FFE4 1088          subq.l    #1,-28(A6)
0800098E  2F02      1089          move.l    D2,-(A7)
08000990  2F05      1090          move.l    D5,-(A7)
08000992  4EB9 0800 1091          jsr       @doscan_putback
08000996  040E      
08000998  504F      1092          addq.w    #8,A7
0800099A  6000 02EA 1093          bra       doscan_141
                    1094   doscan_62:
0800099E  0C83 0000 1095          cmp.l     #105,D3
080009A2  0069      
080009A4  6600 0068 1096          bne       doscan_84
080009A8  486E FFE4 1097          pea       -28(A6)
080009AC  2F05      1098          move.l    D5,-(A7)
080009AE  4EB9 0800 1099          jsr       @doscan_space
080009B2  0472      
080009B4  504F      1100          addq.w    #8,A7
080009B6  2400      1101          move.l    D0,D2
080009B8  0C82 0000 1102          cmp.l     #48,D2
080009BC  0030      
080009BE  6600 003C 1103          bne       doscan_83
080009C2  387C 0001 1104          move.w    #1,A4
080009C6  2F05      1105          move.l    D5,-(A7)
080009C8  4E93      1106          jsr       (A3)
080009CA  584F      1107          addq.w    #4,A7
080009CC  2400      1108          move.l    D0,D2
080009CE  2F02      1109          move.l    D2,-(A7)
080009D0  4EB9 0800 1110          jsr       _tolower
080009D4  0DDA      
080009D6  584F      1111          addq.w    #4,A7
080009D8  0C80 0000 1112          cmp.l     #120,D0
080009DC  0078      
080009DE  6604      1113          bne.s     doscan_85
080009E0  7678      1114          moveq     #120,D3
080009E2  6012      1115          bra.s     doscan_86
                    1116   doscan_85:
080009E4  53AE FFE4 1117          subq.l    #1,-28(A6)
080009E8  2F02      1118          move.l    D2,-(A7)
080009EA  2F05      1119          move.l    D5,-(A7)
080009EC  4EB9 0800 1120          jsr       @doscan_putback
080009F0  040E      
080009F2  504F      1121          addq.w    #8,A7
080009F4  766F      1122          moveq     #111,D3
                    1123   doscan_86:
080009F6  52AE FFE4 1124          addq.l    #1,-28(A6)
080009FA  6012      1125          bra.s     doscan_84
                    1126   doscan_83:
080009FC  53AE FFE4 1127          subq.l    #1,-28(A6)
08000A00  2F02      1128          move.l    D2,-(A7)
08000A02  2F05      1129          move.l    D5,-(A7)
08000A04  4EB9 0800 1130          jsr       @doscan_putback
08000A08  040E      
08000A0A  504F      1131          addq.w    #8,A7
08000A0C  7664      1132          moveq     #100,D3
                    1133   doscan_84:
08000A0E  0C83 0000 1134          cmp.l     #100,D3
08000A12  0064      
08000A14  671A      1135          beq.s     doscan_89
08000A16  0C83 0000 1136          cmp.l     #117,D3
08000A1A  0075      
08000A1C  6712      1137          beq.s     doscan_89
08000A1E  0C83 0000 1138          cmp.l     #120,D3
08000A22  0078      
08000A24  670A      1139          beq.s     doscan_89
08000A26  0C83 0000 1140          cmp.l     #111,D3
08000A2A  006F      
08000A2C  6600 01CE 1141          bne       doscan_87
                    1142   doscan_89:
08000A30  486E FFE4 1143          pea       -28(A6)
08000A34  2F05      1144          move.l    D5,-(A7)
08000A36  4EB9 0800 1145          jsr       @doscan_space
08000A3A  0472      
08000A3C  504F      1146          addq.w    #8,A7
08000A3E  2400      1147          move.l    D0,D2
08000A40  2D7C 0000 1148          move.l    #10,-4(A6)
08000A44  000A FFFC 
08000A48  0C83 0000 1149          cmp.l     #120,D3
08000A4C  0078      
08000A4E  6608      1150          bne.s     doscan_90
08000A50  2D7C 0000 1151          move.l    #16,-4(A6)
08000A54  0010 FFFC 
                    1152   doscan_90:
08000A58  0C83 0000 1153          cmp.l     #111,D3
08000A5C  006F      
08000A5E  6608      1154          bne.s     doscan_92
08000A60  2D7C 0000 1155          move.l    #8,-4(A6)
08000A64  0008 FFFC 
                    1156   doscan_92:
08000A68  4A86      1157          tst.l     D6
08000A6A  660A      1158          bne.s     doscan_94
08000A6C  206E 0010 1159          move.l    16(A6),A0
08000A70  58AE 0010 1160          addq.l    #4,16(A6)
08000A74  2E10      1161          move.l    (A0),D7
                    1162   doscan_94:
08000A76  42AE FFE0 1163          clr.l     -32(A6)
08000A7A  52AE FFE4 1164          addq.l    #1,-28(A6)
08000A7E  0C83 0000 1165          cmp.l     #117,D3
08000A82  0075      
08000A84  6720      1166          beq.s     doscan_96
08000A86  0C82 0000 1167          cmp.l     #45,D2
08000A8A  002D      
08000A8C  6618      1168          bne.s     doscan_96
08000A8E  2F05      1169          move.l    D5,-(A7)
08000A90  4E93      1170          jsr       (A3)
08000A92  584F      1171          addq.w    #4,A7
08000A94  2400      1172          move.l    D0,D2
08000A96  52AE FFE4 1173          addq.l    #1,-28(A6)
08000A9A  2D7C 0000 1174          move.l    #1,-32(A6)
08000A9E  0001 FFE0 
08000AA2  387C 0001 1175          move.w    #1,A4
                    1176   doscan_96:
08000AA6  3A7C 0000 1177          move.w    #0,A5
08000AAA  0C82 FFFF 1178          cmp.l     #-1,D2
08000AAE  FFFF      
08000AB0  6612      1179          bne.s     doscan_98
08000AB2  4A84      1180          tst.l     D4
08000AB4  6704      1181          beq.s     doscan_100
08000AB6  2004      1182          move.l    D4,D0
08000AB8  6006      1183          bra.s     doscan_101
                    1184   doscan_100:
08000ABA  70FF      1185          moveq     #-1,D0
08000ABC  4880      1186          ext.w     D0
08000ABE  48C0      1187          ext.l     D0
                    1188   doscan_101:
08000AC0  6000 01CA 1189          bra       doscan_15
                    1190   doscan_98:
08000AC4  200A      1191          move.l    A2,D0
08000AC6  534A      1192          subq.w    #1,A2
08000AC8  4A80      1193          tst.l     D0
08000ACA  6700 00AA 1194          beq       doscan_104
08000ACE  0C83 0000 1195          cmp.l     #120,D3
08000AD2  0078      
08000AD4  6624      1196          bne.s     doscan_106
08000AD6  2F02      1197          move.l    D2,-(A7)
08000AD8  4EB9 0800 1198          jsr       _toupper
08000ADC  0E0C      
08000ADE  584F      1199          addq.w    #4,A7
08000AE0  0C80 0000 1200          cmp.l     #65,D0
08000AE4  0041      
08000AE6  6D12      1201          blt.s     doscan_106
08000AE8  2F02      1202          move.l    D2,-(A7)
08000AEA  4EB9 0800 1203          jsr       _toupper
08000AEE  0E0C      
08000AF0  584F      1204          addq.w    #4,A7
08000AF2  0C80 0000 1205          cmp.l     #70,D0
08000AF6  0046      
08000AF8  6F1C      1206          ble.s     doscan_105
                    1207   doscan_106:
08000AFA  2002      1208          move.l    D2,D0
08000AFC  5280      1209          addq.l    #1,D0
08000AFE  41F9 0800 1210          lea       __ctype.L,A0
08000B02  1848      
08000B04  1030 0800 1211          move.b    0(A0,D0.L),D0
08000B08  C03C 0004 1212          and.b     #4,D0
08000B0C  C0BC 0000 1213          and.l     #255,D0
08000B10  00FF      
08000B12  6700 0062 1214          beq       doscan_104
                    1215   doscan_105:
08000B16  2002      1216          move.l    D2,D0
08000B18  5280      1217          addq.l    #1,D0
08000B1A  41F9 0800 1218          lea       __ctype.L,A0
08000B1E  1848      
08000B20  1030 0800 1219          move.b    0(A0,D0.L),D0
08000B24  C03C 0004 1220          and.b     #4,D0
08000B28  661E      1221          bne.s     doscan_107
08000B2A  2F02      1222          move.l    D2,-(A7)
08000B2C  4EB9 0800 1223          jsr       _toupper
08000B30  0E0C      
08000B32  584F      1224          addq.w    #4,A7
08000B34  0480 0000 1225          sub.l     #65,D0
08000B38  0041      
08000B3A  0680 0000 1226          add.l     #10,D0
08000B3E  000A      
08000B40  0680 0000 1227          add.l     #48,D0
08000B44  0030      
08000B46  2400      1228          move.l    D0,D2
                    1229   doscan_107:
08000B48  2F0D      1230          move.l    A5,-(A7)
08000B4A  2F2E FFFC 1231          move.l    -4(A6),-(A7)
08000B4E  4EB9 0800 1232          jsr       LMUL
08000B52  0CD6      
08000B54  2017      1233          move.l    (A7),D0
08000B56  504F      1234          addq.w    #8,A7
08000B58  D082      1235          add.l     D2,D0
08000B5A  0480 0000 1236          sub.l     #48,D0
08000B5E  0030      
08000B60  2A40      1237          move.l    D0,A5
08000B62  2F05      1238          move.l    D5,-(A7)
08000B64  4E93      1239          jsr       (A3)
08000B66  584F      1240          addq.w    #4,A7
08000B68  2400      1241          move.l    D0,D2
08000B6A  52AE FFE4 1242          addq.l    #1,-28(A6)
08000B6E  387C 0001 1243          move.w    #1,A4
08000B72  6000 FF50 1244          bra       doscan_98
                    1245   doscan_104:
08000B76  0C82 FFFF 1246          cmp.l     #-1,D2
08000B7A  FFFF      
08000B7C  671C      1247          beq.s     doscan_109
08000B7E  2F02      1248          move.l    D2,-(A7)
08000B80  2F05      1249          move.l    D5,-(A7)
08000B82  4EB9 0800 1250          jsr       @doscan_putback
08000B86  040E      
08000B88  504F      1251          addq.w    #8,A7
08000B8A  53AE FFE4 1252          subq.l    #1,-28(A6)
08000B8E  200C      1253          move.l    A4,D0
08000B90  6606      1254          bne.s     doscan_111
08000B92  2004      1255          move.l    D4,D0
08000B94  6000 00F6 1256          bra       doscan_15
                    1257   doscan_111:
08000B98  6016      1258          bra.s     doscan_113
                    1259   doscan_109:
08000B9A  200C      1260          move.l    A4,D0
08000B9C  6612      1261          bne.s     doscan_113
08000B9E  4A84      1262          tst.l     D4
08000BA0  6704      1263          beq.s     doscan_115
08000BA2  2004      1264          move.l    D4,D0
08000BA4  6006      1265          bra.s     doscan_116
                    1266   doscan_115:
08000BA6  70FF      1267          moveq     #-1,D0
08000BA8  4880      1268          ext.w     D0
08000BAA  48C0      1269          ext.l     D0
                    1270   doscan_116:
08000BAC  6000 00DE 1271          bra       doscan_15
                    1272   doscan_113:
08000BB0  4AAE FFE0 1273          tst.l     -32(A6)
08000BB4  6706      1274          beq.s     doscan_117
08000BB6  200D      1275          move.l    A5,D0
08000BB8  4480      1276          neg.l     D0
08000BBA  2A40      1277          move.l    D0,A5
                    1278   doscan_117:
08000BBC  4A86      1279          tst.l     D6
08000BBE  661E      1280          bne.s     doscan_119
08000BC0  4AAE FFE8 1281          tst.l     -24(A6)
08000BC4  6706      1282          beq.s     doscan_121
08000BC6  2047      1283          move.l    D7,A0
08000BC8  208D      1284          move.l    A5,(A0)
08000BCA  6010      1285          bra.s     doscan_124
                    1286   doscan_121:
08000BCC  4AAE FFEC 1287          tst.l     -20(A6)
08000BD0  6706      1288          beq.s     doscan_123
08000BD2  2047      1289          move.l    D7,A0
08000BD4  308D      1290          move.w    A5,(A0)
08000BD6  6004      1291          bra.s     doscan_124
                    1292   doscan_123:
08000BD8  2047      1293          move.l    D7,A0
08000BDA  208D      1294          move.l    A5,(A0)
                    1295   doscan_124:
08000BDC  5284      1296          addq.l    #1,D4
                    1297   doscan_119:
08000BDE  0C82 FFFF 1298          cmp.l     #-1,D2
08000BE2  FFFF      
08000BE4  6612      1299          bne.s     doscan_125
08000BE6  4A84      1300          tst.l     D4
08000BE8  6704      1301          beq.s     doscan_127
08000BEA  2004      1302          move.l    D4,D0
08000BEC  6006      1303          bra.s     doscan_128
                    1304   doscan_127:
08000BEE  70FF      1305          moveq     #-1,D0
08000BF0  4880      1306          ext.w     D0
08000BF2  48C0      1307          ext.l     D0
                    1308   doscan_128:
08000BF4  6000 0096 1309          bra       doscan_15
                    1310   doscan_125:
08000BF8  6000 008C 1311          bra       doscan_141
                    1312   doscan_87:
08000BFC  0C83 0000 1313          cmp.l     #37,D3
08000C00  0025      
08000C02  6600 0046 1314          bne       doscan_129
08000C06  2F05      1315          move.l    D5,-(A7)
08000C08  4E93      1316          jsr       (A3)
08000C0A  584F      1317          addq.w    #4,A7
08000C0C  2400      1318          move.l    D0,D2
08000C0E  0C82 FFFF 1319          cmp.l     #-1,D2
08000C12  FFFF      
08000C14  6612      1320          bne.s     doscan_131
08000C16  4A84      1321          tst.l     D4
08000C18  6704      1322          beq.s     doscan_133
08000C1A  2004      1323          move.l    D4,D0
08000C1C  6006      1324          bra.s     doscan_134
                    1325   doscan_133:
08000C1E  70FF      1326          moveq     #-1,D0
08000C20  4880      1327          ext.w     D0
08000C22  48C0      1328          ext.l     D0
                    1329   doscan_134:
08000C24  6000 0066 1330          bra       doscan_15
                    1331   doscan_131:
08000C28  52AE FFE4 1332          addq.l    #1,-28(A6)
08000C2C  B483      1333          cmp.l     D3,D2
08000C2E  6716      1334          beq.s     doscan_135
08000C30  2F02      1335          move.l    D2,-(A7)
08000C32  2F05      1336          move.l    D5,-(A7)
08000C34  4EB9 0800 1337          jsr       @doscan_putback
08000C38  040E      
08000C3A  504F      1338          addq.w    #8,A7
08000C3C  53AE FFE4 1339          subq.l    #1,-28(A6)
08000C40  2004      1340          move.l    D4,D0
08000C42  6000 0048 1341          bra       doscan_15
                    1342   doscan_135:
08000C46  6000 003E 1343          bra       doscan_141
                    1344   doscan_129:
08000C4A  2F05      1345          move.l    D5,-(A7)
08000C4C  4E93      1346          jsr       (A3)
08000C4E  584F      1347          addq.w    #4,A7
08000C50  2400      1348          move.l    D0,D2
08000C52  52AE FFE4 1349          addq.l    #1,-28(A6)
08000C56  0C82 FFFF 1350          cmp.l     #-1,D2
08000C5A  FFFF      
08000C5C  6610      1351          bne.s     doscan_137
08000C5E  4A84      1352          tst.l     D4
08000C60  6704      1353          beq.s     doscan_139
08000C62  2004      1354          move.l    D4,D0
08000C64  6006      1355          bra.s     doscan_140
                    1356   doscan_139:
08000C66  70FF      1357          moveq     #-1,D0
08000C68  4880      1358          ext.w     D0
08000C6A  48C0      1359          ext.l     D0
                    1360   doscan_140:
08000C6C  601E      1361          bra.s     doscan_15
                    1362   doscan_137:
08000C6E  B483      1363          cmp.l     D3,D2
08000C70  6714      1364          beq.s     doscan_141
08000C72  2F02      1365          move.l    D2,-(A7)
08000C74  2F05      1366          move.l    D5,-(A7)
08000C76  4EB9 0800 1367          jsr       @doscan_putback
08000C7A  040E      
08000C7C  504F      1368          addq.w    #8,A7
08000C7E  53AE FFE4 1369          subq.l    #1,-28(A6)
08000C82  2004      1370          move.l    D4,D0
08000C84  6006      1371          bra.s     doscan_15
                    1372   doscan_141:
08000C86  6000 F9D4 1373          bra       doscan_3
                    1374   doscan_5:
08000C8A  2004      1375          move.l    D4,D0
                    1376   doscan_15:
08000C8C  4CDF 3CFC 1377          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08000C90  4E5E      1378          unlk      A6
08000C92  4E75      1379          rts
                    1380   _printf:
08000C94  4E56 FFFC 1381          link      A6,#-4
08000C98  2F02      1382          move.l    D2,-(A7)
08000C9A  41EE 0008 1383          lea       8(A6),A0
08000C9E  5848      1384          addq.w    #4,A0
08000CA0  2408      1385          move.l    A0,D2
08000CA2  2F02      1386          move.l    D2,-(A7)
08000CA4  2F2E 0008 1387          move.l    8(A6),-(A7)
08000CA8  42A7      1388          clr.l     -(A7)
08000CAA  4EB9 0800 1389          jsr       _doprint
08000CAE  0EE4      
08000CB0  DEFC 000C 1390          add.w     #12,A7
08000CB4  2D40 FFFC 1391          move.l    D0,-4(A6)
08000CB8  4282      1392          clr.l     D2
08000CBA  202E FFFC 1393          move.l    -4(A6),D0
08000CBE  241F      1394          move.l    (A7)+,D2
08000CC0  4E5E      1395          unlk      A6
08000CC2  4E75      1396          rts
                    1397   ULMUL:
08000CC4  4E56 0000 1398          link    A6,#0
08000CC8  48E7 C000 1399          movem.l D0/D1,-(A7)
08000CCC  222E 0008 1400          move.l  8(A6),D1
08000CD0  202E 000C 1401          move.l  12(A6),D0
08000CD4  602C      1402          bra.s   lmul_3
                    1403   LMUL:
08000CD6  4E56 0000 1404          link    A6,#0
08000CDA  48E7 C000 1405          movem.l D0/D1,-(A7)
08000CDE  222E 0008 1406          move.l  8(A6),D1
08000CE2  202E 000C 1407          move.l  12(A6),D0
08000CE6  4A80      1408          tst.l   D0
08000CE8  6A0A      1409          bpl.s   lmul_1
08000CEA  4480      1410          neg.l   D0
08000CEC  4A81      1411          tst.l   D1
08000CEE  6A0A      1412          bpl.s   lmul_2
08000CF0  4481      1413          neg.l   D1
08000CF2  600E      1414          bra.s   lmul_3
                    1415   lmul_1:
08000CF4  4A81      1416          tst.l   D1
08000CF6  6A0A      1417          bpl.s   lmul_3
08000CF8  4481      1418          neg.l   D1
                    1419   lmul_2:
08000CFA  6114      1420          bsr.s   domul
08000CFC  4481      1421          neg.l   D1
08000CFE  4080      1422          negx.l  D0
08000D00  6002      1423          bra.s   lmul_4
                    1424   lmul_3:
08000D02  610C      1425          bsr.s   domul
                    1426   lmul_4:
08000D04  2D41 0008 1427          move.l  D1,8(A6)
08000D08  4CDF 0003 1428          movem.l (A7)+,D0/D1
08000D0C  4E5E      1429          unlk    A6
08000D0E  4E75      1430          rts
                    1431   domul:
08000D10  0C81 0000 1432          cmpi.l  #$FFFF,D1
08000D14  FFFF      
08000D16  620C      1433          bhi.s   domul_1
08000D18  0C80 0000 1434          cmpi.l  #$FFFF,D0
08000D1C  FFFF      
08000D1E  620E      1435          bhi.s   domul_2
08000D20  C2C0      1436          mulu    D0,D1
08000D22  4E75      1437          rts
                    1438   domul_1:
08000D24  0C80 0000 1439          cmpi.l  #$FFFF,D0
08000D28  FFFF      
08000D2A  6218      1440          bhi.s   domul_4
08000D2C  6002      1441          bra.s   domul_3
                    1442   domul_2
08000D2E  C141      1443          exg     D0,D1
                    1444   domul_3:
08000D30  2F02      1445          move.l  D2,-(A7)
08000D32  2401      1446          move.l  D1,D2
08000D34  4842      1447          swap    D2
08000D36  C2C0      1448          mulu    D0,D1
08000D38  C4C0      1449          mulu    D0,D2
08000D3A  4842      1450          swap    D2
08000D3C  4242      1451          clr.w   D2
08000D3E  D282      1452          add.l   D2,D1
08000D40  241F      1453          move.l  (A7)+,D2
08000D42  4E75      1454          rts
                    1455   domul_4:
08000D44  48E7 3000 1456          movem.l D2/D3,-(A7)
08000D48  2401      1457          move.l  D1,D2
08000D4A  2601      1458          move.l  D1,D3
08000D4C  C2C0      1459          mulu    D0,D1
08000D4E  4842      1460          swap    D2
08000D50  C4C0      1461          mulu    D0,D2
08000D52  4840      1462          swap    D0
08000D54  C6C0      1463          mulu    D0,D3
08000D56  D483      1464          add.l   D3,D2
08000D58  4842      1465          swap    D2
08000D5A  4242      1466          clr.w   D2
08000D5C  D282      1467          add.l   D2,D1
08000D5E  4CDF 000C 1468          movem.l (A7)+,D2/D3
08000D62  4E75      1469          rts
                    1470   _gets:
08000D64  4E56 0000 1471          link      A6,#0
08000D68  48E7 3820 1472          movem.l   D2/D3/D4/A2,-(A7)
08000D6C  45F9 0800 1473          lea       _putch.L,A2
08000D70  1514      
08000D72  282E 0008 1474          move.l    8(A6),D4
08000D76  2404      1475          move.l    D4,D2
                    1476   gets_1:
08000D78  4EB9 0800 1477          jsr       _getch
08000D7C  1544      
08000D7E  2600      1478          move.l    D0,D3
08000D80  0C80 0000 1479          cmp.l     #10,D0
08000D84  000A      
08000D86  6700 003C 1480          beq       gets_3
08000D8A  0C83 0000 1481          cmp.l     #8,D3
08000D8E  0008      
08000D90  6712      1482          beq.s     gets_4
08000D92  2042      1483          move.l    D2,A0
08000D94  5282      1484          addq.l    #1,D2
08000D96  1083      1485          move.b    D3,(A0)
08000D98  4883      1486          ext.w     D3
08000D9A  48C3      1487          ext.l     D3
08000D9C  2F03      1488          move.l    D3,-(A7)
08000D9E  4E92      1489          jsr       (A2)
08000DA0  584F      1490          addq.w    #4,A7
08000DA2  601E      1491          bra.s     gets_6
                    1492   gets_4:
08000DA4  B484      1493          cmp.l     D4,D2
08000DA6  631A      1494          bls.s     gets_6
08000DA8  4878 0008 1495          pea       8
08000DAC  4E92      1496          jsr       (A2)
08000DAE  584F      1497          addq.w    #4,A7
08000DB0  4878 0020 1498          pea       32
08000DB4  4E92      1499          jsr       (A2)
08000DB6  584F      1500          addq.w    #4,A7
08000DB8  4878 0008 1501          pea       8
08000DBC  4E92      1502          jsr       (A2)
08000DBE  584F      1503          addq.w    #4,A7
08000DC0  5382      1504          subq.l    #1,D2
                    1505   gets_6:
08000DC2  60B4      1506          bra       gets_1
                    1507   gets_3:
08000DC4  4878 000A 1508          pea       10
08000DC8  4E92      1509          jsr       (A2)
08000DCA  584F      1510          addq.w    #4,A7
08000DCC  2042      1511          move.l    D2,A0
08000DCE  4210      1512          clr.b     (A0)
08000DD0  2004      1513          move.l    D4,D0
08000DD2  4CDF 041C 1514          movem.l   (A7)+,D2/D3/D4/A2
08000DD6  4E5E      1515          unlk      A6
08000DD8  4E75      1516          rts
                    1517   _tolower:
08000DDA  202F 0004 1518          move.l    4(A7),D0
08000DDE  0C80 0000 1519          cmp.l     #'A',D0
08000DE2  0041      
08000DE4  6D0E      1520          blt.s     tolower_1
08000DE6  0C80 0000 1521          cmp.l     #'Z',D0
08000DEA  005A      
08000DEC  6E06      1522          bgt.s     tolower_1
08000DEE  0680 0000 1523          add.l     #$20,D0
08000DF2  0020      
                    1524   tolower_1:
08000DF4  4E75      1525          rts
                    1526   _strcat:
08000DF6  206F 0004 1527          move.l    (4,A7),A0
08000DFA  226F 0008 1528          move.l    (8,A7),A1
08000DFE  2008      1529          move.l    A0,D0
                    1530   strcat_1:
08000E00  4A18      1531          tst.b     (A0)+
08000E02  66FC      1532          bne.s     strcat_1
08000E04  5388      1533          subq.l    #1,A0
                    1534   strcat_2:
08000E06  10D9      1535          move.b    (A1)+,(A0)+
08000E08  66FC      1536          bne.s     strcat_2
08000E0A  4E75      1537          rts
                    1538   _toupper:
08000E0C  202F 0004 1539          move.l    4(A7),D0
08000E10  0C80 0000 1540          cmp.l     #'a',D0
08000E14  0061      
08000E16  6D0E      1541          blt.s     toupper_1
08000E18  0C80 0000 1542          cmp.l     #'z',D0
08000E1C  007A      
08000E1E  6E06      1543          bgt.s     toupper_1
08000E20  0480 0000 1544          sub.l     #$20,D0
08000E24  0020      
                    1545   toupper_1:
08000E26  4E75      1546          rts
                    1547   _ungetch:
08000E28  4E56 0000 1548          link      A6,#0
08000E2C  23EE 0008 1549          move.l    8(A6),__ungetbuf.L
08000E30  0800 1956 
08000E34  202E 0008 1550          move.l    8(A6),D0
08000E38  4E5E      1551          unlk      A6
08000E3A  4E75      1552          rts
                    1553   @doprint_copy:
08000E3C  4E56 0000 1554          link      A6,#0
08000E40  206E 0008 1555          move.l    8(A6),A0
08000E44  4A90      1556          tst.l     (A0)
08000E46  6710      1557          beq.s     @doprint_copy_1
08000E48  202E 000C 1558          move.l    12(A6),D0
08000E4C  206E 0008 1559          move.l    8(A6),A0
08000E50  2250      1560          move.l    (A0),A1
08000E52  5290      1561          addq.l    #1,(A0)
08000E54  1280      1562          move.b    D0,(A1)
08000E56  600C      1563          bra.s     @doprint_copy_2
                    1564   @doprint_copy_1:
08000E58  2F2E 000C 1565          move.l    12(A6),-(A7)
08000E5C  4EB9 0800 1566          jsr       _putch
08000E60  1514      
08000E62  584F      1567          addq.w    #4,A7
                    1568   @doprint_copy_2:
08000E64  4E5E      1569          unlk      A6
08000E66  4E75      1570          rts
                    1571   @doprint_getval:
08000E68  4E56 0000 1572          link      A6,#0
08000E6C  48E7 3000 1573          movem.l   D2/D3,-(A7)
08000E70  262E 0008 1574          move.l    8(A6),D3
08000E74  4282      1575          clr.l     D2
08000E76  2043      1576          move.l    D3,A0
08000E78  2050      1577          move.l    (A0),A0
08000E7A  1010      1578          move.b    (A0),D0
08000E7C  0C00 002A 1579          cmp.b     #42,D0
08000E80  6612      1580          bne.s     @doprint_getval_1
08000E82  206E 000C 1581          move.l    12(A6),A0
08000E86  2250      1582          move.l    (A0),A1
08000E88  5890      1583          addq.l    #4,(A0)
08000E8A  2411      1584          move.l    (A1),D2
08000E8C  2043      1585          move.l    D3,A0
08000E8E  5290      1586          addq.l    #1,(A0)
08000E90  6000 0048 1587          bra       @doprint_getval_5
                    1588   @doprint_getval_1:
08000E94  7001      1589          moveq     #1,D0
08000E96  2043      1590          move.l    D3,A0
08000E98  2050      1591          move.l    (A0),A0
08000E9A  1210      1592          move.b    (A0),D1
08000E9C  4881      1593          ext.w     D1
08000E9E  48C1      1594          ext.l     D1
08000EA0  D081      1595          add.l     D1,D0
08000EA2  41F9 0800 1596          lea       __ctype.L,A0
08000EA6  1848      
08000EA8  1030 0800 1597          move.b    0(A0,D0.L),D0
08000EAC  C03C 0004 1598          and.b     #4,D0
08000EB0  6728      1599          beq.s     @doprint_getval_5
08000EB2  2F02      1600          move.l    D2,-(A7)
08000EB4  4878 000A 1601          pea       10
08000EB8  4EB9 0800 1602          jsr       LMUL
08000EBC  0CD6      
08000EBE  2017      1603          move.l    (A7),D0
08000EC0  504F      1604          addq.w    #8,A7
08000EC2  2043      1605          move.l    D3,A0
08000EC4  2250      1606          move.l    (A0),A1
08000EC6  5290      1607          addq.l    #1,(A0)
08000EC8  1211      1608          move.b    (A1),D1
08000ECA  4881      1609          ext.w     D1
08000ECC  48C1      1610          ext.l     D1
08000ECE  D081      1611          add.l     D1,D0
08000ED0  0480 0000 1612          sub.l     #48,D0
08000ED4  0030      
08000ED6  2400      1613          move.l    D0,D2
08000ED8  60BA      1614          bra       @doprint_getval_1
                    1615   @doprint_getval_5:
08000EDA  2002      1616          move.l    D2,D0
08000EDC  4CDF 000C 1617          movem.l   (A7)+,D2/D3
08000EE0  4E5E      1618          unlk      A6
08000EE2  4E75      1619          rts
                    1620   _doprint:
08000EE4  4E56 FFCC 1621          link      A6,#-52
08000EE8  48E7 3F3C 1622          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000EEC  45EE 0008 1623          lea       8(A6),A2
08000EF0  47F9 0800 1624          lea       @doprint_copy.L,A3
08000EF4  0E3C      
08000EF6  49F9 0800 1625          lea       _ultoa.L,A4
08000EFA  1688      
08000EFC  4286      1626          clr.l     D6
                    1627   doprint_1:
08000EFE  206E 000C 1628          move.l    12(A6),A0
08000F02  4A10      1629          tst.b     (A0)
08000F04  6700 05F0 1630          beq       doprint_3
08000F08  206E 000C 1631          move.l    12(A6),A0
08000F0C  1010      1632          move.b    (A0),D0
08000F0E  0C00 0025 1633          cmp.b     #37,D0
08000F12  671C      1634          beq.s     doprint_4
08000F14  206E 000C 1635          move.l    12(A6),A0
08000F18  52AE 000C 1636          addq.l    #1,12(A6)
08000F1C  1210      1637          move.b    (A0),D1
08000F1E  4881      1638          ext.w     D1
08000F20  48C1      1639          ext.l     D1
08000F22  2F01      1640          move.l    D1,-(A7)
08000F24  2F0A      1641          move.l    A2,-(A7)
08000F26  4E93      1642          jsr       (A3)
08000F28  504F      1643          addq.w    #8,A7
08000F2A  5286      1644          addq.l    #1,D6
08000F2C  6000 05C4 1645          bra       doprint_2
                    1646   doprint_4:
08000F30  52AE 000C 1647          addq.l    #1,12(A6)
08000F34  422E FFD3 1648          clr.b     -45(A6)
08000F38  422E FFD2 1649          clr.b     -46(A6)
08000F3C  422E FFD0 1650          clr.b     -48(A6)
08000F40  422E FFCF 1651          clr.b     -49(A6)
08000F44  422E FFCE 1652          clr.b     -50(A6)
08000F48  422E FFCD 1653          clr.b     -51(A6)
08000F4C  42AE FFFC 1654          clr.l     -4(A6)
08000F50  7AFF      1655          moveq     #-1,D5
08000F52  41EE FFDC 1656          lea       -36(A6),A0
08000F56  2608      1657          move.l    A0,D3
08000F58  2408      1658          move.l    A0,D2
                    1659   doprint_6:
08000F5A  206E 000C 1660          move.l    12(A6),A0
08000F5E  1010      1661          move.b    (A0),D0
08000F60  4880      1662          ext.w     D0
08000F62  48C0      1663          ext.l     D0
08000F64  0C80 0000 1664          cmp.l     #43,D0
08000F68  002B      
08000F6A  6730      1665          beq.s     doprint_12
08000F6C  6E18      1666          bgt.s     doprint_15
08000F6E  0C80 0000 1667          cmp.l     #35,D0
08000F72  0023      
08000F74  6700 003E 1668          beq       doprint_14
08000F78  6E00 0046 1669          bgt       doprint_9
08000F7C  0C80 0000 1670          cmp.l     #32,D0
08000F80  0020      
08000F82  6724      1671          beq.s     doprint_13
08000F84  603A      1672          bra.s     doprint_9
                    1673   doprint_15:
08000F86  0C80 0000 1674          cmp.l     #45,D0
08000F8A  002D      
08000F8C  6702      1675          beq.s     doprint_11
08000F8E  6030      1676          bra.s     doprint_9
                    1677   doprint_11:
08000F90  1D7C 0001 1678          move.b    #1,-51(A6)
08000F94  FFCD      
08000F96  52AE 000C 1679          addq.l    #1,12(A6)
08000F9A  6026      1680          bra.s     doprint_7
                    1681   doprint_12:
08000F9C  1D7C 0001 1682          move.b    #1,-50(A6)
08000FA0  FFCE      
08000FA2  52AE 000C 1683          addq.l    #1,12(A6)
08000FA6  601A      1684          bra.s     doprint_7
                    1685   doprint_13:
08000FA8  1D7C 0001 1686          move.b    #1,-49(A6)
08000FAC  FFCF      
08000FAE  52AE 000C 1687          addq.l    #1,12(A6)
08000FB2  600E      1688          bra.s     doprint_7
                    1689   doprint_14:
08000FB4  1D7C 0001 1690          move.b    #1,-48(A6)
08000FB8  FFD0      
08000FBA  52AE 000C 1691          addq.l    #1,12(A6)
08000FBE  6002      1692          bra.s     doprint_7
                    1693   doprint_9:
08000FC0  6002      1694          bra.s     doprint_8
                    1695   doprint_7:
08000FC2  6096      1696          bra       doprint_6
                    1697   doprint_8:
08000FC4  206E 000C 1698          move.l    12(A6),A0
08000FC8  1010      1699          move.b    (A0),D0
08000FCA  0C00 0030 1700          cmp.b     #48,D0
08000FCE  660A      1701          bne.s     doprint_16
08000FD0  52AE 000C 1702          addq.l    #1,12(A6)
08000FD4  1D7C 0001 1703          move.b    #1,-46(A6)
08000FD8  FFD2      
                    1704   doprint_16:
08000FDA  486E 0010 1705          pea       16(A6)
08000FDE  486E 000C 1706          pea       12(A6)
08000FE2  4EB9 0800 1707          jsr       @doprint_getval
08000FE6  0E68      
08000FE8  504F      1708          addq.w    #8,A7
08000FEA  2A40      1709          move.l    D0,A5
08000FEC  206E 000C 1710          move.l    12(A6),A0
08000FF0  1010      1711          move.b    (A0),D0
08000FF2  0C00 002E 1712          cmp.b     #46,D0
08000FF6  6616      1713          bne.s     doprint_18
08000FF8  52AE 000C 1714          addq.l    #1,12(A6)
08000FFC  486E 0010 1715          pea       16(A6)
08001000  486E 000C 1716          pea       12(A6)
08001004  4EB9 0800 1717          jsr       @doprint_getval
08001008  0E68      
0800100A  504F      1718          addq.w    #8,A7
0800100C  2A00      1719          move.l    D0,D5
                    1720   doprint_18:
0800100E  206E 000C 1721          move.l    12(A6),A0
08001012  1010      1722          move.b    (A0),D0
08001014  0C00 006C 1723          cmp.b     #108,D0
08001018  660A      1724          bne.s     doprint_20
0800101A  52AE 000C 1725          addq.l    #1,12(A6)
0800101E  1D7C 0001 1726          move.b    #1,-45(A6)
08001022  FFD3      
                    1727   doprint_20:
08001024  206E 000C 1728          move.l    12(A6),A0
08001028  1010      1729          move.b    (A0),D0
0800102A  4880      1730          ext.w     D0
0800102C  48C0      1731          ext.l     D0
0800102E  0C80 0000 1732          cmp.l     #111,D0
08001032  006F      
08001034  6700 00D8 1733          beq       doprint_27
08001038  6E34      1734          bgt.s     doprint_33
0800103A  0C80 0000 1735          cmp.l     #100,D0
0800103E  0064      
08001040  6700 0054 1736          beq       doprint_24
08001044  6E1C      1737          bgt.s     doprint_34
08001046  0C80 0000 1738          cmp.l     #99,D0
0800104A  0063      
0800104C  6700 0130 1739          beq       doprint_30
08001050  6E00 0174 1740          bgt       doprint_22
08001054  0C80 0000 1741          cmp.l     #88,D0
08001058  0058      
0800105A  6700 00EA 1742          beq       doprint_28
0800105E  6000 0166 1743          bra       doprint_22
                    1744   doprint_34:
08001062  0C80 0000 1745          cmp.l     #105,D0
08001066  0069      
08001068  672C      1746          beq.s     doprint_24
0800106A  6000 015A 1747          bra       doprint_22
                    1748   doprint_33:
0800106E  0C80 0000 1749          cmp.l     #117,D0
08001072  0075      
08001074  6700 0060 1750          beq       doprint_26
08001078  6E0E      1751          bgt.s     doprint_35
0800107A  0C80 0000 1752          cmp.l     #115,D0
0800107E  0073      
08001080  6700 0124 1753          beq       doprint_31
08001084  6000 0140 1754          bra       doprint_22
                    1755   doprint_35:
08001088  0C80 0000 1756          cmp.l     #120,D0
0800108C  0078      
0800108E  6700 00B6 1757          beq       doprint_28
08001092  6000 0132 1758          bra       doprint_22
                    1759   doprint_24:
08001096  4A2E FFD3 1760          tst.b     -45(A6)
0800109A  671C      1761          beq.s     doprint_36
0800109C  4878 000A 1762          pea       10
080010A0  2F03      1763          move.l    D3,-(A7)
080010A2  206E 0010 1764          move.l    16(A6),A0
080010A6  58AE 0010 1765          addq.l    #4,16(A6)
080010AA  2F10      1766          move.l    (A0),-(A7)
080010AC  4EB9 0800 1767          jsr       _ltoa
080010B0  1600      
080010B2  DEFC 000C 1768          add.w     #12,A7
080010B6  601A      1769          bra.s     doprint_37
                    1770   doprint_36:
080010B8  4878 000A 1771          pea       10
080010BC  2F03      1772          move.l    D3,-(A7)
080010BE  206E 0010 1773          move.l    16(A6),A0
080010C2  58AE 0010 1774          addq.l    #4,16(A6)
080010C6  2F10      1775          move.l    (A0),-(A7)
080010C8  4EB9 0800 1776          jsr       _ltoa
080010CC  1600      
080010CE  DEFC 000C 1777          add.w     #12,A7
                    1778   doprint_37:
080010D2  6000 0100 1779          bra       doprint_23
                    1780   doprint_26:
080010D6  4A2E FFD3 1781          tst.b     -45(A6)
080010DA  6718      1782          beq.s     doprint_38
080010DC  4878 000A 1783          pea       10
080010E0  2F03      1784          move.l    D3,-(A7)
080010E2  206E 0010 1785          move.l    16(A6),A0
080010E6  58AE 0010 1786          addq.l    #4,16(A6)
080010EA  2F10      1787          move.l    (A0),-(A7)
080010EC  4E94      1788          jsr       (A4)
080010EE  DEFC 000C 1789          add.w     #12,A7
080010F2  6016      1790          bra.s     doprint_39
                    1791   doprint_38:
080010F4  4878 000A 1792          pea       10
080010F8  2F03      1793          move.l    D3,-(A7)
080010FA  206E 0010 1794          move.l    16(A6),A0
080010FE  58AE 0010 1795          addq.l    #4,16(A6)
08001102  2F10      1796          move.l    (A0),-(A7)
08001104  4E94      1797          jsr       (A4)
08001106  DEFC 000C 1798          add.w     #12,A7
                    1799   doprint_39:
0800110A  6000 00C8 1800          bra       doprint_23
                    1801   doprint_27:
0800110E  4A2E FFD3 1802          tst.b     -45(A6)
08001112  6718      1803          beq.s     doprint_40
08001114  4878 0008 1804          pea       8
08001118  2F03      1805          move.l    D3,-(A7)
0800111A  206E 0010 1806          move.l    16(A6),A0
0800111E  58AE 0010 1807          addq.l    #4,16(A6)
08001122  2F10      1808          move.l    (A0),-(A7)
08001124  4E94      1809          jsr       (A4)
08001126  DEFC 000C 1810          add.w     #12,A7
0800112A  6016      1811          bra.s     doprint_41
                    1812   doprint_40:
0800112C  4878 0008 1813          pea       8
08001130  2F03      1814          move.l    D3,-(A7)
08001132  206E 0010 1815          move.l    16(A6),A0
08001136  58AE 0010 1816          addq.l    #4,16(A6)
0800113A  2F10      1817          move.l    (A0),-(A7)
0800113C  4E94      1818          jsr       (A4)
0800113E  DEFC 000C 1819          add.w     #12,A7
                    1820   doprint_41:
08001142  6000 0090 1821          bra       doprint_23
                    1822   doprint_28:
08001146  4A2E FFD3 1823          tst.b     -45(A6)
0800114A  6718      1824          beq.s     doprint_42
0800114C  4878 0010 1825          pea       16
08001150  2F03      1826          move.l    D3,-(A7)
08001152  206E 0010 1827          move.l    16(A6),A0
08001156  58AE 0010 1828          addq.l    #4,16(A6)
0800115A  2F10      1829          move.l    (A0),-(A7)
0800115C  4E94      1830          jsr       (A4)
0800115E  DEFC 000C 1831          add.w     #12,A7
08001162  6016      1832          bra.s     doprint_43
                    1833   doprint_42:
08001164  4878 0010 1834          pea       16
08001168  2F03      1835          move.l    D3,-(A7)
0800116A  206E 0010 1836          move.l    16(A6),A0
0800116E  58AE 0010 1837          addq.l    #4,16(A6)
08001172  2F10      1838          move.l    (A0),-(A7)
08001174  4E94      1839          jsr       (A4)
08001176  DEFC 000C 1840          add.w     #12,A7
                    1841   doprint_43:
0800117A  6000 0058 1842          bra       doprint_23
                    1843   doprint_30:
0800117E  206E 0010 1844          move.l    16(A6),A0
08001182  58AE 0010 1845          addq.l    #4,16(A6)
08001186  2010      1846          move.l    (A0),D0
08001188  2042      1847          move.l    D2,A0
0800118A  5282      1848          addq.l    #1,D2
0800118C  1080      1849          move.b    D0,(A0)
0800118E  2042      1850          move.l    D2,A0
08001190  4210      1851          clr.b     (A0)
08001192  200D      1852          move.l    A5,D0
08001194  6704      1853          beq.s     doprint_44
08001196  200D      1854          move.l    A5,D0
08001198  6006      1855          bra.s     doprint_45
                    1856   doprint_44:
0800119A  7001      1857          moveq     #1,D0
0800119C  4880      1858          ext.w     D0
0800119E  48C0      1859          ext.l     D0
                    1860   doprint_45:
080011A0  2A00      1861          move.l    D0,D5
080011A2  6000 0030 1862          bra       doprint_23
                    1863   doprint_31:
080011A6  206E 0010 1864          move.l    16(A6),A0
080011AA  58AE 0010 1865          addq.l    #4,16(A6)
080011AE  2610      1866          move.l    (A0),D3
080011B0  0C85 FFFF 1867          cmp.l     #-1,D5
080011B4  FFFF      
080011B6  660C      1868          bne.s     doprint_46
080011B8  2F03      1869          move.l    D3,-(A7)
080011BA  4EB9 0800 1870          jsr       _strlen
080011BE  16EE      
080011C0  584F      1871          addq.w    #4,A7
080011C2  2A00      1872          move.l    D0,D5
                    1873   doprint_46:
080011C4  600E      1874          bra.s     doprint_23
                    1875   doprint_22:
080011C6  206E 000C 1876          move.l    12(A6),A0
080011CA  2242      1877          move.l    D2,A1
080011CC  5282      1878          addq.l    #1,D2
080011CE  1290      1879          move.b    (A0),(A1)
080011D0  2042      1880          move.l    D2,A0
080011D2  4210      1881          clr.b     (A0)
                    1882   doprint_23:
080011D4  2F03      1883          move.l    D3,-(A7)
080011D6  4EB9 0800 1884          jsr       _strlen
080011DA  16EE      
080011DC  584F      1885          addq.w    #4,A7
080011DE  1800      1886          move.b    D0,D4
080011E0  206E 000C 1887          move.l    12(A6),A0
080011E4  1010      1888          move.b    (A0),D0
080011E6  0C00 0073 1889          cmp.b     #115,D0
080011EA  661C      1890          bne.s     doprint_48
080011EC  0C85 0000 1891          cmp.l     #0,D5
080011F0  0000      
080011F2  6D14      1892          blt.s     doprint_48
080011F4  4884      1893          ext.w     D4
080011F6  48C4      1894          ext.l     D4
080011F8  B885      1895          cmp.l     D5,D4
080011FA  6F04      1896          ble.s     doprint_50
080011FC  2005      1897          move.l    D5,D0
080011FE  6006      1898          bra.s     doprint_51
                    1899   doprint_50:
08001200  1004      1900          move.b    D4,D0
08001202  4880      1901          ext.w     D0
08001204  48C0      1902          ext.l     D0
                    1903   doprint_51:
08001206  1800      1904          move.b    D0,D4
                    1905   doprint_48:
08001208  206E 000C 1906          move.l    12(A6),A0
0800120C  1010      1907          move.b    (A0),D0
0800120E  0C00 0058 1908          cmp.b     #88,D0
08001212  6600 0028 1909          bne       doprint_56
08001216  41EE FFDC 1910          lea       -36(A6),A0
0800121A  2408      1911          move.l    A0,D2
                    1912   doprint_54:
0800121C  2042      1913          move.l    D2,A0
0800121E  4A10      1914          tst.b     (A0)
08001220  671A      1915          beq.s     doprint_56
08001222  2042      1916          move.l    D2,A0
08001224  1210      1917          move.b    (A0),D1
08001226  4881      1918          ext.w     D1
08001228  48C1      1919          ext.l     D1
0800122A  2F01      1920          move.l    D1,-(A7)
0800122C  4EB9 0800 1921          jsr       _toupper
08001230  0E0C      
08001232  584F      1922          addq.w    #4,A7
08001234  2042      1923          move.l    D2,A0
08001236  1080      1924          move.b    D0,(A0)
08001238  5282      1925          addq.l    #1,D2
0800123A  60E0      1926          bra       doprint_54
                    1927   doprint_56:
0800123C  7E00      1928          moveq     #0,D7
0800123E  41EE FFD4 1929          lea       -44(A6),A0
08001242  2408      1930          move.l    A0,D2
08001244  206E 000C 1931          move.l    12(A6),A0
08001248  1010      1932          move.b    (A0),D0
0800124A  0C00 0064 1933          cmp.b     #100,D0
0800124E  670E      1934          beq.s     doprint_59
08001250  206E 000C 1935          move.l    12(A6),A0
08001254  1010      1936          move.b    (A0),D0
08001256  0C00 0069 1937          cmp.b     #105,D0
0800125A  6600 0068 1938          bne       doprint_65
                    1939   doprint_59:
0800125E  102E FFCE 1940          move.b    -50(A6),D0
08001262  4880      1941          ext.w     D0
08001264  48C0      1942          ext.l     D0
08001266  4A80      1943          tst.l     D0
08001268  660C      1944          bne.s     doprint_62
0800126A  2043      1945          move.l    D3,A0
0800126C  1010      1946          move.b    (A0),D0
0800126E  0C00 002D 1947          cmp.b     #45,D0
08001272  6600 0028 1948          bne       doprint_60
                    1949   doprint_62:
08001276  2043      1950          move.l    D3,A0
08001278  1010      1951          move.b    (A0),D0
0800127A  0C00 002D 1952          cmp.b     #45,D0
0800127E  660E      1953          bne.s     doprint_63
08001280  2043      1954          move.l    D3,A0
08001282  5283      1955          addq.l    #1,D3
08001284  2242      1956          move.l    D2,A1
08001286  5282      1957          addq.l    #1,D2
08001288  1290      1958          move.b    (A0),(A1)
0800128A  5304      1959          subq.b    #1,D4
0800128C  6008      1960          bra.s     doprint_64
                    1961   doprint_63:
0800128E  2042      1962          move.l    D2,A0
08001290  5282      1963          addq.l    #1,D2
08001292  10BC 002B 1964          move.b    #43,(A0)
                    1965   doprint_64:
08001296  5287      1966          addq.l    #1,D7
08001298  6000 002A 1967          bra       doprint_65
                    1968   doprint_60:
0800129C  4A2E FFCF 1969          tst.b     -49(A6)
080012A0  6722      1970          beq.s     doprint_65
080012A2  2043      1971          move.l    D3,A0
080012A4  1010      1972          move.b    (A0),D0
080012A6  0C00 002D 1973          cmp.b     #45,D0
080012AA  660E      1974          bne.s     doprint_67
080012AC  2043      1975          move.l    D3,A0
080012AE  5283      1976          addq.l    #1,D3
080012B0  2242      1977          move.l    D2,A1
080012B2  5282      1978          addq.l    #1,D2
080012B4  1290      1979          move.b    (A0),(A1)
080012B6  5304      1980          subq.b    #1,D4
080012B8  6008      1981          bra.s     doprint_68
                    1982   doprint_67:
080012BA  2042      1983          move.l    D2,A0
080012BC  5282      1984          addq.l    #1,D2
080012BE  10BC 0020 1985          move.b    #32,(A0)
                    1986   doprint_68:
080012C2  5287      1987          addq.l    #1,D7
                    1988   doprint_65:
080012C4  4A2E FFD0 1989          tst.b     -48(A6)
080012C8  6700 005A 1990          beq       doprint_77
080012CC  206E 000C 1991          move.l    12(A6),A0
080012D0  1010      1992          move.b    (A0),D0
080012D2  4880      1993          ext.w     D0
080012D4  48C0      1994          ext.l     D0
080012D6  0C80 0000 1995          cmp.l     #111,D0
080012DA  006F      
080012DC  671A      1996          beq.s     doprint_73
080012DE  6E0C      1997          bgt.s     doprint_76
080012E0  0C80 0000 1998          cmp.l     #88,D0
080012E4  0058      
080012E6  6710      1999          beq.s     doprint_73
080012E8  6000 003A 2000          bra       doprint_77
                    2001   doprint_76:
080012EC  0C80 0000 2002          cmp.l     #120,D0
080012F0  0078      
080012F2  6704      2003          beq.s     doprint_73
080012F4  6000 002E 2004          bra       doprint_77
                    2005   doprint_73:
080012F8  2042      2006          move.l    D2,A0
080012FA  5282      2007          addq.l    #1,D2
080012FC  10BC 0030 2008          move.b    #48,(A0)
08001300  5287      2009          addq.l    #1,D7
08001302  206E 000C 2010          move.l    12(A6),A0
08001306  1010      2011          move.b    (A0),D0
08001308  0C00 0078 2012          cmp.b     #120,D0
0800130C  670C      2013          beq.s     doprint_79
0800130E  206E 000C 2014          move.l    12(A6),A0
08001312  1010      2015          move.b    (A0),D0
08001314  0C00 0058 2016          cmp.b     #88,D0
08001318  660A      2017          bne.s     doprint_77
                    2018   doprint_79:
0800131A  2042      2019          move.l    D2,A0
0800131C  5282      2020          addq.l    #1,D2
0800131E  10BC 0078 2021          move.b    #120,(A0)
08001322  5287      2022          addq.l    #1,D7
                    2023   doprint_77:
08001324  2042      2024          move.l    D2,A0
08001326  4210      2025          clr.b     (A0)
08001328  206E 000C 2026          move.l    12(A6),A0
0800132C  1010      2027          move.b    (A0),D0
0800132E  4880      2028          ext.w     D0
08001330  48C0      2029          ext.l     D0
08001332  0C80 0000 2030          cmp.l     #105,D0
08001336  0069      
08001338  6700 0076 2031          beq       doprint_82
0800133C  6E42      2032          bgt.s     doprint_93
0800133E  0C80 0000 2033          cmp.l     #99,D0
08001342  0063      
08001344  6700 0084 2034          beq       doprint_96
08001348  6E1C      2035          bgt.s     doprint_94
0800134A  0C80 0000 2036          cmp.l     #88,D0
0800134E  0058      
08001350  6700 005E 2037          beq       doprint_82
08001354  6E00 0184 2038          bgt       doprint_80
08001358  0C80 0000 2039          cmp.l     #69,D0
0800135C  0045      
0800135E  6700 0050 2040          beq       doprint_82
08001362  6000 0176 2041          bra       doprint_80
                    2042   doprint_94:
08001366  0C80 0000 2043          cmp.l     #101,D0
0800136A  0065      
0800136C  6700 0042 2044          beq       doprint_82
08001370  6E00 0168 2045          bgt       doprint_80
08001374  0C80 0000 2046          cmp.l     #100,D0
08001378  0064      
0800137A  6734      2047          beq.s     doprint_82
0800137C  6000 015C 2048          bra       doprint_80
                    2049   doprint_93:
08001380  0C80 0000 2050          cmp.l     #117,D0
08001384  0075      
08001386  6728      2051          beq.s     doprint_82
08001388  6E1A      2052          bgt.s     doprint_95
0800138A  0C80 0000 2053          cmp.l     #115,D0
0800138E  0073      
08001390  6700 0038 2054          beq       doprint_96
08001394  6E00 0144 2055          bgt       doprint_80
08001398  0C80 0000 2056          cmp.l     #111,D0
0800139C  006F      
0800139E  6710      2057          beq.s     doprint_82
080013A0  6000 0138 2058          bra       doprint_80
                    2059   doprint_95:
080013A4  0C80 0000 2060          cmp.l     #120,D0
080013A8  0078      
080013AA  6704      2061          beq.s     doprint_82
080013AC  6000 012C 2062          bra       doprint_80
                    2063   doprint_82:
080013B0  4A2E FFD2 2064          tst.b     -46(A6)
080013B4  6714      2065          beq.s     doprint_96
080013B6  4A2E FFCD 2066          tst.b     -51(A6)
080013BA  660E      2067          bne.s     doprint_96
080013BC  200D      2068          move.l    A5,D0
080013BE  9087      2069          sub.l     D7,D0
080013C0  4884      2070          ext.w     D4
080013C2  48C4      2071          ext.l     D4
080013C4  9084      2072          sub.l     D4,D0
080013C6  2D40 FFFC 2073          move.l    D0,-4(A6)
                    2074   doprint_96:
080013CA  202E FFFC 2075          move.l    -4(A6),D0
080013CE  0C80 0000 2076          cmp.l     #0,D0
080013D2  0000      
080013D4  6C04      2077          bge.s     doprint_98
080013D6  42AE FFFC 2078          clr.l     -4(A6)
                    2079   doprint_98:
080013DA  4A2E FFCD 2080          tst.b     -51(A6)
080013DE  6600 0030 2081          bne       doprint_104
080013E2  1004      2082          move.b    D4,D0
080013E4  4880      2083          ext.w     D0
080013E6  48C0      2084          ext.l     D0
080013E8  D0AE FFFC 2085          add.l     -4(A6),D0
080013EC  D087      2086          add.l     D7,D0
080013EE  1D40 FFD1 2087          move.b    D0,-47(A6)
                    2088   doprint_102:
080013F2  102E FFD1 2089          move.b    -47(A6),D0
080013F6  4880      2090          ext.w     D0
080013F8  48C0      2091          ext.l     D0
080013FA  220D      2092          move.l    A5,D1
080013FC  534D      2093          subq.w    #1,A5
080013FE  B081      2094          cmp.l     D1,D0
08001400  6C0E      2095          bge.s     doprint_104
08001402  4878 0020 2096          pea       32
08001406  2F0A      2097          move.l    A2,-(A7)
08001408  4E93      2098          jsr       (A3)
0800140A  504F      2099          addq.w    #8,A7
0800140C  5286      2100          addq.l    #1,D6
0800140E  60E2      2101          bra       doprint_102
                    2102   doprint_104:
08001410  41EE FFD4 2103          lea       -44(A6),A0
08001414  2408      2104          move.l    A0,D2
                    2105   doprint_105:
08001416  2042      2106          move.l    D2,A0
08001418  4A10      2107          tst.b     (A0)
0800141A  6716      2108          beq.s     doprint_107
0800141C  2042      2109          move.l    D2,A0
0800141E  5282      2110          addq.l    #1,D2
08001420  1210      2111          move.b    (A0),D1
08001422  4881      2112          ext.w     D1
08001424  48C1      2113          ext.l     D1
08001426  2F01      2114          move.l    D1,-(A7)
08001428  2F0A      2115          move.l    A2,-(A7)
0800142A  4E93      2116          jsr       (A3)
0800142C  504F      2117          addq.w    #8,A7
0800142E  5286      2118          addq.l    #1,D6
08001430  60E4      2119          bra       doprint_105
                    2120   doprint_107:
08001432  202E FFFC 2121          move.l    -4(A6),D0
08001436  1D40 FFD1 2122          move.b    D0,-47(A6)
                    2123   doprint_108:
0800143A  102E FFD1 2124          move.b    -47(A6),D0
0800143E  532E FFD1 2125          subq.b    #1,-47(A6)
08001442  4A00      2126          tst.b     D0
08001444  670E      2127          beq.s     doprint_110
08001446  4878 0030 2128          pea       48
0800144A  2F0A      2129          move.l    A2,-(A7)
0800144C  4E93      2130          jsr       (A3)
0800144E  504F      2131          addq.w    #8,A7
08001450  5286      2132          addq.l    #1,D6
08001452  60E6      2133          bra       doprint_108
                    2134   doprint_110:
08001454  2043      2135          move.l    D3,A0
08001456  4A10      2136          tst.b     (A0)
08001458  6700 0048 2137          beq       doprint_113
0800145C  206E 000C 2138          move.l    12(A6),A0
08001460  1010      2139          move.b    (A0),D0
08001462  4880      2140          ext.w     D0
08001464  48C0      2141          ext.l     D0
08001466  0C80 0000 2142          cmp.l     #115,D0
0800146A  0073      
0800146C  670C      2143          beq.s     doprint_116
0800146E  6E18      2144          bgt.s     doprint_119
08001470  0C80 0000 2145          cmp.l     #99,D0
08001474  0063      
08001476  6702      2146          beq.s     doprint_116
08001478  600E      2147          bra.s     doprint_119
                    2148   doprint_116:
0800147A  2005      2149          move.l    D5,D0
0800147C  5385      2150          subq.l    #1,D5
0800147E  0C80 0000 2151          cmp.l     #0,D0
08001482  0000      
08001484  6E02      2152          bgt.s     doprint_119
08001486  6016      2153          bra.s     doprint_115
                    2154   doprint_119:
08001488  2043      2155          move.l    D3,A0
0800148A  5283      2156          addq.l    #1,D3
0800148C  1210      2157          move.b    (A0),D1
0800148E  4881      2158          ext.w     D1
08001490  48C1      2159          ext.l     D1
08001492  2F01      2160          move.l    D1,-(A7)
08001494  2F0A      2161          move.l    A2,-(A7)
08001496  4E93      2162          jsr       (A3)
08001498  504F      2163          addq.w    #8,A7
0800149A  5286      2164          addq.l    #1,D6
0800149C  6002      2165          bra.s     doprint_112
                    2166   doprint_115:
0800149E  6002      2167          bra.s     doprint_113
                    2168   doprint_112:
080014A0  60B2      2169          bra       doprint_110
                    2170   doprint_113:
080014A2  4A2E FFCD 2171          tst.b     -51(A6)
080014A6  6700 0030 2172          beq       doprint_125
080014AA  1004      2173          move.b    D4,D0
080014AC  4880      2174          ext.w     D0
080014AE  48C0      2175          ext.l     D0
080014B0  D0AE FFFC 2176          add.l     -4(A6),D0
080014B4  D087      2177          add.l     D7,D0
080014B6  1D40 FFD1 2178          move.b    D0,-47(A6)
                    2179   doprint_123:
080014BA  102E FFD1 2180          move.b    -47(A6),D0
080014BE  4880      2181          ext.w     D0
080014C0  48C0      2182          ext.l     D0
080014C2  220D      2183          move.l    A5,D1
080014C4  534D      2184          subq.w    #1,A5
080014C6  B081      2185          cmp.l     D1,D0
080014C8  6C0E      2186          bge.s     doprint_125
080014CA  4878 0020 2187          pea       32
080014CE  2F0A      2188          move.l    A2,-(A7)
080014D0  4E93      2189          jsr       (A3)
080014D2  504F      2190          addq.w    #8,A7
080014D4  5386      2191          subq.l    #1,D6
080014D6  60E2      2192          bra       doprint_123
                    2193   doprint_125:
080014D8  6014      2194          bra.s     doprint_81
                    2195   doprint_80:
080014DA  206E 000C 2196          move.l    12(A6),A0
080014DE  1210      2197          move.b    (A0),D1
080014E0  4881      2198          ext.w     D1
080014E2  48C1      2199          ext.l     D1
080014E4  2F01      2200          move.l    D1,-(A7)
080014E6  2F0A      2201          move.l    A2,-(A7)
080014E8  4E93      2202          jsr       (A3)
080014EA  504F      2203          addq.w    #8,A7
080014EC  5286      2204          addq.l    #1,D6
                    2205   doprint_81:
080014EE  52AE 000C 2206          addq.l    #1,12(A6)
                    2207   doprint_2:
080014F2  6000 FA0A 2208          bra       doprint_1
                    2209   doprint_3:
080014F6  4A92      2210          tst.l     (A2)
080014F8  6710      2211          beq.s     doprint_126
080014FA  4201      2212          clr.b     D1
080014FC  C2BC 0000 2213          and.l     #255,D1
08001500  00FF      
08001502  2F01      2214          move.l    D1,-(A7)
08001504  2F0A      2215          move.l    A2,-(A7)
08001506  4E93      2216          jsr       (A3)
08001508  504F      2217          addq.w    #8,A7
                    2218   doprint_126:
0800150A  2006      2219          move.l    D6,D0
0800150C  4CDF 3CFC 2220          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08001510  4E5E      2221          unlk      A6
08001512  4E75      2222          rts
                    2223   _putch:
08001514  4E56 0000 2224          link      A6,#0
08001518  2F02      2225          move.l    D2,-(A7)
0800151A  242E 0008 2226          move.l    8(A6),D2
0800151E  0C82 0000 2227          cmp.l     #10,D2
08001522  000A      
08001524  660C      2228          bne.s     putch_1
08001526  4878 000D 2229          pea       13
0800152A  4EB9 0800 2230          jsr       __putch
0800152E  006A      
08001530  584F      2231          addq.w    #4,A7
                    2232   putch_1:
08001532  2F02      2233          move.l    D2,-(A7)
08001534  4EB9 0800 2234          jsr       __putch
08001538  006A      
0800153A  584F      2235          addq.w    #4,A7
0800153C  2002      2236          move.l    D2,D0
0800153E  241F      2237          move.l    (A7)+,D2
08001540  4E5E      2238          unlk      A6
08001542  4E75      2239          rts
                    2240   _getch:
08001544  2F02      2241          move.l    D2,-(A7)
08001546  2439 0800 2242          move.l    __ungetbuf.L,D2
0800154A  1956      
0800154C  2039 0800 2243          move.l    __ungetbuf.L,D0
08001550  1956      
08001552  0C80 FFFF 2244          cmp.l     #-1,D0
08001556  FFFF      
08001558  670C      2245          beq.s     getch_1
0800155A  23FC FFFF 2246          move.l    #-1,__ungetbuf.L
0800155E  FFFF 0800 
08001562  1956      
08001564  6012      2247          bra.s     getch_3
                    2248   getch_1:
08001566  4EB9 0800 2249          jsr       __getch
0800156A  003E      
0800156C  2400      2250          move.l    D0,D2
0800156E  0C80 0000 2251          cmp.l     #13,D0
08001572  000D      
08001574  6602      2252          bne.s     getch_3
08001576  740A      2253          moveq     #10,D2
                    2254   getch_3:
08001578  2002      2255          move.l    D2,D0
0800157A  241F      2256          move.l    (A7)+,D2
0800157C  4E75      2257          rts
                    2258   @itoa_convert:
0800157E  4E56 0000 2259          link      A6,#0
08001582  48E7 3C00 2260          movem.l   D2/D3/D4/D5,-(A7)
08001586  242E 0008 2261          move.l    8(A6),D2
0800158A  262E 0010 2262          move.l    16(A6),D3
0800158E  2A2E 000C 2263          move.l    12(A6),D5
08001592  2F05      2264          move.l    D5,-(A7)
08001594  2F03      2265          move.l    D3,-(A7)
08001596  4EB9 0800 2266          jsr       ULDIV
0800159A  1710      
0800159C  202F 0004 2267          move.l    4(A7),D0
080015A0  504F      2268          addq.w    #8,A7
080015A2  2800      2269          move.l    D0,D4
080015A4  BA83      2270          cmp.l     D3,D5
080015A6  6520      2271          blo.s     @itoa_convert_1
080015A8  2F03      2272          move.l    D3,-(A7)
080015AA  2F05      2273          move.l    D5,-(A7)
080015AC  2F03      2274          move.l    D3,-(A7)
080015AE  4EB9 0800 2275          jsr       ULDIV
080015B2  1710      
080015B4  2217      2276          move.l    (A7),D1
080015B6  504F      2277          addq.w    #8,A7
080015B8  2F01      2278          move.l    D1,-(A7)
080015BA  2F02      2279          move.l    D2,-(A7)
080015BC  4EB9 0800 2280          jsr       @itoa_convert
080015C0  157E      
080015C2  DEFC 000C 2281          add.w     #12,A7
080015C6  2400      2282          move.l    D0,D2
                    2283   @itoa_convert_1:
080015C8  0C84 0000 2284          cmp.l     #9,D4
080015CC  0009      
080015CE  6E0E      2285          bgt.s     @itoa_convert_3
080015D0  2004      2286          move.l    D4,D0
080015D2  7230      2287          moveq     #48,D1
080015D4  C2BC 0000 2288          and.l     #255,D1
080015D8  00FF      
080015DA  D081      2289          add.l     D1,D0
080015DC  6012      2290          bra.s     @itoa_convert_4
                    2291   @itoa_convert_3:
080015DE  2004      2292          move.l    D4,D0
080015E0  7261      2293          moveq     #97,D1
080015E2  C2BC 0000 2294          and.l     #255,D1
080015E6  00FF      
080015E8  D081      2295          add.l     D1,D0
080015EA  0480 0000 2296          sub.l     #10,D0
080015EE  000A      
                    2297   @itoa_convert_4:
080015F0  2042      2298          move.l    D2,A0
080015F2  1080      2299          move.b    D0,(A0)
080015F4  2002      2300          move.l    D2,D0
080015F6  5280      2301          addq.l    #1,D0
080015F8  4CDF 003C 2302          movem.l   (A7)+,D2/D3/D4/D5
080015FC  4E5E      2303          unlk      A6
080015FE  4E75      2304          rts
                    2305   _ltoa:
08001600  4E56 0000 2306          link      A6,#0
08001604  48E7 3C00 2307          movem.l   D2/D3/D4/D5,-(A7)
08001608  242E 0008 2308          move.l    8(A6),D2
0800160C  262E 000C 2309          move.l    12(A6),D3
08001610  2A2E 0010 2310          move.l    16(A6),D5
08001614  2803      2311          move.l    D3,D4
08001616  0C85 0000 2312          cmp.l     #2,D5
0800161A  0002      
0800161C  6D08      2313          blt.s     ltoa_3
0800161E  0C85 0000 2314          cmp.l     #36,D5
08001622  0024      
08001624  6F06      2315          ble.s     ltoa_1
                    2316   ltoa_3:
08001626  2003      2317          move.l    D3,D0
08001628  6000 0056 2318          bra       ltoa_4
                    2319   ltoa_1:
0800162C  0C85 0000 2320          cmp.l     #10,D5
08001630  000A      
08001632  6600 0034 2321          bne       ltoa_5
08001636  0C82 0000 2322          cmp.l     #0,D2
0800163A  0000      
0800163C  6C2A      2323          bge.s     ltoa_5
0800163E  2002      2324          move.l    D2,D0
08001640  4480      2325          neg.l     D0
08001642  2400      2326          move.l    D0,D2
08001644  0C82 0000 2327          cmp.l     #0,D2
08001648  0000      
0800164A  6C14      2328          bge.s     ltoa_7
0800164C  4879 0800 2329          pea       @itoa_1.L
08001650  194A      
08001652  2F03      2330          move.l    D3,-(A7)
08001654  4EB9 0800 2331          jsr       _strcpy
08001658  1700      
0800165A  504F      2332          addq.w    #8,A7
0800165C  2003      2333          move.l    D3,D0
0800165E  6020      2334          bra.s     ltoa_4
                    2335   ltoa_7:
08001660  2044      2336          move.l    D4,A0
08001662  5284      2337          addq.l    #1,D4
08001664  10BC 002D 2338          move.b    #45,(A0)
                    2339   ltoa_5:
08001668  2F05      2340          move.l    D5,-(A7)
0800166A  2F02      2341          move.l    D2,-(A7)
0800166C  2F04      2342          move.l    D4,-(A7)
0800166E  4EB9 0800 2343          jsr       @itoa_convert
08001672  157E      
08001674  DEFC 000C 2344          add.w     #12,A7
08001678  2800      2345          move.l    D0,D4
0800167A  2044      2346          move.l    D4,A0
0800167C  4210      2347          clr.b     (A0)
0800167E  2003      2348          move.l    D3,D0
                    2349   ltoa_4:
08001680  4CDF 003C 2350          movem.l   (A7)+,D2/D3/D4/D5
08001684  4E5E      2351          unlk      A6
08001686  4E75      2352          rts
                    2353   _ultoa:
08001688  4E56 0000 2354          link      A6,#0
0800168C  48E7 3800 2355          movem.l   D2/D3/D4,-(A7)
08001690  262E 0010 2356          move.l    16(A6),D3
08001694  282E 000C 2357          move.l    12(A6),D4
08001698  2404      2358          move.l    D4,D2
0800169A  0C83 0000 2359          cmp.l     #2,D3
0800169E  0002      
080016A0  6D08      2360          blt.s     ultoa_3
080016A2  0C83 0000 2361          cmp.l     #36,D3
080016A6  0024      
080016A8  6F04      2362          ble.s     ultoa_1
                    2363   ultoa_3:
080016AA  2004      2364          move.l    D4,D0
080016AC  601A      2365          bra.s     ultoa_4
                    2366   ultoa_1:
080016AE  2F03      2367          move.l    D3,-(A7)
080016B0  2F2E 0008 2368          move.l    8(A6),-(A7)
080016B4  2F02      2369          move.l    D2,-(A7)
080016B6  4EB9 0800 2370          jsr       @itoa_convert
080016BA  157E      
080016BC  DEFC 000C 2371          add.w     #12,A7
080016C0  2400      2372          move.l    D0,D2
080016C2  2042      2373          move.l    D2,A0
080016C4  4210      2374          clr.b     (A0)
080016C6  2004      2375          move.l    D4,D0
                    2376   ultoa_4:
080016C8  4CDF 001C 2377          movem.l   (A7)+,D2/D3/D4
080016CC  4E5E      2378          unlk      A6
080016CE  4E75      2379          rts
                    2380   _itoa:
080016D0  4E56 0000 2381          link      A6,#0
080016D4  2F2E 0010 2382          move.l    16(A6),-(A7)
080016D8  2F2E 000C 2383          move.l    12(A6),-(A7)
080016DC  2F2E 0008 2384          move.l    8(A6),-(A7)
080016E0  4EB9 0800 2385          jsr       _ltoa
080016E4  1600      
080016E6  DEFC 000C 2386          add.w     #12,A7
080016EA  4E5E      2387          unlk      A6
080016EC  4E75      2388          rts
                    2389   _strlen:
080016EE  206F 0004 2390          move.l    (4,A7),A0
080016F2  2248      2391          move.l    A0,A1
                    2392   strlen_1:
080016F4  4A19      2393          tst.b     (A1)+
080016F6  66FC      2394          bne       strlen_1
080016F8  2009      2395          move.l    A1,D0
080016FA  9088      2396          sub.l     A0,D0
080016FC  5380      2397          subq.l    #1,D0
080016FE  4E75      2398          rts
                    2399   _strcpy:
08001700  206F 0004 2400          move.l    (4,A7),A0
08001704  226F 0008 2401          move.l    (8,A7),A1
08001708  2008      2402          move.l    A0,D0
                    2403   strcpy_1:
0800170A  10D9      2404          move.b    (A1)+,(A0)+
0800170C  66FC      2405          bne.s     strcpy_1
0800170E  4E75      2406          rts
                    2407   ULDIV:
08001710  4E56 0000 2408          link    A6,#0
08001714  48E7 C000 2409          movem.l D0/D1,-(A7)
08001718  222E 0008 2410          move.l  8(A6),D1
0800171C  202E 000C 2411          move.l  12(A6),D0
08001720  6036      2412          bra.s   ldiv_3
                    2413   LDIV:
08001722  4E56 0000 2414          link    A6,#0
08001726  48E7 C000 2415          movem.l D0/D1,-(A7)
0800172A  222E 0008 2416          move.l  8(A6),D1
0800172E  202E 000C 2417          move.l  12(A6),D0
08001732  4A80      2418          tst.l   D0
08001734  6A0E      2419          bpl.s   ldiv_1
08001736  4480      2420          neg.l   D0
08001738  4A81      2421          tst.l   D1
0800173A  6A14      2422          bpl.s   ldiv_2
0800173C  4481      2423          neg.l   D1
0800173E  612A      2424          bsr.s   dodiv
08001740  4481      2425          neg.l   D1
08001742  6016      2426          bra.s   ldiv_4
                    2427   ldiv_1:
08001744  4A81      2428          tst.l   D1
08001746  6A10      2429          bpl.s   ldiv_3
08001748  4481      2430          neg.l   D1
0800174A  611E      2431          bsr.s   dodiv
0800174C  4480      2432          neg.l   D0
0800174E  600A      2433          bra.s   ldiv_4
                    2434   ldiv_2:
08001750  6118      2435          bsr.s   dodiv
08001752  4480      2436          neg.l   D0
08001754  4481      2437          neg.l   D1
08001756  6002      2438          bra.s   ldiv_4
                    2439   ldiv_3:
08001758  6110      2440          bsr.s   dodiv
                    2441   ldiv_4:
0800175A  2D40 0008 2442          move.l  D0,8(A6)
0800175E  2D41 000C 2443          move.l  D1,12(A6)
08001762  4CDF 0003 2444          movem.l (A7)+,D0/D1
08001766  4E5E      2445          unlk    A6
08001768  4E75      2446          rts
                    2447   dodiv:
0800176A  0C81 0000 2448          cmpi.l  #$FFFF,D1
0800176E  FFFF      
08001770  6236      2449          bhi.s   dodiv_2
08001772  0C80 0000 2450          cmpi.l  #$FFFF,D0
08001776  FFFF      
08001778  6210      2451          bhi.s   dodiv_1
0800177A  80C1      2452          divu    D1,D0
0800177C  2200      2453          move.l  D0,D1
0800177E  4241      2454          clr.w   D1
08001780  4841      2455          swap    D1
08001782  0280 0000 2456          andi.l  #$FFFF,D0
08001786  FFFF      
08001788  4E75      2457          rts
                    2458   dodiv_1:
0800178A  48A7 A000 2459          movem.w D0/D2,-(A7)
0800178E  4240      2460          clr.w   D0
08001790  4840      2461          swap    D0
08001792  80C1      2462          divu    D1,D0
08001794  3400      2463          move.w  D0,D2
08001796  301F      2464          move.w  (A7)+,D0
08001798  80C1      2465          divu    D1,D0
0800179A  4840      2466          swap    D0
0800179C  4281      2467          clr.l   D1
0800179E  3200      2468          move.w  D0,D1
080017A0  3002      2469          move.w  D2,D0
080017A2  4840      2470          swap    D0
080017A4  341F      2471          move.w  (A7)+,D2
080017A6  4E75      2472          rts
                    2473   dodiv_2:
080017A8  48E7 3800 2474          movem.l D2/D3/D4,-(A7)
080017AC  2401      2475          move.l  D1,D2
080017AE  4242      2476          clr.w   D2
080017B0  4842      2477          swap    D2
080017B2  5282      2478          addq.l  #1,D2
080017B4  2600      2479          move.l  D0,D3
080017B6  2801      2480          move.l  D1,D4
080017B8  2202      2481          move.l  D2,D1
080017BA  61CE      2482          bsr.s   dodiv_1
080017BC  2204      2483          move.l  D4,D1
080017BE  82C2      2484          divu    D2,D1
080017C0  80C1      2485          divu    D1,D0
080017C2  0280 0000 2486          andi.l  #$FFFF,D0
080017C6  FFFF      
                    2487   dodiv_3:
080017C8  2204      2488          move.l  D4,D1
080017CA  2404      2489          move.l  D4,D2
080017CC  4842      2490          swap    D2
080017CE  C2C0      2491          mulu    D0,D1
080017D0  C4C0      2492          mulu    D0,D2
080017D2  4842      2493          swap    D2
080017D4  D282      2494          add.l   D2,D1
080017D6  9283      2495          sub.l   D3,D1
080017D8  620A      2496          bhi.s   dodiv_4
080017DA  4481      2497          neg.l   D1
080017DC  B881      2498          cmp.l   D1,D4
080017DE  6208      2499          bhi.s   dodiv_5
080017E0  5280      2500          addq.l  #1,D0
080017E2  60E4      2501          bra.s   dodiv_3
                    2502   dodiv_4:
080017E4  5380      2503          subq.l  #1,D0
080017E6  60E0      2504          bra.s   dodiv_3
                    2505   dodiv_5:
080017E8  4CDF 001C 2506          movem.l (A7)+,D2/D3/D4
080017EC  4E75      2507          rts
                    2508          section   const
080017EE            2509                   align
                    2510   
                    2511   
                    2512   @m68kus~1_1:
080017EE  0D0A 6320 2513          dc.b      13,10,99,32,61,32,37,117,32,10,0
080017F2  3D20 2575 
080017F6  200A 00   
                    2514   @m68kus~1_2:
080017FA  5265 6164 2515          dc.b      82,101,97,100,32,98,97,99,107,32,68,97,116,97
080017FE  2062 6163 
08001802  6B20 4461 
08001806  7461      
08001808  2028 6173 2516          dc.b      32,40,97,115,32,117,45,99,104,97,114,41,32,61
0800180C  2075 2D63 
08001810  6861 7229 
08001814  203D      
08001816  2025 7520 2517          dc.b      32,37,117,32,10,0
0800181A  0A00      
                    2518   @m68kus~1_3:
0800181C  4368 6970 2519          dc.b      67,104,105,112,32,69,114,97,115,101,100,33,0
08001820  2045 7261 
08001824  7365 6421 
08001828  00        
                    2520   @m68kus~1_4:
0800182A  0D0A 4865 2521          dc.b      13,10,72,101,108,108,111,32,67,80,69,78,32,52
0800182E  6C6C 6F20 
08001832  4350 454E 
08001836  2034      
08001838  3132 2053 2522          dc.b      49,50,32,83,116,117,100,101,110,116,13,10,0
0800183C  7475 6465 
08001840  6E74 0D0A 
08001844  00        
                    2523   @doscan_1:
08001846  0A00      2524          dc.b      10,0
                    2525   __ctype:
08001848  0040 4040 2526          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
0800184C  4040 4040 
08001850  4040 5050 
08001854  5050 50   
08001857  4040 4040 2527          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
0800185B  4040 4040 
0800185F  4040 4040 
08001863  4040 40   
08001866  4040 40D0 2528          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
0800186A  A0A0 A0A0 
0800186E  A0A0 A0A0 
08001872  A0A0 A0A0 2529          dc.b      160,160,160,160,160,160,160,140,140,140,140
08001876  A0A0 A08C 
0800187A  8C8C 8C   
0800187D  8C8C 8C8C 2530          dc.b      140,140,140,140,140,140,160,160,160,160,160
08001881  8C8C A0A0 
08001885  A0A0 A0   
08001888  A0A0 8A8A 2531          dc.b      160,160,138,138,138,138,138,138,130,130,130
0800188C  8A8A 8A8A 
08001890  8282 82   
08001893  8282 8282 2532          dc.b      130,130,130,130,130,130,130,130,130,130,130
08001897  8282 8282 
0800189B  8282 82   
0800189E  8282 8282 2533          dc.b      130,130,130,130,130,130,160,160,160,160,160
080018A2  8282 A0A0 
080018A6  A0A0 A0   
080018A9  A089 8989 2534          dc.b      160,137,137,137,137,137,137,129,129,129,129
080018AD  8989 8981 
080018B1  8181 81   
080018B4  8181 8181 2535          dc.b      129,129,129,129,129,129,129,129,129,129,129
080018B8  8181 8181 
080018BC  8181 81   
080018BF  8181 8181 2536          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
080018C3  81A0 A0A0 
080018C7  A040 0000 
080018CB  00        
080018CC  0000 0000 2537          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080018D0  0000 0000 
080018D4  0000 0000 
080018D8  0000 0000 
080018DC  0000 0000 
080018E0  0000      
080018E2  0000 0000 2538          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080018E6  0000 0000 
080018EA  0000 0000 
080018EE  0000 0000 
080018F2  0000 0000 
080018F6  0000      
080018F8  0000 0000 2539          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080018FC  0000 0000 
08001900  0000 0000 
08001904  0000 0000 
08001908  0000 0000 
0800190C  0000      
0800190E  0000 0000 2540          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001912  0000 0000 
08001916  0000 0000 
0800191A  0000 0000 
0800191E  0000 0000 
08001922  0000      
08001924  0000 0000 2541          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001928  0000 0000 
0800192C  0000 0000 
08001930  0000 0000 
08001934  0000 0000 
08001938  0000      
0800193A  0000 0000 2542          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800193E  0000 0000 
08001942  0000 0000 
08001946  0000 00   
                    2543   @itoa_1:
0800194A  2D32 3134 2544          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
0800194E  3734 3833 
08001952  3634 3800 
                    2545          section   data
08001956            2546                   align
                    2547   
                    2548   *********************************************************************************************************************************************************
                    2549   * Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
                    2550   ********************************************************************************************************************************************************
                    2551   
          0800 1956 2552   DataStart       equ       *
08001956            2553   __ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
0800195A            2554   __allocp:       ds.l      1                    start of free memory block list
0800195E            2555   __heap:         ds.l      1                    begin of free memory
                    2556   
                    2557   
                    2558   @doscan_lpbuf:
08001962  0800 1966 2559          dc.l      @doscan_buf
                    2560          section   bss
08001966            2561                   align
                    2562   
          0800 1966 2563   DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
          0000 0010 2564   DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup
                    2565   
                    2566   *********************************************************************************************************
                    2567   * Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
                    2568   *********************************************************************************************************
          0800 1966 2569   BssStart       equ       *
                    2570   
                    2571   @doscan_buf:
08001966            2572          ds.b      80
                    2573          section   heap
080019B6            2574                  align
                    2575   
          0800 19B6 2576   BssEnd         equ       *
          0000 0050 2577   BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup
                    2578   
                    2579   *********************************************************************************************************
                    2580   * Section for Heap
                    2581   *********************************************************************************************************
                    2582   
          0800 19B6 2583   heap           equ       *
080019B6            2584                  align
          0800 0000

Assembly errors: 0
