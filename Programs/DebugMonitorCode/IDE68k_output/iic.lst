680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 25 Mar 2019      Time: 11:21:37          Source: C:\M68K\PROGRAMS\DEBUGMONITORCODE\IDE68K_OUTPUT\IIC.SRC

                       1          section   code
                       2   **********************************************************************************************************
                       3   * CSTART.ASM  -  C startup-code
                       4   *
                       5   *          Initialises the system prior to running the users main() program
                       6   *
                       7   *          1) Sets up the user program stack pointer
                       8   *          2) Switches to User mode in the 68000
                       9   *          3) Enables All Interrupts 1-7 on 68000
                      10   *          4) Copies all initialised C program variables from Rom to Ram prior to running main()
                      11   *
                      12   **********************************************************************************************************
00000000              13                   align
                      14   
                      15   
                      16   **********************************************************************************************************
                      17   * The Following ORG Statement marks the address of the start of the this CStart Program
                      18   *
                      19   * The debug Monitor and Flash Load and Program routines assume your program lives here
                      20   **********************************************************************************************************
08000000              21                   org       $08000000
08000000  46FC 2000   22   start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode
                      23   
                      24   ******************************************************************************************
                      25   * Set unitialised global variables to 0 at startup
                      26   ******************************************************************************************
08000004  207C 0800   27   mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
08000008  19F4      
0800000A  203C 0000   28                   move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
0800000E  0050      
08000010  6700 0024   29                   beq       go_main               if no data to copy go straight to program
08000014  10FC 0000   30   Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
08000018  5380        31                   subq.l    #1,d0
0800001A  66F8        32                   bne       Zeroinit
                      33   
                      34   *******************************************************************************************
                      35   * last minute initialisation before calling main
                      36   *******************************************************************************************
                      37   
0800001C  23FC FFFF   38                   move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
08000020  FFFF 0800 
08000024  19E4      
08000026  42B9 0800   39                   clr.l     __allocp               used by malloc() in C
0800002A  19E8      
0800002C  23FC 0800   40                   move.l    #heap,__heap           pointer to free memory
08000030  1A44 0800 
08000034  19EC      
08000036  4EB9 0800   41   go_main         jsr       _main
0800003A  036C      
0800003C  60C2        42                   bra       start
                      43   
                      44   ; C:\M68K\PROGRAMS\DEBUGMONITORCODE\IIC EEPROM PROGRAM FILES\M68KUSERPROGRAM (DE1).C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      45   ; #include <stdio.h>
                      46   ; #include <time.h>
                      47   ; /*********************************************************************************************
                      48   ; **  RS232 port addresses
                      49   ; *********************************************************************************************/
                      50   ; #define RS232_Control     *(volatile unsigned char *)(0x00400040)
                      51   ; #define RS232_Status      *(volatile unsigned char *)(0x00400040)
                      52   ; #define RS232_TxData      *(volatile unsigned char *)(0x00400042)
                      53   ; #define RS232_RxData      *(volatile unsigned char *)(0x00400042)
                      54   ; #define RS232_Baud        *(volatile unsigned char *)(0x00400044)
                      55   ; /*********************************************************************************************
                      56   ; **  IIC registers
                      57   ; *********************************************************************************************/
                      58   ; #define PRERlo  (*(volatile unsigned char *)(0x00408000)) // Clock Prescale register lo-byte
                      59   ; #define PRERhi  (*(volatile unsigned char *)(0x00408002)) // Clock Prescale register hi-byte
                      60   ; #define CTR     (*(volatile unsigned char *)(0x00408004)) // Control Register
                      61   ; #define TXR     (*(volatile unsigned char *)(0x00408006)) // Transmit Register
                      62   ; #define RXR     (*(volatile unsigned char *)(0x00408006)) // Receive Register
                      63   ; #define CR      (*(volatile unsigned char *)(0x00408008)) // Command Register
                      64   ; #define SR      (*(volatile unsigned char *)(0x00408008)) // Status Register
                      65   ; // Sequence Start & Stop Register Commands
                      66   ; #define start           0x80    // Set STA bit              --> (1000 0000)
                      67   ; #define stop            0x40    // Set STO bit              --> (0100 0000)
                      68   ; // Write Command Register Commands
                      69   ; #define startWrite      0x90    // set STA, WR bit          --> (1001 0000)
                      70   ; #define Write           0x10    // set WR bit               --> (0001 0000)
                      71   ; #define read            0x20    // set RD bit               --> (0010 0000)
                      72   ; #define NACK            0x08    // Set ACK bit              --> (0000 1000)
                      73   ; #define ReadNACK        0x28    // Set RD, ACK bits         --> (0010 1000)
                      74   ; #define stopWrite       0x50    // set STO, WR bit          --> (0101 0000)
                      75   ; // Read Command Register Commands
                      76   ; #define startRead       0xA8    // set STA, RD, ACK bit     --> (1010 1000)
                      77   ; #define stopRead        0x41    // set STO, IACK bit        --> (0100 0001)
                      78   ; /*********************************************************************************************
                      79   ; **  Function protoTypes
                      80   ; *********************************************************************************************/
                      81   ; void WriteByteToChip(char c);
                      82   ; char ReadByteFromChip(void);
                      83   ; void WaitForTXByte(void);
                      84   ; void WaitForReceivedByte(void);
                      85   ; int CheckForACK(void);
                      86   ; void IIC_Init(void);
                      87   ; void WaitForWriteCycle(void);
                      88   ; int _getch( void )
                      89   ; {
                      90   __getch:
0800003E  4E56 FFFC   91          link      A6,#-4
                      92   ; char c ;
                      93   ; while((RS232_Status & (char)(0x01)) != (char)(0x01))    // wait for Rx bit in 6850 serial comms chip status register to be '1'
                      94   _getch_1:
08000042  1039 0040   95          move.b    4194368,D0
08000046  0040      
08000048  C03C 0001   96          and.b     #1,D0
0800004C  0C00 0001   97          cmp.b     #1,D0
08000050  6702        98          beq.s     _getch_3
08000052  60EE        99          bra       _getch_1
                     100   _getch_3:
                     101   ; ;
                     102   ; return (RS232_RxData & (char)(0x7f));                   // read received character, mask off top bit and return as 7 bit ASCII character
08000054  1039 0040  103          move.b    4194370,D0
08000058  0042      
0800005A  C0BC 0000  104          and.l     #255,D0
0800005E  00FF      
08000060  C0BC 0000  105          and.l     #127,D0
08000064  007F      
08000066  4E5E       106          unlk      A6
08000068  4E75       107          rts
                     108   ; }
                     109   ; int _putch( int c)
                     110   ; {
                     111   __putch:
0800006A  4E56 0000  112          link      A6,#0
                     113   ; while((RS232_Status & (char)(0x02)) != (char)(0x02))    // wait for Tx bit in status register or 6850 serial comms chip to be '1'
                     114   _putch_1:
0800006E  1039 0040  115          move.b    4194368,D0
08000072  0040      
08000074  C03C 0002  116          and.b     #2,D0
08000078  0C00 0002  117          cmp.b     #2,D0
0800007C  6702       118          beq.s     _putch_3
0800007E  60EE       119          bra       _putch_1
                     120   _putch_3:
                     121   ; ;
                     122   ; RS232_TxData = (c & (char)(0x7f));                      // write to the data register to output the character (mask off bit 8 to keep it 7 bit ASCII)
08000080  202E 0008  123          move.l    8(A6),D0
08000084  C0BC 0000  124          and.l     #127,D0
08000088  007F      
0800008A  13C0 0040  125          move.b    D0,4194370
0800008E  0042      
                     126   ; return c ;                                              // putchar() expects the character to be returned
08000090  202E 0008  127          move.l    8(A6),D0
08000094  4E5E       128          unlk      A6
08000096  4E75       129          rts
                     130   ; }
                     131   ; /*********************************************************************************************
                     132   ; **  Write Byte to EEPROM Chip
                     133   ; *********************************************************************************************/
                     134   ; void WriteByteToChip(char c){
                     135   _WriteByteToChip:
08000098  4E56 0000  136          link      A6,#0
0800009C  48E7 2038  137          movem.l   D2/A2/A3/A4,-(A7)
080000A0  45F9 0800  138          lea       _printf.L,A2
080000A4  0CCC      
080000A6  47F9 0800  139          lea       _WaitForTXByte.L,A3
080000AA  030A      
080000AC  49F9 0800  140          lea       _CheckForACK.L,A4
080000B0  0330      
                     141   ; char tempByte;
                     142   ; // Ensure TX is ready before sending control byte
                     143   ; WaitForTXByte();
080000B2  4E93       144          jsr       (A3)
                     145   ; TXR = 0xA0;         // Write Control Byte (1010 0000)
080000B4  13FC 00A0  146          move.b    #160,4227078
080000B8  0040 8006 
                     147   ; CR = startWrite;    // Set STA bit, set WR bit
080000BC  13FC 0090  148          move.b    #144,4227080
080000C0  0040 8008 
                     149   ; WaitForTXByte();
080000C4  4E93       150          jsr       (A3)
                     151   ; printf("ACK = %d\r\n", CheckForACK());
080000C6  2F00       152          move.l    D0,-(A7)
080000C8  4E94       153          jsr       (A4)
080000CA  2200       154          move.l    D0,D1
080000CC  201F       155          move.l    (A7)+,D0
080000CE  2F01       156          move.l    D1,-(A7)
080000D0  4879 0800  157          pea       @m68kus~1_1.L
080000D4  1826      
080000D6  4E92       158          jsr       (A2)
080000D8  504F       159          addq.w    #8,A7
                     160   ; tempByte = RXR;
080000DA  1439 0040  161          move.b    4227078,D2
080000DE  8006      
                     162   ; printf("tempByte = %d\r\n", tempByte);
080000E0  4882       163          ext.w     D2
080000E2  48C2       164          ext.l     D2
080000E4  2F02       165          move.l    D2,-(A7)
080000E6  4879 0800  166          pea       @m68kus~1_2.L
080000EA  1832      
080000EC  4E92       167          jsr       (A2)
080000EE  504F       168          addq.w    #8,A7
                     169   ; TXR = 0x20;         // Address Byte 1
080000F0  13FC 0020  170          move.b    #32,4227078
080000F4  0040 8006 
                     171   ; CR = Write;         // Set WR bit
080000F8  13FC 0010  172          move.b    #16,4227080
080000FC  0040 8008 
                     173   ; WaitForTXByte();
08000100  4E93       174          jsr       (A3)
                     175   ; printf("ACK = %d\r\n", CheckForACK());
08000102  2F00       176          move.l    D0,-(A7)
08000104  4E94       177          jsr       (A4)
08000106  2200       178          move.l    D0,D1
08000108  201F       179          move.l    (A7)+,D0
0800010A  2F01       180          move.l    D1,-(A7)
0800010C  4879 0800  181          pea       @m68kus~1_1.L
08000110  1826      
08000112  4E92       182          jsr       (A2)
08000114  504F       183          addq.w    #8,A7
                     184   ; tempByte = RXR;
08000116  1439 0040  185          move.b    4227078,D2
0800011A  8006      
                     186   ; printf("tempByte = %d\r\n", tempByte);
0800011C  4882       187          ext.w     D2
0800011E  48C2       188          ext.l     D2
08000120  2F02       189          move.l    D2,-(A7)
08000122  4879 0800  190          pea       @m68kus~1_2.L
08000126  1832      
08000128  4E92       191          jsr       (A2)
0800012A  504F       192          addq.w    #8,A7
                     193   ; TXR = 0x00;         // Address Byte 2
0800012C  4239 0040  194          clr.b     4227078
08000130  8006      
                     195   ; CR = Write;         // Set WR bit
08000132  13FC 0010  196          move.b    #16,4227080
08000136  0040 8008 
                     197   ; WaitForTXByte();
0800013A  4E93       198          jsr       (A3)
                     199   ; printf("ACK = %d\r\n", CheckForACK());
0800013C  2F00       200          move.l    D0,-(A7)
0800013E  4E94       201          jsr       (A4)
08000140  2200       202          move.l    D0,D1
08000142  201F       203          move.l    (A7)+,D0
08000144  2F01       204          move.l    D1,-(A7)
08000146  4879 0800  205          pea       @m68kus~1_1.L
0800014A  1826      
0800014C  4E92       206          jsr       (A2)
0800014E  504F       207          addq.w    #8,A7
                     208   ; tempByte = RXR;
08000150  1439 0040  209          move.b    4227078,D2
08000154  8006      
                     210   ; printf("tempByte = %d\r\n", tempByte);
08000156  4882       211          ext.w     D2
08000158  48C2       212          ext.l     D2
0800015A  2F02       213          move.l    D2,-(A7)
0800015C  4879 0800  214          pea       @m68kus~1_2.L
08000160  1832      
08000162  4E92       215          jsr       (A2)
08000164  504F       216          addq.w    #8,A7
                     217   ; TXR = c;            // send 1 byte of data
08000166  13EE 000B  218          move.b    11(A6),4227078
0800016A  0040 8006 
                     219   ; CR = Write;
0800016E  13FC 0010  220          move.b    #16,4227080
08000172  0040 8008 
                     221   ; WaitForTXByte();
08000176  4E93       222          jsr       (A3)
                     223   ; printf("ACK = %d\r\n", CheckForACK());
08000178  2F00       224          move.l    D0,-(A7)
0800017A  4E94       225          jsr       (A4)
0800017C  2200       226          move.l    D0,D1
0800017E  201F       227          move.l    (A7)+,D0
08000180  2F01       228          move.l    D1,-(A7)
08000182  4879 0800  229          pea       @m68kus~1_1.L
08000186  1826      
08000188  4E92       230          jsr       (A2)
0800018A  504F       231          addq.w    #8,A7
                     232   ; tempByte = RXR;
0800018C  1439 0040  233          move.b    4227078,D2
08000190  8006      
                     234   ; printf("tempByte = %d\r\n", tempByte);
08000192  4882       235          ext.w     D2
08000194  48C2       236          ext.l     D2
08000196  2F02       237          move.l    D2,-(A7)
08000198  4879 0800  238          pea       @m68kus~1_2.L
0800019C  1832      
0800019E  4E92       239          jsr       (A2)
080001A0  504F       240          addq.w    #8,A7
                     241   ; CR = stop;
080001A2  13FC 0040  242          move.b    #64,4227080
080001A6  0040 8008 
                     243   ; WaitForWriteCycle();
080001AA  4EB9 0800  244          jsr       _WaitForWriteCycle
080001AE  01B8      
080001B0  4CDF 1C04  245          movem.l   (A7)+,D2/A2/A3/A4
080001B4  4E5E       246          unlk      A6
080001B6  4E75       247          rts
                     248   ; }
                     249   ; /*********************************************************************************************
                     250   ; ** Wait For EEPROM to complete internal Write Cycle
                     251   ; *********************************************************************************************/
                     252   ; void WaitForWriteCycle(void){
                     253   _WaitForWriteCycle:
                     254   ; do
                     255   ; {
                     256   WaitForWriteCycle_1:
                     257   ; TXR = 0xA0; // Write Control Byte (1010 0000)
080001B8  13FC 00A0  258          move.b    #160,4227078
080001BC  0040 8006 
                     259   ; CR = start;
080001C0  13FC 0080  260          move.b    #128,4227080
080001C4  0040 8008 
                     261   ; printf("WaitForWriteCycle SR = %d\r\n", SR);
080001C8  1239 0040  262          move.b    4227080,D1
080001CC  8008      
080001CE  C2BC 0000  263          and.l     #255,D1
080001D2  00FF      
080001D4  2F01       264          move.l    D1,-(A7)
080001D6  4879 0800  265          pea       @m68kus~1_3.L
080001DA  1842      
080001DC  4EB9 0800  266          jsr       _printf
080001E0  0CCC      
080001E2  504F       267          addq.w    #8,A7
080001E4  41F9 0800  268          lea       _CheckForACK.L,A0
080001E8  0330      
080001EA  2008       269          move.l    A0,D0
080001EC  67CA       270          beq       WaitForWriteCycle_1
                     271   ; } while (!CheckForACK);
                     272   ; printf("WaitForWriteCycle 1 SR = %d\r\n", SR);
080001EE  1239 0040  273          move.b    4227080,D1
080001F2  8008      
080001F4  C2BC 0000  274          and.l     #255,D1
080001F8  00FF      
080001FA  2F01       275          move.l    D1,-(A7)
080001FC  4879 0800  276          pea       @m68kus~1_4.L
08000200  185E      
08000202  4EB9 0800  277          jsr       _printf
08000206  0CCC      
08000208  504F       278          addq.w    #8,A7
                     279   ; return;
0800020A  4E75       280          rts
                     281   ; }
                     282   ; /*********************************************************************************************
                     283   ; **  Read Byte from EEPROM flash
                     284   ; *********************************************************************************************/
                     285   ; char ReadByteFromChip(void){
                     286   _ReadByteFromChip:
0800020C  4E56 FFFC  287          link      A6,#-4
08000210  48E7 2038  288          movem.l   D2/A2/A3/A4,-(A7)
08000214  45F9 0800  289          lea       _printf.L,A2
08000218  0CCC      
0800021A  47F9 0800  290          lea       _WaitForTXByte.L,A3
0800021E  030A      
08000220  49F9 0800  291          lea       _CheckForACK.L,A4
08000224  0330      
                     292   ; char x;
                     293   ; char receivedByte;
                     294   ; // Ensure TX is ready before sending control byte
                     295   ; WaitForTXByte();
08000226  4E93       296          jsr       (A3)
                     297   ; TXR = 0xA0;         // Write Control Byte (1010 0000)
08000228  13FC 00A0  298          move.b    #160,4227078
0800022C  0040 8006 
                     299   ; CR = startWrite;    // set STA bit
08000230  13FC 0090  300          move.b    #144,4227080
08000234  0040 8008 
                     301   ; WaitForTXByte();
08000238  4E93       302          jsr       (A3)
                     303   ; printf("ACK = %d\r\n", CheckForACK());
0800023A  2F00       304          move.l    D0,-(A7)
0800023C  4E94       305          jsr       (A4)
0800023E  2200       306          move.l    D0,D1
08000240  201F       307          move.l    (A7)+,D0
08000242  2F01       308          move.l    D1,-(A7)
08000244  4879 0800  309          pea       @m68kus~1_1.L
08000248  1826      
0800024A  4E92       310          jsr       (A2)
0800024C  504F       311          addq.w    #8,A7
                     312   ; // x = RXR;
                     313   ; // printf("*x = %d\r\n", x);
                     314   ; TXR = 0x20;         // Address Byte 1
0800024E  13FC 0020  315          move.b    #32,4227078
08000252  0040 8006 
                     316   ; CR = Write;         // set WR bit
08000256  13FC 0010  317          move.b    #16,4227080
0800025A  0040 8008 
                     318   ; WaitForTXByte();
0800025E  4E93       319          jsr       (A3)
                     320   ; printf("ACK = %d\r\n", CheckForACK());
08000260  2F00       321          move.l    D0,-(A7)
08000262  4E94       322          jsr       (A4)
08000264  2200       323          move.l    D0,D1
08000266  201F       324          move.l    (A7)+,D0
08000268  2F01       325          move.l    D1,-(A7)
0800026A  4879 0800  326          pea       @m68kus~1_1.L
0800026E  1826      
08000270  4E92       327          jsr       (A2)
08000272  504F       328          addq.w    #8,A7
                     329   ; // x = RXR;
                     330   ; // printf("*x = %d\r\n", x);
                     331   ; TXR = 0x00;         // Address Byte 2
08000274  4239 0040  332          clr.b     4227078
08000278  8006      
                     333   ; CR = Write;         // set WR bit
0800027A  13FC 0010  334          move.b    #16,4227080
0800027E  0040 8008 
                     335   ; WaitForTXByte();
08000282  4E93       336          jsr       (A3)
                     337   ; printf("ACK = %d\r\n", CheckForACK());
08000284  2F00       338          move.l    D0,-(A7)
08000286  4E94       339          jsr       (A4)
08000288  2200       340          move.l    D0,D1
0800028A  201F       341          move.l    (A7)+,D0
0800028C  2F01       342          move.l    D1,-(A7)
0800028E  4879 0800  343          pea       @m68kus~1_1.L
08000292  1826      
08000294  4E92       344          jsr       (A2)
08000296  504F       345          addq.w    #8,A7
                     346   ; // x = RXR;
                     347   ; // printf("*x = %d\r\n", x);
                     348   ; TXR = 0xA1;         // Read Control Byte (1010 0001)
08000298  13FC 00A1  349          move.b    #161,4227078
0800029C  0040 8006 
                     350   ; CR = startWrite;    // Set STA bit
080002A0  13FC 0090  351          move.b    #144,4227080
080002A4  0040 8008 
                     352   ; WaitForTXByte();
080002A8  4E93       353          jsr       (A3)
                     354   ; printf("ACK = %d\r\n", CheckForACK());
080002AA  2F00       355          move.l    D0,-(A7)
080002AC  4E94       356          jsr       (A4)
080002AE  2200       357          move.l    D0,D1
080002B0  201F       358          move.l    (A7)+,D0
080002B2  2F01       359          move.l    D1,-(A7)
080002B4  4879 0800  360          pea       @m68kus~1_1.L
080002B8  1826      
080002BA  4E92       361          jsr       (A2)
080002BC  504F       362          addq.w    #8,A7
                     363   ; // x = RXR;
                     364   ; // printf("*x = %d\r\n", x);
                     365   ; CR = ReadNACK;
080002BE  13FC 0028  366          move.b    #40,4227080
080002C2  0040 8008 
                     367   ; WaitForReceivedByte();
080002C6  4EB9 0800  368          jsr       _WaitForReceivedByte
080002CA  0320      
                     369   ; x = RXR;
080002CC  1439 0040  370          move.b    4227078,D2
080002D0  8006      
                     371   ; printf("*x = %d\r\n", x);
080002D2  4882       372          ext.w     D2
080002D4  48C2       373          ext.l     D2
080002D6  2F02       374          move.l    D2,-(A7)
080002D8  4879 0800  375          pea       @m68kus~1_5.L
080002DC  187C      
080002DE  4E92       376          jsr       (A2)
080002E0  504F       377          addq.w    #8,A7
                     378   ; x = RXR;
080002E2  1439 0040  379          move.b    4227078,D2
080002E6  8006      
                     380   ; printf("*x = %d\r\n", x);
080002E8  4882       381          ext.w     D2
080002EA  48C2       382          ext.l     D2
080002EC  2F02       383          move.l    D2,-(A7)
080002EE  4879 0800  384          pea       @m68kus~1_5.L
080002F2  187C      
080002F4  4E92       385          jsr       (A2)
080002F6  504F       386          addq.w    #8,A7
                     387   ; CR = stop;
080002F8  13FC 0040  388          move.b    #64,4227080
080002FC  0040 8008 
                     389   ; return x;
08000300  1002       390          move.b    D2,D0
08000302  4CDF 1C04  391          movem.l   (A7)+,D2/A2/A3/A4
08000306  4E5E       392          unlk      A6
08000308  4E75       393          rts
                     394   ; }
                     395   ; /*********************************************************************************************
                     396   ; ** Probe SR register to check if TIP bit is clear
                     397   ; *********************************************************************************************/
                     398   ; void WaitForTXByte(void){
                     399   _WaitForTXByte:
                     400   ; while ((SR & 0x02) >> 1 == 1);
                     401   WaitForTXByte_1:
0800030A  1039 0040  402          move.b    4227080,D0
0800030E  8008      
08000310  C03C 0002  403          and.b     #2,D0
08000314  E208       404          lsr.b     #1,D0
08000316  0C00 0001  405          cmp.b     #1,D0
0800031A  6602       406          bne.s     WaitForTXByte_3
0800031C  60EC       407          bra       WaitForTXByte_1
                     408   WaitForTXByte_3:
0800031E  4E75       409          rts
                     410   ; }
                     411   ; /*********************************************************************************************
                     412   ; ** Probe RX register to check if it has received data from slave
                     413   ; *********************************************************************************************/
                     414   ; void WaitForReceivedByte(void){
                     415   _WaitForReceivedByte:
                     416   ; while ((SR & 0x01) == 0);
                     417   WaitForReceivedByte_1:
08000320  1039 0040  418          move.b    4227080,D0
08000324  8008      
08000326  C03C 0001  419          and.b     #1,D0
0800032A  6602       420          bne.s     WaitForReceivedByte_3
0800032C  60F2       421          bra       WaitForReceivedByte_1
                     422   WaitForReceivedByte_3:
0800032E  4E75       423          rts
                     424   ; }
                     425   ; /*********************************************************************************************
                     426   ; ** Probe Status Register to check if slave has ACKed
                     427   ; Returns 0 of not ACKed and 1 if ACKed
                     428   ; *********************************************************************************************/
                     429   ; int CheckForACK(void){
                     430   _CheckForACK:
                     431   ; if ((SR & 0x80)>> 7 == 1)
08000330  1039 0040  432          move.b    4227080,D0
08000334  8008      
08000336  C07C 00FF  433          and.w     #255,D0
0800033A  C07C 0080  434          and.w     #128,D0
0800033E  EE40       435          asr.w     #7,D0
08000340  0C40 0001  436          cmp.w     #1,D0
08000344  6604       437          bne.s     CheckForACK_1
                     438   ; return 0;
08000346  4280       439          clr.l     D0
08000348  6002       440          bra.s     CheckForACK_3
                     441   CheckForACK_1:
                     442   ; else return 1;
0800034A  7001       443          moveq     #1,D0
                     444   CheckForACK_3:
0800034C  4E75       445          rts
                     446   ; }
                     447   ; /*********************************************************************************************
                     448   ; ** Initialize IIC Communication
                     449   ; *********************************************************************************************/
                     450   ; void IIC_Init(void){
                     451   _IIC_Init:
                     452   ; // Set Clock Frequency to 100kHz as per page 7 of in IIC controller Document
                     453   ; CTR = 0x00; // Clear EN bit to set clock value first
0800034E  4239 0040  454          clr.b     4227076
08000352  8004      
                     455   ; PRERlo = 0x31;
08000354  13FC 0031  456          move.b    #49,4227072
08000358  0040 8000 
                     457   ; PRERhi = 0x00;
0800035C  4239 0040  458          clr.b     4227074
08000360  8002      
                     459   ; // Enable EN bit (core is disable) & Disable IEN bit (interrupts disable)
                     460   ; CTR = 0x80;
08000362  13FC 0080  461          move.b    #128,4227076
08000366  0040 8004 
0800036A  4E75       462          rts
                     463   ; }
                     464   ; void main(void)
                     465   ; {
                     466   _main:
0800036C  4E56 FFFC  467          link      A6,#-4
08000370  2F0A       468          move.l    A2,-(A7)
08000372  45F9 0800  469          lea       _printf.L,A2
08000376  0CCC      
                     470   ; char sendByte = 64;
08000378  1D7C 0040  471          move.b    #64,-2(A6)
0800037C  FFFE      
                     472   ; char recievedByte;
                     473   ; scanflush() ;                       // flush any text that may have been typed ahead
0800037E  4EB9 0800  474          jsr       _scanflush
08000382  064A      
                     475   ; printf("\r\nHello IIC Lab\r\n");
08000384  4879 0800  476          pea       @m68kus~1_6.L
08000388  1886      
0800038A  4E92       477          jsr       (A2)
0800038C  584F       478          addq.w    #4,A7
                     479   ; IIC_Init();
0800038E  4EB9 0800  480          jsr       _IIC_Init
08000392  034E      
                     481   ; // WriteByteToChip(sendByte);
                     482   ; recievedByte = ReadByteFromChip();
08000394  4EB9 0800  483          jsr       _ReadByteFromChip
08000398  020C      
0800039A  1D40 FFFF  484          move.b    D0,-1(A6)
                     485   ; printf("This is the sent Byte: %u\r\n", sendByte);
0800039E  122E FFFE  486          move.b    -2(A6),D1
080003A2  4881       487          ext.w     D1
080003A4  48C1       488          ext.l     D1
080003A6  2F01       489          move.l    D1,-(A7)
080003A8  4879 0800  490          pea       @m68kus~1_7.L
080003AC  1898      
080003AE  4E92       491          jsr       (A2)
080003B0  504F       492          addq.w    #8,A7
                     493   ; printf("This is the received Byte: %u\r\n", recievedByte);
080003B2  122E FFFF  494          move.b    -1(A6),D1
080003B6  4881       495          ext.w     D1
080003B8  48C1       496          ext.l     D1
080003BA  2F01       497          move.l    D1,-(A7)
080003BC  4879 0800  498          pea       @m68kus~1_8.L
080003C0  18B4      
080003C2  4E92       499          jsr       (A2)
080003C4  504F       500          addq.w    #8,A7
                     501   ; while(1);
                     502   main_1:
080003C6  60FE       503          bra       main_1
                     504   ; // programs should NOT exit as there is nothing to Exit TO !!!!!!
                     505   ; // There is no OS - just press the reset button to end program and call debug
                     506   ; }
                     507   @doscan_read:
080003C8  4E56 FFFC  508          link      A6,#-4
080003CC  2F0A       509          move.l    A2,-(A7)
080003CE  45F9 0800  510          lea       @doscan_lpbuf.L,A2
080003D2  19F0      
080003D4  4AAE 0008  511          tst.l     8(A6)
080003D8  6700 0032  512          beq       @doscan_read_1
080003DC  206E 0008  513          move.l    8(A6),A0
080003E0  58AE 0008  514          addq.l    #4,8(A6)
080003E4  2050       515          move.l    (A0),A0
080003E6  1010       516          move.b    (A0),D0
080003E8  4880       517          ext.w     D0
080003EA  48C0       518          ext.l     D0
080003EC  2D40 FFFC  519          move.l    D0,-4(A6)
080003F0  4201       520          clr.b     D1
080003F2  C2BC 0000  521          and.l     #255,D1
080003F6  00FF      
080003F8  B081       522          cmp.l     D1,D0
080003FA  6706       523          beq.s     @doscan_read_3
080003FC  202E FFFC  524          move.l    -4(A6),D0
08000400  6006       525          bra.s     @doscan_read_4
                     526   @doscan_read_3:
08000402  70FF       527          moveq     #-1,D0
08000404  4880       528          ext.w     D0
08000406  48C0       529          ext.l     D0
                     530   @doscan_read_4:
08000408  6000 0036  531          bra       @doscan_read_5
                     532   @doscan_read_1:
0800040C  2052       533          move.l    (A2),A0
0800040E  1010       534          move.b    (A0),D0
08000410  6624       535          bne.s     @doscan_read_6
08000412  4879 0800  536          pea       @doscan_buf.L
08000416  19F4      
08000418  4EB9 0800  537          jsr       _gets
0800041C  0D9C      
0800041E  584F       538          addq.w    #4,A7
08000420  2480       539          move.l    D0,(A2)
08000422  4879 0800  540          pea       @doscan_1.L
08000426  18D4      
08000428  4879 0800  541          pea       @doscan_buf.L
0800042C  19F4      
0800042E  4EB9 0800  542          jsr       _strcat
08000432  0E2E      
08000434  504F       543          addq.w    #8,A7
                     544   @doscan_read_6:
08000436  2052       545          move.l    (A2),A0
08000438  5292       546          addq.l    #1,(A2)
0800043A  1010       547          move.b    (A0),D0
0800043C  4880       548          ext.w     D0
0800043E  48C0       549          ext.l     D0
                     550   @doscan_read_5:
08000440  245F       551          move.l    (A7)+,A2
08000442  4E5E       552          unlk      A6
08000444  4E75       553          rts
                     554   @doscan_putback:
08000446  4E56 0000  555          link      A6,#0
0800044A  48E7 3000  556          movem.l   D2/D3,-(A7)
0800044E  242E 000C  557          move.l    12(A6),D2
08000452  262E 0008  558          move.l    8(A6),D3
08000456  6718       559          beq.s     @doscan_putback_1
08000458  0C82 FFFF  560          cmp.l     #-1,D2
0800045C  FFFF      
0800045E  670A       561          beq.s     @doscan_putback_3
08000460  5983       562          subq.l    #4,D3
08000462  2043       563          move.l    D3,A0
08000464  2050       564          move.l    (A0),A0
08000466  1082       565          move.b    D2,(A0)
08000468  6004       566          bra.s     @doscan_putback_4
                     567   @doscan_putback_3:
0800046A  2043       568          move.l    D3,A0
0800046C  5390       569          subq.l    #1,(A0)
                     570   @doscan_putback_4:
0800046E  6030       571          bra.s     @doscan_putback_6
                     572   @doscan_putback_1:
08000470  41F9 0800  573          lea       @doscan_buf.L,A0
08000474  19F4      
08000476  2008       574          move.l    A0,D0
08000478  B0B9 0800  575          cmp.l     @doscan_lpbuf.L,D0
0800047C  19F0      
0800047E  6612       576          bne.s     @doscan_putback_5
08000480  4239 0800  577          clr.b     @doscan_buf.L
08000484  19F4      
08000486  2F02       578          move.l    D2,-(A7)
08000488  4EB9 0800  579          jsr       _ungetch
0800048C  0E60      
0800048E  584F       580          addq.w    #4,A7
08000490  600E       581          bra.s     @doscan_putback_6
                     582   @doscan_putback_5:
08000492  53B9 0800  583          subq.l    #1,@doscan_lpbuf.L
08000496  19F0      
08000498  2079 0800  584          move.l    @doscan_lpbuf.L,A0
0800049C  19F0      
0800049E  1082       585          move.b    D2,(A0)
                     586   @doscan_putback_6:
080004A0  2002       587          move.l    D2,D0
080004A2  4CDF 000C  588          movem.l   (A7)+,D2/D3
080004A6  4E5E       589          unlk      A6
080004A8  4E75       590          rts
                     591   @doscan_space:
080004AA  4E56 0000  592          link      A6,#0
080004AE  2F02       593          move.l    D2,-(A7)
                     594   @doscan_space_1:
080004B0  2F2E 0008  595          move.l    8(A6),-(A7)
080004B4  4EB9 0800  596          jsr       @doscan_read
080004B8  03C8      
080004BA  584F       597          addq.w    #4,A7
080004BC  2400       598          move.l    D0,D2
080004BE  206E 000C  599          move.l    12(A6),A0
080004C2  5290       600          addq.l    #1,(A0)
080004C4  2002       601          move.l    D2,D0
080004C6  5280       602          addq.l    #1,D0
080004C8  41F9 0800  603          lea       __ctype.L,A0
080004CC  18D6      
080004CE  1030 0800  604          move.b    0(A0,D0.L),D0
080004D2  C03C 0010  605          and.b     #16,D0
080004D6  66D8       606          bne       @doscan_space_1
080004D8  2002       607          move.l    D2,D0
080004DA  241F       608          move.l    (A7)+,D2
080004DC  4E5E       609          unlk      A6
080004DE  4E75       610          rts
                     611   @doscan_select:
080004E0  4E56 0000  612          link      A6,#0
080004E4  48E7 3F20  613          movem.l   D2/D3/D4/D5/D6/D7/A2,-(A7)
080004E8  262E 000C  614          move.l    12(A6),D3
080004EC  2C2E 0018  615          move.l    24(A6),D6
080004F0  2E2E 0014  616          move.l    20(A6),D7
080004F4  2043       617          move.l    D3,A0
080004F6  1010       618          move.b    (A0),D0
080004F8  0C00 005E  619          cmp.b     #94,D0
080004FC  6608       620          bne.s     @doscan_select_1
080004FE  347C 0001  621          move.w    #1,A2
08000502  5283       622          addq.l    #1,D3
08000504  6004       623          bra.s     @doscan_select_2
                     624   @doscan_select_1:
08000506  347C 0000  625          move.w    #0,A2
                     626   @doscan_select_2:
0800050A  202E 0010  627          move.l    16(A6),D0
0800050E  53AE 0010  628          subq.l    #1,16(A6)
08000512  4A80       629          tst.l     D0
08000514  6700 00F6  630          beq       @doscan_select_5
08000518  2F2E 0008  631          move.l    8(A6),-(A7)
0800051C  4EB9 0800  632          jsr       @doscan_read
08000520  03C8      
08000522  584F       633          addq.w    #4,A7
08000524  2800       634          move.l    D0,D4
08000526  0C84 FFFF  635          cmp.l     #-1,D4
0800052A  FFFF      
0800052C  6604       636          bne.s     @doscan_select_6
0800052E  6000 00DC  637          bra       @doscan_select_5
                     638   @doscan_select_6:
08000532  206E 001C  639          move.l    28(A6),A0
08000536  5290       640          addq.l    #1,(A0)
08000538  4285       641          clr.l     D5
0800053A  4282       642          clr.l     D2
                     643   @doscan_select_8:
0800053C  2043       644          move.l    D3,A0
0800053E  1030 2800  645          move.b    0(A0,D2.L),D0
08000542  0C00 005D  646          cmp.b     #93,D0
08000546  6700 0086  647          beq       @doscan_select_10
0800054A  4A82       648          tst.l     D2
0800054C  6710       649          beq.s     @doscan_select_11
0800054E  2043       650          move.l    D3,A0
08000550  1030 2800  651          move.b    0(A0,D2.L),D0
08000554  0C00 005D  652          cmp.b     #93,D0
08000558  6604       653          bne.s     @doscan_select_11
0800055A  6000 0072  654          bra       @doscan_select_10
                     655   @doscan_select_11:
0800055E  4A82       656          tst.l     D2
08000560  6700 0056  657          beq       @doscan_select_15
08000564  2043       658          move.l    D3,A0
08000566  1030 2800  659          move.b    0(A0,D2.L),D0
0800056A  0C00 002D  660          cmp.b     #45,D0
0800056E  6600 0048  661          bne       @doscan_select_15
08000572  2043       662          move.l    D3,A0
08000574  2002       663          move.l    D2,D0
08000576  5380       664          subq.l    #1,D0
08000578  2243       665          move.l    D3,A1
0800057A  2202       666          move.l    D2,D1
0800057C  5281       667          addq.l    #1,D1
0800057E  2F00       668          move.l    D0,-(A7)
08000580  1030 0800  669          move.b    0(A0,D0.L),D0
08000584  B031 1800  670          cmp.b     0(A1,D1.L),D0
08000588  6C00 002E  671          bge       @doscan_select_15
0800058C  201F       672          move.l    (A7)+,D0
0800058E  2043       673          move.l    D3,A0
08000590  2002       674          move.l    D2,D0
08000592  5380       675          subq.l    #1,D0
08000594  1030 0800  676          move.b    0(A0,D0.L),D0
08000598  4880       677          ext.w     D0
0800059A  48C0       678          ext.l     D0
0800059C  B880       679          cmp.l     D0,D4
0800059E  6D14       680          blt.s     @doscan_select_17
080005A0  2043       681          move.l    D3,A0
080005A2  2002       682          move.l    D2,D0
080005A4  5280       683          addq.l    #1,D0
080005A6  1030 0800  684          move.b    0(A0,D0.L),D0
080005AA  4880       685          ext.w     D0
080005AC  48C0       686          ext.l     D0
080005AE  B880       687          cmp.l     D0,D4
080005B0  6E02       688          bgt.s     @doscan_select_17
080005B2  601A       689          bra.s     @doscan_select_10
                     690   @doscan_select_17:
080005B4  5282       691          addq.l    #1,D2
080005B6  6010       692          bra.s     @doscan_select_19
                     693   @doscan_select_15:
080005B8  2043       694          move.l    D3,A0
080005BA  1030 2800  695          move.b    0(A0,D2.L),D0
080005BE  4880       696          ext.w     D0
080005C0  48C0       697          ext.l     D0
080005C2  B880       698          cmp.l     D0,D4
080005C4  6602       699          bne.s     @doscan_select_19
080005C6  6006       700          bra.s     @doscan_select_10
                     701   @doscan_select_19:
080005C8  5282       702          addq.l    #1,D2
080005CA  6000 FF70  703          bra       @doscan_select_8
                     704   @doscan_select_10:
080005CE  4A82       705          tst.l     D2
080005D0  670C       706          beq.s     @doscan_select_23
080005D2  2043       707          move.l    D3,A0
080005D4  1030 2800  708          move.b    0(A0,D2.L),D0
080005D8  0C00 005D  709          cmp.b     #93,D0
080005DC  6702       710          beq.s     @doscan_select_21
                     711   @doscan_select_23:
080005DE  7A01       712          moveq     #1,D5
                     713   @doscan_select_21:
080005E0  200A       714          move.l    A2,D0
080005E2  6712       715          beq.s     @doscan_select_24
080005E4  4A85       716          tst.l     D5
080005E6  660C       717          bne.s     @doscan_select_26
080005E8  4A87       718          tst.l     D7
080005EA  6606       719          bne.s     @doscan_select_28
080005EC  2046       720          move.l    D6,A0
080005EE  5286       721          addq.l    #1,D6
080005F0  1084       722          move.b    D4,(A0)
                     723   @doscan_select_28:
080005F2  6014       724          bra.s     @doscan_select_4
                     725   @doscan_select_26:
080005F4  6016       726          bra.s     @doscan_select_5
                     727   @doscan_select_24:
080005F6  4A85       728          tst.l     D5
080005F8  670C       729          beq.s     @doscan_select_30
080005FA  4A87       730          tst.l     D7
080005FC  6606       731          bne.s     @doscan_select_32
080005FE  2046       732          move.l    D6,A0
08000600  5286       733          addq.l    #1,D6
08000602  1084       734          move.b    D4,(A0)
                     735   @doscan_select_32:
08000604  6002       736          bra.s     @doscan_select_4
                     737   @doscan_select_30:
08000606  6004       738          bra.s     @doscan_select_5
                     739   @doscan_select_4:
08000608  6000 FF00  740          bra       @doscan_select_2
                     741   @doscan_select_5:
0800060C  0C84 FFFF  742          cmp.l     #-1,D4
08000610  FFFF      
08000612  6714       743          beq.s     @doscan_select_34
08000614  2F04       744          move.l    D4,-(A7)
08000616  2F2E 0008  745          move.l    8(A6),-(A7)
0800061A  4EB9 0800  746          jsr       @doscan_putback
0800061E  0446      
08000620  504F       747          addq.w    #8,A7
08000622  206E 001C  748          move.l    28(A6),A0
08000626  5390       749          subq.l    #1,(A0)
                     750   @doscan_select_34:
08000628  4A87       751          tst.l     D7
0800062A  6604       752          bne.s     @doscan_select_36
0800062C  2046       753          move.l    D6,A0
0800062E  4210       754          clr.b     (A0)
                     755   @doscan_select_36:
08000630  5283       756          addq.l    #1,D3
08000632  2043       757          move.l    D3,A0
08000634  1010       758          move.b    (A0),D0
08000636  0C00 005D  759          cmp.b     #93,D0
0800063A  6702       760          beq.s     @doscan_select_40
0800063C  60F2       761          bra       @doscan_select_36
                     762   @doscan_select_40:
0800063E  5283       763          addq.l    #1,D3
08000640  2003       764          move.l    D3,D0
08000642  4CDF 04FC  765          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2
08000646  4E5E       766          unlk      A6
08000648  4E75       767          rts
                     768   _scanflush:
0800064A  41F9 0800  769          lea       @doscan_buf.L,A0
0800064E  19F4      
08000650  23C8 0800  770          move.l    A0,@doscan_lpbuf.L
08000654  19F0      
08000656  4239 0800  771          clr.b     @doscan_buf.L
0800065A  19F4      
0800065C  4878 FFFF  772          pea       -1
08000660  4EB9 0800  773          jsr       _ungetch
08000664  0E60      
08000666  584F       774          addq.w    #4,A7
08000668  4E75       775          rts
                     776   _doscan:
0800066A  4E56 FF88  777          link      A6,#-120
0800066E  48E7 3F3C  778          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000672  47F9 0800  779          lea       @doscan_read.L,A3
08000676  03C8      
08000678  4AAE 0008  780          tst.l     8(A6)
0800067C  6706       781          beq.s     doscan_1
0800067E  41EE 0008  782          lea       8(A6),A0
08000682  6008       783          bra.s     doscan_2
                     784   doscan_1:
08000684  4200       785          clr.b     D0
08000686  4880       786          ext.w     D0
08000688  48C0       787          ext.l     D0
0800068A  2040       788          move.l    D0,A0
                     789   doscan_2:
0800068C  2A08       790          move.l    A0,D5
0800068E  42AE FFE4  791          clr.l     -28(A6)
08000692  4284       792          clr.l     D4
                     793   doscan_3:
08000694  206E 000C  794          move.l    12(A6),A0
08000698  52AE 000C  795          addq.l    #1,12(A6)
0800069C  1010       796          move.b    (A0),D0
0800069E  4880       797          ext.w     D0
080006A0  48C0       798          ext.l     D0
080006A2  2600       799          move.l    D0,D3
080006A4  4201       800          clr.b     D1
080006A6  C2BC 0000  801          and.l     #255,D1
080006AA  00FF      
080006AC  B081       802          cmp.l     D1,D0
080006AE  6700 0612  803          beq       doscan_5
080006B2  4286       804          clr.l     D6
080006B4  387C 0000  805          move.w    #0,A4
080006B8  0C83 0000  806          cmp.l     #32,D3
080006BC  0020      
080006BE  6712       807          beq.s     doscan_8
080006C0  0C83 0000  808          cmp.l     #9,D3
080006C4  0009      
080006C6  670A       809          beq.s     doscan_8
080006C8  0C83 0000  810          cmp.l     #10,D3
080006CC  000A      
080006CE  6600 0050  811          bne       doscan_6
                     812   doscan_8:
080006D2  2F05       813          move.l    D5,-(A7)
080006D4  4E93       814          jsr       (A3)
080006D6  584F       815          addq.w    #4,A7
080006D8  2400       816          move.l    D0,D2
080006DA  52AE FFE4  817          addq.l    #1,-28(A6)
080006DE  0C82 FFFF  818          cmp.l     #-1,D2
080006E2  FFFF      
080006E4  6612       819          bne.s     doscan_11
080006E6  4A84       820          tst.l     D4
080006E8  6704       821          beq.s     doscan_13
080006EA  2004       822          move.l    D4,D0
080006EC  6006       823          bra.s     doscan_14
                     824   doscan_13:
080006EE  70FF       825          moveq     #-1,D0
080006F0  4880       826          ext.w     D0
080006F2  48C0       827          ext.l     D0
                     828   doscan_14:
080006F4  6000 05CE  829          bra       doscan_15
                     830   doscan_11:
080006F8  2002       831          move.l    D2,D0
080006FA  5280       832          addq.l    #1,D0
080006FC  41F9 0800  833          lea       __ctype.L,A0
08000700  18D6      
08000702  1030 0800  834          move.b    0(A0,D0.L),D0
08000706  C03C 0010  835          and.b     #16,D0
0800070A  66C6       836          bne       doscan_8
0800070C  53AE FFE4  837          subq.l    #1,-28(A6)
08000710  2F02       838          move.l    D2,-(A7)
08000712  2F05       839          move.l    D5,-(A7)
08000714  4EB9 0800  840          jsr       @doscan_putback
08000718  0446      
0800071A  504F       841          addq.w    #8,A7
0800071C  6000 05A0  842          bra       doscan_141
                     843   doscan_6:
08000720  0C83 0000  844          cmp.l     #37,D3
08000724  0025      
08000726  6600 055A  845          bne       doscan_129
0800072A  206E 000C  846          move.l    12(A6),A0
0800072E  52AE 000C  847          addq.l    #1,12(A6)
08000732  1010       848          move.b    (A0),D0
08000734  4880       849          ext.w     D0
08000736  48C0       850          ext.l     D0
08000738  2600       851          move.l    D0,D3
0800073A  42AE FFEC  852          clr.l     -20(A6)
0800073E  4286       853          clr.l     D6
08000740  42AE FFE8  854          clr.l     -24(A6)
08000744  347C 7FFF  855          move.w    #32767,A2
08000748  0C83 0000  856          cmp.l     #42,D3
0800074C  002A      
0800074E  6612       857          bne.s     doscan_18
08000750  7C01       858          moveq     #1,D6
08000752  206E 000C  859          move.l    12(A6),A0
08000756  52AE 000C  860          addq.l    #1,12(A6)
0800075A  1010       861          move.b    (A0),D0
0800075C  4880       862          ext.w     D0
0800075E  48C0       863          ext.l     D0
08000760  2600       864          move.l    D0,D3
                     865   doscan_18:
08000762  2003       866          move.l    D3,D0
08000764  5280       867          addq.l    #1,D0
08000766  41F9 0800  868          lea       __ctype.L,A0
0800076A  18D6      
0800076C  1030 0800  869          move.b    0(A0,D0.L),D0
08000770  C03C 0004  870          and.b     #4,D0
08000774  6700 004C  871          beq       doscan_24
08000778  2003       872          move.l    D3,D0
0800077A  0480 0000  873          sub.l     #48,D0
0800077E  0030      
08000780  2440       874          move.l    D0,A2
                     875   doscan_22:
08000782  206E 000C  876          move.l    12(A6),A0
08000786  52AE 000C  877          addq.l    #1,12(A6)
0800078A  1010       878          move.b    (A0),D0
0800078C  4880       879          ext.w     D0
0800078E  48C0       880          ext.l     D0
08000790  2600       881          move.l    D0,D3
08000792  5280       882          addq.l    #1,D0
08000794  41F9 0800  883          lea       __ctype.L,A0
08000798  18D6      
0800079A  1030 0800  884          move.b    0(A0,D0.L),D0
0800079E  C03C 0004  885          and.b     #4,D0
080007A2  671E       886          beq.s     doscan_24
080007A4  2F0A       887          move.l    A2,-(A7)
080007A6  4878 000A  888          pea       10
080007AA  4EB9 0800  889          jsr       LMUL
080007AE  0D0E      
080007B0  2017       890          move.l    (A7),D0
080007B2  504F       891          addq.w    #8,A7
080007B4  2203       892          move.l    D3,D1
080007B6  0481 0000  893          sub.l     #48,D1
080007BA  0030      
080007BC  D081       894          add.l     D1,D0
080007BE  2440       895          move.l    D0,A2
080007C0  60C0       896          bra       doscan_22
                     897   doscan_24:
080007C2  0C83 0000  898          cmp.l     #108,D3
080007C6  006C      
080007C8  6708       899          beq.s     doscan_27
080007CA  0C83 0000  900          cmp.l     #76,D3
080007CE  004C      
080007D0  661A       901          bne.s     doscan_25
                     902   doscan_27:
080007D2  2D7C 0000  903          move.l    #1,-24(A6)
080007D6  0001 FFE8 
080007DA  206E 000C  904          move.l    12(A6),A0
080007DE  52AE 000C  905          addq.l    #1,12(A6)
080007E2  1010       906          move.b    (A0),D0
080007E4  4880       907          ext.w     D0
080007E6  48C0       908          ext.l     D0
080007E8  2600       909          move.l    D0,D3
080007EA  6020       910          bra.s     doscan_28
                     911   doscan_25:
080007EC  0C83 0000  912          cmp.l     #104,D3
080007F0  0068      
080007F2  6618       913          bne.s     doscan_28
080007F4  2D7C 0000  914          move.l    #1,-20(A6)
080007F8  0001 FFEC 
080007FC  206E 000C  915          move.l    12(A6),A0
08000800  52AE 000C  916          addq.l    #1,12(A6)
08000804  1010       917          move.b    (A0),D0
08000806  4880       918          ext.w     D0
08000808  48C0       919          ext.l     D0
0800080A  2600       920          move.l    D0,D3
                     921   doscan_28:
0800080C  0C83 0000  922          cmp.l     #91,D3
08000810  005B      
08000812  6600 0038  923          bne       doscan_30
08000816  4A86       924          tst.l     D6
08000818  660A       925          bne.s     doscan_32
0800081A  206E 0010  926          move.l    16(A6),A0
0800081E  58AE 0010  927          addq.l    #4,16(A6)
08000822  2E10       928          move.l    (A0),D7
                     929   doscan_32:
08000824  486E FFE4  930          pea       -28(A6)
08000828  2F07       931          move.l    D7,-(A7)
0800082A  2F06       932          move.l    D6,-(A7)
0800082C  2F0A       933          move.l    A2,-(A7)
0800082E  2F2E 000C  934          move.l    12(A6),-(A7)
08000832  2F05       935          move.l    D5,-(A7)
08000834  4EB9 0800  936          jsr       @doscan_select
08000838  04E0      
0800083A  DEFC 0018  937          add.w     #24,A7
0800083E  2D40 000C  938          move.l    D0,12(A6)
08000842  4A86       939          tst.l     D6
08000844  6602       940          bne.s     doscan_34
08000846  5284       941          addq.l    #1,D4
                     942   doscan_34:
08000848  6000 0474  943          bra       doscan_141
                     944   doscan_30:
0800084C  0C83 0000  945          cmp.l     #110,D3
08000850  006E      
08000852  661A       946          bne.s     doscan_36
08000854  4A86       947          tst.l     D6
08000856  6612       948          bne.s     doscan_38
08000858  206E 0010  949          move.l    16(A6),A0
0800085C  58AE 0010  950          addq.l    #4,16(A6)
08000860  2E10       951          move.l    (A0),D7
08000862  2047       952          move.l    D7,A0
08000864  20AE FFE4  953          move.l    -28(A6),(A0)
08000868  5284       954          addq.l    #1,D4
                     955   doscan_38:
0800086A  6000 0452  956          bra       doscan_141
                     957   doscan_36:
0800086E  0C83 0000  958          cmp.l     #115,D3
08000872  0073      
08000874  6600 00C4  959          bne       doscan_40
08000878  486E FFE4  960          pea       -28(A6)
0800087C  2F05       961          move.l    D5,-(A7)
0800087E  4EB9 0800  962          jsr       @doscan_space
08000882  04AA      
08000884  504F       963          addq.w    #8,A7
08000886  2400       964          move.l    D0,D2
08000888  4A86       965          tst.l     D6
0800088A  660A       966          bne.s     doscan_42
0800088C  206E 0010  967          move.l    16(A6),A0
08000890  58AE 0010  968          addq.l    #4,16(A6)
08000894  2E10       969          move.l    (A0),D7
                     970   doscan_42:
08000896  52AE FFE4  971          addq.l    #1,-28(A6)
                     972   doscan_44:
0800089A  200A       973          move.l    A2,D0
0800089C  534A       974          subq.w    #1,A2
0800089E  4A80       975          tst.l     D0
080008A0  6700 0048  976          beq       doscan_46
080008A4  2002       977          move.l    D2,D0
080008A6  5280       978          addq.l    #1,D0
080008A8  41F9 0800  979          lea       __ctype.L,A0
080008AC  18D6      
080008AE  1030 0800  980          move.b    0(A0,D0.L),D0
080008B2  C03C 0010  981          and.b     #16,D0
080008B6  6604       982          bne.s     doscan_47
080008B8  7001       983          moveq     #1,D0
080008BA  6002       984          bra.s     doscan_48
                     985   doscan_47:
080008BC  4280       986          clr.l     D0
                     987   doscan_48:
080008BE  C0BC 0000  988          and.l     #255,D0
080008C2  00FF      
080008C4  6724       989          beq.s     doscan_46
080008C6  0C82 FFFF  990          cmp.l     #-1,D2
080008CA  FFFF      
080008CC  671C       991          beq.s     doscan_46
080008CE  387C 0001  992          move.w    #1,A4
080008D2  4A86       993          tst.l     D6
080008D4  6606       994          bne.s     doscan_49
080008D6  2047       995          move.l    D7,A0
080008D8  5287       996          addq.l    #1,D7
080008DA  1082       997          move.b    D2,(A0)
                     998   doscan_49:
080008DC  2F05       999          move.l    D5,-(A7)
080008DE  4E93      1000          jsr       (A3)
080008E0  584F      1001          addq.w    #4,A7
080008E2  2400      1002          move.l    D0,D2
080008E4  52AE FFE4 1003          addq.l    #1,-28(A6)
080008E8  60B0      1004          bra       doscan_44
                    1005   doscan_46:
080008EA  4A86      1006          tst.l     D6
080008EC  660A      1007          bne.s     doscan_53
080008EE  2047      1008          move.l    D7,A0
080008F0  4210      1009          clr.b     (A0)
080008F2  200C      1010          move.l    A4,D0
080008F4  6702      1011          beq.s     doscan_53
080008F6  5284      1012          addq.l    #1,D4
                    1013   doscan_53:
080008F8  0C82 FFFF 1014          cmp.l     #-1,D2
080008FC  FFFF      
080008FE  6708      1015          beq.s     doscan_57
08000900  4A86      1016          tst.l     D6
08000902  6622      1017          bne.s     doscan_55
08000904  200C      1018          move.l    A4,D0
08000906  661E      1019          bne.s     doscan_55
                    1020   doscan_57:
08000908  4A84      1021          tst.l     D4
0800090A  6704      1022          beq.s     doscan_58
0800090C  2004      1023          move.l    D4,D0
0800090E  6012      1024          bra.s     doscan_61
                    1025   doscan_58:
08000910  0C82 FFFF 1026          cmp.l     #-1,D2
08000914  FFFF      
08000916  6608      1027          bne.s     doscan_60
08000918  70FF      1028          moveq     #-1,D0
0800091A  4880      1029          ext.w     D0
0800091C  48C0      1030          ext.l     D0
0800091E  6002      1031          bra.s     doscan_61
                    1032   doscan_60:
08000920  2004      1033          move.l    D4,D0
                    1034   doscan_61:
08000922  6000 03A0 1035          bra       doscan_15
                    1036   doscan_55:
08000926  53AE FFE4 1037          subq.l    #1,-28(A6)
0800092A  2F02      1038          move.l    D2,-(A7)
0800092C  2F05      1039          move.l    D5,-(A7)
0800092E  4EB9 0800 1040          jsr       @doscan_putback
08000932  0446      
08000934  504F      1041          addq.w    #8,A7
08000936  6000 0386 1042          bra       doscan_141
                    1043   doscan_40:
0800093A  0C83 0000 1044          cmp.l     #99,D3
0800093E  0063      
08000940  6600 0094 1045          bne       doscan_62
08000944  4A86      1046          tst.l     D6
08000946  660A      1047          bne.s     doscan_64
08000948  206E 0010 1048          move.l    16(A6),A0
0800094C  58AE 0010 1049          addq.l    #4,16(A6)
08000950  2E10      1050          move.l    (A0),D7
                    1051   doscan_64:
08000952  2F05      1052          move.l    D5,-(A7)
08000954  4E93      1053          jsr       (A3)
08000956  584F      1054          addq.w    #4,A7
08000958  2400      1055          move.l    D0,D2
0800095A  52AE FFE4 1056          addq.l    #1,-28(A6)
0800095E  200A      1057          move.l    A2,D0
08000960  0C80 0000 1058          cmp.l     #32767,D0
08000964  7FFF      
08000966  6604      1059          bne.s     doscan_66
08000968  347C 0001 1060          move.w    #1,A2
                    1061   doscan_66:
0800096C  0C82 FFFF 1062          cmp.l     #-1,D2
08000970  FFFF      
08000972  6606      1063          bne.s     doscan_68
08000974  4A86      1064          tst.l     D6
08000976  6602      1065          bne.s     doscan_68
08000978  5384      1066          subq.l    #1,D4
                    1067   doscan_68:
0800097A  200A      1068          move.l    A2,D0
0800097C  534A      1069          subq.w    #1,A2
0800097E  4A80      1070          tst.l     D0
08000980  6720      1071          beq.s     doscan_72
08000982  0C82 FFFF 1072          cmp.l     #-1,D2
08000986  FFFF      
08000988  6718      1073          beq.s     doscan_72
0800098A  4A86      1074          tst.l     D6
0800098C  6606      1075          bne.s     doscan_73
0800098E  2047      1076          move.l    D7,A0
08000990  5287      1077          addq.l    #1,D7
08000992  1082      1078          move.b    D2,(A0)
                    1079   doscan_73:
08000994  2F05      1080          move.l    D5,-(A7)
08000996  4E93      1081          jsr       (A3)
08000998  584F      1082          addq.w    #4,A7
0800099A  2400      1083          move.l    D0,D2
0800099C  52AE FFE4 1084          addq.l    #1,-28(A6)
080009A0  60D8      1085          bra       doscan_68
                    1086   doscan_72:
080009A2  0C82 FFFF 1087          cmp.l     #-1,D2
080009A6  FFFF      
080009A8  6612      1088          bne.s     doscan_75
080009AA  4A84      1089          tst.l     D4
080009AC  6704      1090          beq.s     doscan_77
080009AE  2004      1091          move.l    D4,D0
080009B0  6006      1092          bra.s     doscan_78
                    1093   doscan_77:
080009B2  70FF      1094          moveq     #-1,D0
080009B4  4880      1095          ext.w     D0
080009B6  48C0      1096          ext.l     D0
                    1097   doscan_78:
080009B8  6000 030A 1098          bra       doscan_15
                    1099   doscan_75:
080009BC  4A86      1100          tst.l     D6
080009BE  6602      1101          bne.s     doscan_79
080009C0  5284      1102          addq.l    #1,D4
                    1103   doscan_79:
080009C2  53AE FFE4 1104          subq.l    #1,-28(A6)
080009C6  2F02      1105          move.l    D2,-(A7)
080009C8  2F05      1106          move.l    D5,-(A7)
080009CA  4EB9 0800 1107          jsr       @doscan_putback
080009CE  0446      
080009D0  504F      1108          addq.w    #8,A7
080009D2  6000 02EA 1109          bra       doscan_141
                    1110   doscan_62:
080009D6  0C83 0000 1111          cmp.l     #105,D3
080009DA  0069      
080009DC  6600 0068 1112          bne       doscan_84
080009E0  486E FFE4 1113          pea       -28(A6)
080009E4  2F05      1114          move.l    D5,-(A7)
080009E6  4EB9 0800 1115          jsr       @doscan_space
080009EA  04AA      
080009EC  504F      1116          addq.w    #8,A7
080009EE  2400      1117          move.l    D0,D2
080009F0  0C82 0000 1118          cmp.l     #48,D2
080009F4  0030      
080009F6  6600 003C 1119          bne       doscan_83
080009FA  387C 0001 1120          move.w    #1,A4
080009FE  2F05      1121          move.l    D5,-(A7)
08000A00  4E93      1122          jsr       (A3)
08000A02  584F      1123          addq.w    #4,A7
08000A04  2400      1124          move.l    D0,D2
08000A06  2F02      1125          move.l    D2,-(A7)
08000A08  4EB9 0800 1126          jsr       _tolower
08000A0C  0E12      
08000A0E  584F      1127          addq.w    #4,A7
08000A10  0C80 0000 1128          cmp.l     #120,D0
08000A14  0078      
08000A16  6604      1129          bne.s     doscan_85
08000A18  7678      1130          moveq     #120,D3
08000A1A  6012      1131          bra.s     doscan_86
                    1132   doscan_85:
08000A1C  53AE FFE4 1133          subq.l    #1,-28(A6)
08000A20  2F02      1134          move.l    D2,-(A7)
08000A22  2F05      1135          move.l    D5,-(A7)
08000A24  4EB9 0800 1136          jsr       @doscan_putback
08000A28  0446      
08000A2A  504F      1137          addq.w    #8,A7
08000A2C  766F      1138          moveq     #111,D3
                    1139   doscan_86:
08000A2E  52AE FFE4 1140          addq.l    #1,-28(A6)
08000A32  6012      1141          bra.s     doscan_84
                    1142   doscan_83:
08000A34  53AE FFE4 1143          subq.l    #1,-28(A6)
08000A38  2F02      1144          move.l    D2,-(A7)
08000A3A  2F05      1145          move.l    D5,-(A7)
08000A3C  4EB9 0800 1146          jsr       @doscan_putback
08000A40  0446      
08000A42  504F      1147          addq.w    #8,A7
08000A44  7664      1148          moveq     #100,D3
                    1149   doscan_84:
08000A46  0C83 0000 1150          cmp.l     #100,D3
08000A4A  0064      
08000A4C  671A      1151          beq.s     doscan_89
08000A4E  0C83 0000 1152          cmp.l     #117,D3
08000A52  0075      
08000A54  6712      1153          beq.s     doscan_89
08000A56  0C83 0000 1154          cmp.l     #120,D3
08000A5A  0078      
08000A5C  670A      1155          beq.s     doscan_89
08000A5E  0C83 0000 1156          cmp.l     #111,D3
08000A62  006F      
08000A64  6600 01CE 1157          bne       doscan_87
                    1158   doscan_89:
08000A68  486E FFE4 1159          pea       -28(A6)
08000A6C  2F05      1160          move.l    D5,-(A7)
08000A6E  4EB9 0800 1161          jsr       @doscan_space
08000A72  04AA      
08000A74  504F      1162          addq.w    #8,A7
08000A76  2400      1163          move.l    D0,D2
08000A78  2D7C 0000 1164          move.l    #10,-4(A6)
08000A7C  000A FFFC 
08000A80  0C83 0000 1165          cmp.l     #120,D3
08000A84  0078      
08000A86  6608      1166          bne.s     doscan_90
08000A88  2D7C 0000 1167          move.l    #16,-4(A6)
08000A8C  0010 FFFC 
                    1168   doscan_90:
08000A90  0C83 0000 1169          cmp.l     #111,D3
08000A94  006F      
08000A96  6608      1170          bne.s     doscan_92
08000A98  2D7C 0000 1171          move.l    #8,-4(A6)
08000A9C  0008 FFFC 
                    1172   doscan_92:
08000AA0  4A86      1173          tst.l     D6
08000AA2  660A      1174          bne.s     doscan_94
08000AA4  206E 0010 1175          move.l    16(A6),A0
08000AA8  58AE 0010 1176          addq.l    #4,16(A6)
08000AAC  2E10      1177          move.l    (A0),D7
                    1178   doscan_94:
08000AAE  42AE FFE0 1179          clr.l     -32(A6)
08000AB2  52AE FFE4 1180          addq.l    #1,-28(A6)
08000AB6  0C83 0000 1181          cmp.l     #117,D3
08000ABA  0075      
08000ABC  6720      1182          beq.s     doscan_96
08000ABE  0C82 0000 1183          cmp.l     #45,D2
08000AC2  002D      
08000AC4  6618      1184          bne.s     doscan_96
08000AC6  2F05      1185          move.l    D5,-(A7)
08000AC8  4E93      1186          jsr       (A3)
08000ACA  584F      1187          addq.w    #4,A7
08000ACC  2400      1188          move.l    D0,D2
08000ACE  52AE FFE4 1189          addq.l    #1,-28(A6)
08000AD2  2D7C 0000 1190          move.l    #1,-32(A6)
08000AD6  0001 FFE0 
08000ADA  387C 0001 1191          move.w    #1,A4
                    1192   doscan_96:
08000ADE  3A7C 0000 1193          move.w    #0,A5
08000AE2  0C82 FFFF 1194          cmp.l     #-1,D2
08000AE6  FFFF      
08000AE8  6612      1195          bne.s     doscan_98
08000AEA  4A84      1196          tst.l     D4
08000AEC  6704      1197          beq.s     doscan_100
08000AEE  2004      1198          move.l    D4,D0
08000AF0  6006      1199          bra.s     doscan_101
                    1200   doscan_100:
08000AF2  70FF      1201          moveq     #-1,D0
08000AF4  4880      1202          ext.w     D0
08000AF6  48C0      1203          ext.l     D0
                    1204   doscan_101:
08000AF8  6000 01CA 1205          bra       doscan_15
                    1206   doscan_98:
08000AFC  200A      1207          move.l    A2,D0
08000AFE  534A      1208          subq.w    #1,A2
08000B00  4A80      1209          tst.l     D0
08000B02  6700 00AA 1210          beq       doscan_104
08000B06  0C83 0000 1211          cmp.l     #120,D3
08000B0A  0078      
08000B0C  6624      1212          bne.s     doscan_106
08000B0E  2F02      1213          move.l    D2,-(A7)
08000B10  4EB9 0800 1214          jsr       _toupper
08000B14  0E44      
08000B16  584F      1215          addq.w    #4,A7
08000B18  0C80 0000 1216          cmp.l     #65,D0
08000B1C  0041      
08000B1E  6D12      1217          blt.s     doscan_106
08000B20  2F02      1218          move.l    D2,-(A7)
08000B22  4EB9 0800 1219          jsr       _toupper
08000B26  0E44      
08000B28  584F      1220          addq.w    #4,A7
08000B2A  0C80 0000 1221          cmp.l     #70,D0
08000B2E  0046      
08000B30  6F1C      1222          ble.s     doscan_105
                    1223   doscan_106:
08000B32  2002      1224          move.l    D2,D0
08000B34  5280      1225          addq.l    #1,D0
08000B36  41F9 0800 1226          lea       __ctype.L,A0
08000B3A  18D6      
08000B3C  1030 0800 1227          move.b    0(A0,D0.L),D0
08000B40  C03C 0004 1228          and.b     #4,D0
08000B44  C0BC 0000 1229          and.l     #255,D0
08000B48  00FF      
08000B4A  6700 0062 1230          beq       doscan_104
                    1231   doscan_105:
08000B4E  2002      1232          move.l    D2,D0
08000B50  5280      1233          addq.l    #1,D0
08000B52  41F9 0800 1234          lea       __ctype.L,A0
08000B56  18D6      
08000B58  1030 0800 1235          move.b    0(A0,D0.L),D0
08000B5C  C03C 0004 1236          and.b     #4,D0
08000B60  661E      1237          bne.s     doscan_107
08000B62  2F02      1238          move.l    D2,-(A7)
08000B64  4EB9 0800 1239          jsr       _toupper
08000B68  0E44      
08000B6A  584F      1240          addq.w    #4,A7
08000B6C  0480 0000 1241          sub.l     #65,D0
08000B70  0041      
08000B72  0680 0000 1242          add.l     #10,D0
08000B76  000A      
08000B78  0680 0000 1243          add.l     #48,D0
08000B7C  0030      
08000B7E  2400      1244          move.l    D0,D2
                    1245   doscan_107:
08000B80  2F0D      1246          move.l    A5,-(A7)
08000B82  2F2E FFFC 1247          move.l    -4(A6),-(A7)
08000B86  4EB9 0800 1248          jsr       LMUL
08000B8A  0D0E      
08000B8C  2017      1249          move.l    (A7),D0
08000B8E  504F      1250          addq.w    #8,A7
08000B90  D082      1251          add.l     D2,D0
08000B92  0480 0000 1252          sub.l     #48,D0
08000B96  0030      
08000B98  2A40      1253          move.l    D0,A5
08000B9A  2F05      1254          move.l    D5,-(A7)
08000B9C  4E93      1255          jsr       (A3)
08000B9E  584F      1256          addq.w    #4,A7
08000BA0  2400      1257          move.l    D0,D2
08000BA2  52AE FFE4 1258          addq.l    #1,-28(A6)
08000BA6  387C 0001 1259          move.w    #1,A4
08000BAA  6000 FF50 1260          bra       doscan_98
                    1261   doscan_104:
08000BAE  0C82 FFFF 1262          cmp.l     #-1,D2
08000BB2  FFFF      
08000BB4  671C      1263          beq.s     doscan_109
08000BB6  2F02      1264          move.l    D2,-(A7)
08000BB8  2F05      1265          move.l    D5,-(A7)
08000BBA  4EB9 0800 1266          jsr       @doscan_putback
08000BBE  0446      
08000BC0  504F      1267          addq.w    #8,A7
08000BC2  53AE FFE4 1268          subq.l    #1,-28(A6)
08000BC6  200C      1269          move.l    A4,D0
08000BC8  6606      1270          bne.s     doscan_111
08000BCA  2004      1271          move.l    D4,D0
08000BCC  6000 00F6 1272          bra       doscan_15
                    1273   doscan_111:
08000BD0  6016      1274          bra.s     doscan_113
                    1275   doscan_109:
08000BD2  200C      1276          move.l    A4,D0
08000BD4  6612      1277          bne.s     doscan_113
08000BD6  4A84      1278          tst.l     D4
08000BD8  6704      1279          beq.s     doscan_115
08000BDA  2004      1280          move.l    D4,D0
08000BDC  6006      1281          bra.s     doscan_116
                    1282   doscan_115:
08000BDE  70FF      1283          moveq     #-1,D0
08000BE0  4880      1284          ext.w     D0
08000BE2  48C0      1285          ext.l     D0
                    1286   doscan_116:
08000BE4  6000 00DE 1287          bra       doscan_15
                    1288   doscan_113:
08000BE8  4AAE FFE0 1289          tst.l     -32(A6)
08000BEC  6706      1290          beq.s     doscan_117
08000BEE  200D      1291          move.l    A5,D0
08000BF0  4480      1292          neg.l     D0
08000BF2  2A40      1293          move.l    D0,A5
                    1294   doscan_117:
08000BF4  4A86      1295          tst.l     D6
08000BF6  661E      1296          bne.s     doscan_119
08000BF8  4AAE FFE8 1297          tst.l     -24(A6)
08000BFC  6706      1298          beq.s     doscan_121
08000BFE  2047      1299          move.l    D7,A0
08000C00  208D      1300          move.l    A5,(A0)
08000C02  6010      1301          bra.s     doscan_124
                    1302   doscan_121:
08000C04  4AAE FFEC 1303          tst.l     -20(A6)
08000C08  6706      1304          beq.s     doscan_123
08000C0A  2047      1305          move.l    D7,A0
08000C0C  308D      1306          move.w    A5,(A0)
08000C0E  6004      1307          bra.s     doscan_124
                    1308   doscan_123:
08000C10  2047      1309          move.l    D7,A0
08000C12  208D      1310          move.l    A5,(A0)
                    1311   doscan_124:
08000C14  5284      1312          addq.l    #1,D4
                    1313   doscan_119:
08000C16  0C82 FFFF 1314          cmp.l     #-1,D2
08000C1A  FFFF      
08000C1C  6612      1315          bne.s     doscan_125
08000C1E  4A84      1316          tst.l     D4
08000C20  6704      1317          beq.s     doscan_127
08000C22  2004      1318          move.l    D4,D0
08000C24  6006      1319          bra.s     doscan_128
                    1320   doscan_127:
08000C26  70FF      1321          moveq     #-1,D0
08000C28  4880      1322          ext.w     D0
08000C2A  48C0      1323          ext.l     D0
                    1324   doscan_128:
08000C2C  6000 0096 1325          bra       doscan_15
                    1326   doscan_125:
08000C30  6000 008C 1327          bra       doscan_141
                    1328   doscan_87:
08000C34  0C83 0000 1329          cmp.l     #37,D3
08000C38  0025      
08000C3A  6600 0046 1330          bne       doscan_129
08000C3E  2F05      1331          move.l    D5,-(A7)
08000C40  4E93      1332          jsr       (A3)
08000C42  584F      1333          addq.w    #4,A7
08000C44  2400      1334          move.l    D0,D2
08000C46  0C82 FFFF 1335          cmp.l     #-1,D2
08000C4A  FFFF      
08000C4C  6612      1336          bne.s     doscan_131
08000C4E  4A84      1337          tst.l     D4
08000C50  6704      1338          beq.s     doscan_133
08000C52  2004      1339          move.l    D4,D0
08000C54  6006      1340          bra.s     doscan_134
                    1341   doscan_133:
08000C56  70FF      1342          moveq     #-1,D0
08000C58  4880      1343          ext.w     D0
08000C5A  48C0      1344          ext.l     D0
                    1345   doscan_134:
08000C5C  6000 0066 1346          bra       doscan_15
                    1347   doscan_131:
08000C60  52AE FFE4 1348          addq.l    #1,-28(A6)
08000C64  B483      1349          cmp.l     D3,D2
08000C66  6716      1350          beq.s     doscan_135
08000C68  2F02      1351          move.l    D2,-(A7)
08000C6A  2F05      1352          move.l    D5,-(A7)
08000C6C  4EB9 0800 1353          jsr       @doscan_putback
08000C70  0446      
08000C72  504F      1354          addq.w    #8,A7
08000C74  53AE FFE4 1355          subq.l    #1,-28(A6)
08000C78  2004      1356          move.l    D4,D0
08000C7A  6000 0048 1357          bra       doscan_15
                    1358   doscan_135:
08000C7E  6000 003E 1359          bra       doscan_141
                    1360   doscan_129:
08000C82  2F05      1361          move.l    D5,-(A7)
08000C84  4E93      1362          jsr       (A3)
08000C86  584F      1363          addq.w    #4,A7
08000C88  2400      1364          move.l    D0,D2
08000C8A  52AE FFE4 1365          addq.l    #1,-28(A6)
08000C8E  0C82 FFFF 1366          cmp.l     #-1,D2
08000C92  FFFF      
08000C94  6610      1367          bne.s     doscan_137
08000C96  4A84      1368          tst.l     D4
08000C98  6704      1369          beq.s     doscan_139
08000C9A  2004      1370          move.l    D4,D0
08000C9C  6006      1371          bra.s     doscan_140
                    1372   doscan_139:
08000C9E  70FF      1373          moveq     #-1,D0
08000CA0  4880      1374          ext.w     D0
08000CA2  48C0      1375          ext.l     D0
                    1376   doscan_140:
08000CA4  601E      1377          bra.s     doscan_15
                    1378   doscan_137:
08000CA6  B483      1379          cmp.l     D3,D2
08000CA8  6714      1380          beq.s     doscan_141
08000CAA  2F02      1381          move.l    D2,-(A7)
08000CAC  2F05      1382          move.l    D5,-(A7)
08000CAE  4EB9 0800 1383          jsr       @doscan_putback
08000CB2  0446      
08000CB4  504F      1384          addq.w    #8,A7
08000CB6  53AE FFE4 1385          subq.l    #1,-28(A6)
08000CBA  2004      1386          move.l    D4,D0
08000CBC  6006      1387          bra.s     doscan_15
                    1388   doscan_141:
08000CBE  6000 F9D4 1389          bra       doscan_3
                    1390   doscan_5:
08000CC2  2004      1391          move.l    D4,D0
                    1392   doscan_15:
08000CC4  4CDF 3CFC 1393          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08000CC8  4E5E      1394          unlk      A6
08000CCA  4E75      1395          rts
                    1396   _printf:
08000CCC  4E56 FFFC 1397          link      A6,#-4
08000CD0  2F02      1398          move.l    D2,-(A7)
08000CD2  41EE 0008 1399          lea       8(A6),A0
08000CD6  5848      1400          addq.w    #4,A0
08000CD8  2408      1401          move.l    A0,D2
08000CDA  2F02      1402          move.l    D2,-(A7)
08000CDC  2F2E 0008 1403          move.l    8(A6),-(A7)
08000CE0  42A7      1404          clr.l     -(A7)
08000CE2  4EB9 0800 1405          jsr       _doprint
08000CE6  0F1C      
08000CE8  DEFC 000C 1406          add.w     #12,A7
08000CEC  2D40 FFFC 1407          move.l    D0,-4(A6)
08000CF0  4282      1408          clr.l     D2
08000CF2  202E FFFC 1409          move.l    -4(A6),D0
08000CF6  241F      1410          move.l    (A7)+,D2
08000CF8  4E5E      1411          unlk      A6
08000CFA  4E75      1412          rts
                    1413   ULMUL:
08000CFC  4E56 0000 1414          link    A6,#0
08000D00  48E7 C000 1415          movem.l D0/D1,-(A7)
08000D04  222E 0008 1416          move.l  8(A6),D1
08000D08  202E 000C 1417          move.l  12(A6),D0
08000D0C  602C      1418          bra.s   lmul_3
                    1419   LMUL:
08000D0E  4E56 0000 1420          link    A6,#0
08000D12  48E7 C000 1421          movem.l D0/D1,-(A7)
08000D16  222E 0008 1422          move.l  8(A6),D1
08000D1A  202E 000C 1423          move.l  12(A6),D0
08000D1E  4A80      1424          tst.l   D0
08000D20  6A0A      1425          bpl.s   lmul_1
08000D22  4480      1426          neg.l   D0
08000D24  4A81      1427          tst.l   D1
08000D26  6A0A      1428          bpl.s   lmul_2
08000D28  4481      1429          neg.l   D1
08000D2A  600E      1430          bra.s   lmul_3
                    1431   lmul_1:
08000D2C  4A81      1432          tst.l   D1
08000D2E  6A0A      1433          bpl.s   lmul_3
08000D30  4481      1434          neg.l   D1
                    1435   lmul_2:
08000D32  6114      1436          bsr.s   domul
08000D34  4481      1437          neg.l   D1
08000D36  4080      1438          negx.l  D0
08000D38  6002      1439          bra.s   lmul_4
                    1440   lmul_3:
08000D3A  610C      1441          bsr.s   domul
                    1442   lmul_4:
08000D3C  2D41 0008 1443          move.l  D1,8(A6)
08000D40  4CDF 0003 1444          movem.l (A7)+,D0/D1
08000D44  4E5E      1445          unlk    A6
08000D46  4E75      1446          rts
                    1447   domul:
08000D48  0C81 0000 1448          cmpi.l  #$FFFF,D1
08000D4C  FFFF      
08000D4E  620C      1449          bhi.s   domul_1
08000D50  0C80 0000 1450          cmpi.l  #$FFFF,D0
08000D54  FFFF      
08000D56  620E      1451          bhi.s   domul_2
08000D58  C2C0      1452          mulu    D0,D1
08000D5A  4E75      1453          rts
                    1454   domul_1:
08000D5C  0C80 0000 1455          cmpi.l  #$FFFF,D0
08000D60  FFFF      
08000D62  6218      1456          bhi.s   domul_4
08000D64  6002      1457          bra.s   domul_3
                    1458   domul_2
08000D66  C141      1459          exg     D0,D1
                    1460   domul_3:
08000D68  2F02      1461          move.l  D2,-(A7)
08000D6A  2401      1462          move.l  D1,D2
08000D6C  4842      1463          swap    D2
08000D6E  C2C0      1464          mulu    D0,D1
08000D70  C4C0      1465          mulu    D0,D2
08000D72  4842      1466          swap    D2
08000D74  4242      1467          clr.w   D2
08000D76  D282      1468          add.l   D2,D1
08000D78  241F      1469          move.l  (A7)+,D2
08000D7A  4E75      1470          rts
                    1471   domul_4:
08000D7C  48E7 3000 1472          movem.l D2/D3,-(A7)
08000D80  2401      1473          move.l  D1,D2
08000D82  2601      1474          move.l  D1,D3
08000D84  C2C0      1475          mulu    D0,D1
08000D86  4842      1476          swap    D2
08000D88  C4C0      1477          mulu    D0,D2
08000D8A  4840      1478          swap    D0
08000D8C  C6C0      1479          mulu    D0,D3
08000D8E  D483      1480          add.l   D3,D2
08000D90  4842      1481          swap    D2
08000D92  4242      1482          clr.w   D2
08000D94  D282      1483          add.l   D2,D1
08000D96  4CDF 000C 1484          movem.l (A7)+,D2/D3
08000D9A  4E75      1485          rts
                    1486   _gets:
08000D9C  4E56 0000 1487          link      A6,#0
08000DA0  48E7 3820 1488          movem.l   D2/D3/D4/A2,-(A7)
08000DA4  45F9 0800 1489          lea       _putch.L,A2
08000DA8  154C      
08000DAA  282E 0008 1490          move.l    8(A6),D4
08000DAE  2404      1491          move.l    D4,D2
                    1492   gets_1:
08000DB0  4EB9 0800 1493          jsr       _getch
08000DB4  157C      
08000DB6  2600      1494          move.l    D0,D3
08000DB8  0C80 0000 1495          cmp.l     #10,D0
08000DBC  000A      
08000DBE  6700 003C 1496          beq       gets_3
08000DC2  0C83 0000 1497          cmp.l     #8,D3
08000DC6  0008      
08000DC8  6712      1498          beq.s     gets_4
08000DCA  2042      1499          move.l    D2,A0
08000DCC  5282      1500          addq.l    #1,D2
08000DCE  1083      1501          move.b    D3,(A0)
08000DD0  4883      1502          ext.w     D3
08000DD2  48C3      1503          ext.l     D3
08000DD4  2F03      1504          move.l    D3,-(A7)
08000DD6  4E92      1505          jsr       (A2)
08000DD8  584F      1506          addq.w    #4,A7
08000DDA  601E      1507          bra.s     gets_6
                    1508   gets_4:
08000DDC  B484      1509          cmp.l     D4,D2
08000DDE  631A      1510          bls.s     gets_6
08000DE0  4878 0008 1511          pea       8
08000DE4  4E92      1512          jsr       (A2)
08000DE6  584F      1513          addq.w    #4,A7
08000DE8  4878 0020 1514          pea       32
08000DEC  4E92      1515          jsr       (A2)
08000DEE  584F      1516          addq.w    #4,A7
08000DF0  4878 0008 1517          pea       8
08000DF4  4E92      1518          jsr       (A2)
08000DF6  584F      1519          addq.w    #4,A7
08000DF8  5382      1520          subq.l    #1,D2
                    1521   gets_6:
08000DFA  60B4      1522          bra       gets_1
                    1523   gets_3:
08000DFC  4878 000A 1524          pea       10
08000E00  4E92      1525          jsr       (A2)
08000E02  584F      1526          addq.w    #4,A7
08000E04  2042      1527          move.l    D2,A0
08000E06  4210      1528          clr.b     (A0)
08000E08  2004      1529          move.l    D4,D0
08000E0A  4CDF 041C 1530          movem.l   (A7)+,D2/D3/D4/A2
08000E0E  4E5E      1531          unlk      A6
08000E10  4E75      1532          rts
                    1533   _tolower:
08000E12  202F 0004 1534          move.l    4(A7),D0
08000E16  0C80 0000 1535          cmp.l     #'A',D0
08000E1A  0041      
08000E1C  6D0E      1536          blt.s     tolower_1
08000E1E  0C80 0000 1537          cmp.l     #'Z',D0
08000E22  005A      
08000E24  6E06      1538          bgt.s     tolower_1
08000E26  0680 0000 1539          add.l     #$20,D0
08000E2A  0020      
                    1540   tolower_1:
08000E2C  4E75      1541          rts
                    1542   _strcat:
08000E2E  206F 0004 1543          move.l    (4,A7),A0
08000E32  226F 0008 1544          move.l    (8,A7),A1
08000E36  2008      1545          move.l    A0,D0
                    1546   strcat_1:
08000E38  4A18      1547          tst.b     (A0)+
08000E3A  66FC      1548          bne.s     strcat_1
08000E3C  5388      1549          subq.l    #1,A0
                    1550   strcat_2:
08000E3E  10D9      1551          move.b    (A1)+,(A0)+
08000E40  66FC      1552          bne.s     strcat_2
08000E42  4E75      1553          rts
                    1554   _toupper:
08000E44  202F 0004 1555          move.l    4(A7),D0
08000E48  0C80 0000 1556          cmp.l     #'a',D0
08000E4C  0061      
08000E4E  6D0E      1557          blt.s     toupper_1
08000E50  0C80 0000 1558          cmp.l     #'z',D0
08000E54  007A      
08000E56  6E06      1559          bgt.s     toupper_1
08000E58  0480 0000 1560          sub.l     #$20,D0
08000E5C  0020      
                    1561   toupper_1:
08000E5E  4E75      1562          rts
                    1563   _ungetch:
08000E60  4E56 0000 1564          link      A6,#0
08000E64  23EE 0008 1565          move.l    8(A6),__ungetbuf.L
08000E68  0800 19E4 
08000E6C  202E 0008 1566          move.l    8(A6),D0
08000E70  4E5E      1567          unlk      A6
08000E72  4E75      1568          rts
                    1569   @doprint_copy:
08000E74  4E56 0000 1570          link      A6,#0
08000E78  206E 0008 1571          move.l    8(A6),A0
08000E7C  4A90      1572          tst.l     (A0)
08000E7E  6710      1573          beq.s     @doprint_copy_1
08000E80  202E 000C 1574          move.l    12(A6),D0
08000E84  206E 0008 1575          move.l    8(A6),A0
08000E88  2250      1576          move.l    (A0),A1
08000E8A  5290      1577          addq.l    #1,(A0)
08000E8C  1280      1578          move.b    D0,(A1)
08000E8E  600C      1579          bra.s     @doprint_copy_2
                    1580   @doprint_copy_1:
08000E90  2F2E 000C 1581          move.l    12(A6),-(A7)
08000E94  4EB9 0800 1582          jsr       _putch
08000E98  154C      
08000E9A  584F      1583          addq.w    #4,A7
                    1584   @doprint_copy_2:
08000E9C  4E5E      1585          unlk      A6
08000E9E  4E75      1586          rts
                    1587   @doprint_getval:
08000EA0  4E56 0000 1588          link      A6,#0
08000EA4  48E7 3000 1589          movem.l   D2/D3,-(A7)
08000EA8  262E 0008 1590          move.l    8(A6),D3
08000EAC  4282      1591          clr.l     D2
08000EAE  2043      1592          move.l    D3,A0
08000EB0  2050      1593          move.l    (A0),A0
08000EB2  1010      1594          move.b    (A0),D0
08000EB4  0C00 002A 1595          cmp.b     #42,D0
08000EB8  6612      1596          bne.s     @doprint_getval_1
08000EBA  206E 000C 1597          move.l    12(A6),A0
08000EBE  2250      1598          move.l    (A0),A1
08000EC0  5890      1599          addq.l    #4,(A0)
08000EC2  2411      1600          move.l    (A1),D2
08000EC4  2043      1601          move.l    D3,A0
08000EC6  5290      1602          addq.l    #1,(A0)
08000EC8  6000 0048 1603          bra       @doprint_getval_5
                    1604   @doprint_getval_1:
08000ECC  7001      1605          moveq     #1,D0
08000ECE  2043      1606          move.l    D3,A0
08000ED0  2050      1607          move.l    (A0),A0
08000ED2  1210      1608          move.b    (A0),D1
08000ED4  4881      1609          ext.w     D1
08000ED6  48C1      1610          ext.l     D1
08000ED8  D081      1611          add.l     D1,D0
08000EDA  41F9 0800 1612          lea       __ctype.L,A0
08000EDE  18D6      
08000EE0  1030 0800 1613          move.b    0(A0,D0.L),D0
08000EE4  C03C 0004 1614          and.b     #4,D0
08000EE8  6728      1615          beq.s     @doprint_getval_5
08000EEA  2F02      1616          move.l    D2,-(A7)
08000EEC  4878 000A 1617          pea       10
08000EF0  4EB9 0800 1618          jsr       LMUL
08000EF4  0D0E      
08000EF6  2017      1619          move.l    (A7),D0
08000EF8  504F      1620          addq.w    #8,A7
08000EFA  2043      1621          move.l    D3,A0
08000EFC  2250      1622          move.l    (A0),A1
08000EFE  5290      1623          addq.l    #1,(A0)
08000F00  1211      1624          move.b    (A1),D1
08000F02  4881      1625          ext.w     D1
08000F04  48C1      1626          ext.l     D1
08000F06  D081      1627          add.l     D1,D0
08000F08  0480 0000 1628          sub.l     #48,D0
08000F0C  0030      
08000F0E  2400      1629          move.l    D0,D2
08000F10  60BA      1630          bra       @doprint_getval_1
                    1631   @doprint_getval_5:
08000F12  2002      1632          move.l    D2,D0
08000F14  4CDF 000C 1633          movem.l   (A7)+,D2/D3
08000F18  4E5E      1634          unlk      A6
08000F1A  4E75      1635          rts
                    1636   _doprint:
08000F1C  4E56 FFCC 1637          link      A6,#-52
08000F20  48E7 3F3C 1638          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000F24  45EE 0008 1639          lea       8(A6),A2
08000F28  47F9 0800 1640          lea       @doprint_copy.L,A3
08000F2C  0E74      
08000F2E  49F9 0800 1641          lea       _ultoa.L,A4
08000F32  16C0      
08000F34  4286      1642          clr.l     D6
                    1643   doprint_1:
08000F36  206E 000C 1644          move.l    12(A6),A0
08000F3A  4A10      1645          tst.b     (A0)
08000F3C  6700 05F0 1646          beq       doprint_3
08000F40  206E 000C 1647          move.l    12(A6),A0
08000F44  1010      1648          move.b    (A0),D0
08000F46  0C00 0025 1649          cmp.b     #37,D0
08000F4A  671C      1650          beq.s     doprint_4
08000F4C  206E 000C 1651          move.l    12(A6),A0
08000F50  52AE 000C 1652          addq.l    #1,12(A6)
08000F54  1210      1653          move.b    (A0),D1
08000F56  4881      1654          ext.w     D1
08000F58  48C1      1655          ext.l     D1
08000F5A  2F01      1656          move.l    D1,-(A7)
08000F5C  2F0A      1657          move.l    A2,-(A7)
08000F5E  4E93      1658          jsr       (A3)
08000F60  504F      1659          addq.w    #8,A7
08000F62  5286      1660          addq.l    #1,D6
08000F64  6000 05C4 1661          bra       doprint_2
                    1662   doprint_4:
08000F68  52AE 000C 1663          addq.l    #1,12(A6)
08000F6C  422E FFD3 1664          clr.b     -45(A6)
08000F70  422E FFD2 1665          clr.b     -46(A6)
08000F74  422E FFD0 1666          clr.b     -48(A6)
08000F78  422E FFCF 1667          clr.b     -49(A6)
08000F7C  422E FFCE 1668          clr.b     -50(A6)
08000F80  422E FFCD 1669          clr.b     -51(A6)
08000F84  42AE FFFC 1670          clr.l     -4(A6)
08000F88  7AFF      1671          moveq     #-1,D5
08000F8A  41EE FFDC 1672          lea       -36(A6),A0
08000F8E  2608      1673          move.l    A0,D3
08000F90  2408      1674          move.l    A0,D2
                    1675   doprint_6:
08000F92  206E 000C 1676          move.l    12(A6),A0
08000F96  1010      1677          move.b    (A0),D0
08000F98  4880      1678          ext.w     D0
08000F9A  48C0      1679          ext.l     D0
08000F9C  0C80 0000 1680          cmp.l     #43,D0
08000FA0  002B      
08000FA2  6730      1681          beq.s     doprint_12
08000FA4  6E18      1682          bgt.s     doprint_15
08000FA6  0C80 0000 1683          cmp.l     #35,D0
08000FAA  0023      
08000FAC  6700 003E 1684          beq       doprint_14
08000FB0  6E00 0046 1685          bgt       doprint_9
08000FB4  0C80 0000 1686          cmp.l     #32,D0
08000FB8  0020      
08000FBA  6724      1687          beq.s     doprint_13
08000FBC  603A      1688          bra.s     doprint_9
                    1689   doprint_15:
08000FBE  0C80 0000 1690          cmp.l     #45,D0
08000FC2  002D      
08000FC4  6702      1691          beq.s     doprint_11
08000FC6  6030      1692          bra.s     doprint_9
                    1693   doprint_11:
08000FC8  1D7C 0001 1694          move.b    #1,-51(A6)
08000FCC  FFCD      
08000FCE  52AE 000C 1695          addq.l    #1,12(A6)
08000FD2  6026      1696          bra.s     doprint_7
                    1697   doprint_12:
08000FD4  1D7C 0001 1698          move.b    #1,-50(A6)
08000FD8  FFCE      
08000FDA  52AE 000C 1699          addq.l    #1,12(A6)
08000FDE  601A      1700          bra.s     doprint_7
                    1701   doprint_13:
08000FE0  1D7C 0001 1702          move.b    #1,-49(A6)
08000FE4  FFCF      
08000FE6  52AE 000C 1703          addq.l    #1,12(A6)
08000FEA  600E      1704          bra.s     doprint_7
                    1705   doprint_14:
08000FEC  1D7C 0001 1706          move.b    #1,-48(A6)
08000FF0  FFD0      
08000FF2  52AE 000C 1707          addq.l    #1,12(A6)
08000FF6  6002      1708          bra.s     doprint_7
                    1709   doprint_9:
08000FF8  6002      1710          bra.s     doprint_8
                    1711   doprint_7:
08000FFA  6096      1712          bra       doprint_6
                    1713   doprint_8:
08000FFC  206E 000C 1714          move.l    12(A6),A0
08001000  1010      1715          move.b    (A0),D0
08001002  0C00 0030 1716          cmp.b     #48,D0
08001006  660A      1717          bne.s     doprint_16
08001008  52AE 000C 1718          addq.l    #1,12(A6)
0800100C  1D7C 0001 1719          move.b    #1,-46(A6)
08001010  FFD2      
                    1720   doprint_16:
08001012  486E 0010 1721          pea       16(A6)
08001016  486E 000C 1722          pea       12(A6)
0800101A  4EB9 0800 1723          jsr       @doprint_getval
0800101E  0EA0      
08001020  504F      1724          addq.w    #8,A7
08001022  2A40      1725          move.l    D0,A5
08001024  206E 000C 1726          move.l    12(A6),A0
08001028  1010      1727          move.b    (A0),D0
0800102A  0C00 002E 1728          cmp.b     #46,D0
0800102E  6616      1729          bne.s     doprint_18
08001030  52AE 000C 1730          addq.l    #1,12(A6)
08001034  486E 0010 1731          pea       16(A6)
08001038  486E 000C 1732          pea       12(A6)
0800103C  4EB9 0800 1733          jsr       @doprint_getval
08001040  0EA0      
08001042  504F      1734          addq.w    #8,A7
08001044  2A00      1735          move.l    D0,D5
                    1736   doprint_18:
08001046  206E 000C 1737          move.l    12(A6),A0
0800104A  1010      1738          move.b    (A0),D0
0800104C  0C00 006C 1739          cmp.b     #108,D0
08001050  660A      1740          bne.s     doprint_20
08001052  52AE 000C 1741          addq.l    #1,12(A6)
08001056  1D7C 0001 1742          move.b    #1,-45(A6)
0800105A  FFD3      
                    1743   doprint_20:
0800105C  206E 000C 1744          move.l    12(A6),A0
08001060  1010      1745          move.b    (A0),D0
08001062  4880      1746          ext.w     D0
08001064  48C0      1747          ext.l     D0
08001066  0C80 0000 1748          cmp.l     #111,D0
0800106A  006F      
0800106C  6700 00D8 1749          beq       doprint_27
08001070  6E34      1750          bgt.s     doprint_33
08001072  0C80 0000 1751          cmp.l     #100,D0
08001076  0064      
08001078  6700 0054 1752          beq       doprint_24
0800107C  6E1C      1753          bgt.s     doprint_34
0800107E  0C80 0000 1754          cmp.l     #99,D0
08001082  0063      
08001084  6700 0130 1755          beq       doprint_30
08001088  6E00 0174 1756          bgt       doprint_22
0800108C  0C80 0000 1757          cmp.l     #88,D0
08001090  0058      
08001092  6700 00EA 1758          beq       doprint_28
08001096  6000 0166 1759          bra       doprint_22
                    1760   doprint_34:
0800109A  0C80 0000 1761          cmp.l     #105,D0
0800109E  0069      
080010A0  672C      1762          beq.s     doprint_24
080010A2  6000 015A 1763          bra       doprint_22
                    1764   doprint_33:
080010A6  0C80 0000 1765          cmp.l     #117,D0
080010AA  0075      
080010AC  6700 0060 1766          beq       doprint_26
080010B0  6E0E      1767          bgt.s     doprint_35
080010B2  0C80 0000 1768          cmp.l     #115,D0
080010B6  0073      
080010B8  6700 0124 1769          beq       doprint_31
080010BC  6000 0140 1770          bra       doprint_22
                    1771   doprint_35:
080010C0  0C80 0000 1772          cmp.l     #120,D0
080010C4  0078      
080010C6  6700 00B6 1773          beq       doprint_28
080010CA  6000 0132 1774          bra       doprint_22
                    1775   doprint_24:
080010CE  4A2E FFD3 1776          tst.b     -45(A6)
080010D2  671C      1777          beq.s     doprint_36
080010D4  4878 000A 1778          pea       10
080010D8  2F03      1779          move.l    D3,-(A7)
080010DA  206E 0010 1780          move.l    16(A6),A0
080010DE  58AE 0010 1781          addq.l    #4,16(A6)
080010E2  2F10      1782          move.l    (A0),-(A7)
080010E4  4EB9 0800 1783          jsr       _ltoa
080010E8  1638      
080010EA  DEFC 000C 1784          add.w     #12,A7
080010EE  601A      1785          bra.s     doprint_37
                    1786   doprint_36:
080010F0  4878 000A 1787          pea       10
080010F4  2F03      1788          move.l    D3,-(A7)
080010F6  206E 0010 1789          move.l    16(A6),A0
080010FA  58AE 0010 1790          addq.l    #4,16(A6)
080010FE  2F10      1791          move.l    (A0),-(A7)
08001100  4EB9 0800 1792          jsr       _ltoa
08001104  1638      
08001106  DEFC 000C 1793          add.w     #12,A7
                    1794   doprint_37:
0800110A  6000 0100 1795          bra       doprint_23
                    1796   doprint_26:
0800110E  4A2E FFD3 1797          tst.b     -45(A6)
08001112  6718      1798          beq.s     doprint_38
08001114  4878 000A 1799          pea       10
08001118  2F03      1800          move.l    D3,-(A7)
0800111A  206E 0010 1801          move.l    16(A6),A0
0800111E  58AE 0010 1802          addq.l    #4,16(A6)
08001122  2F10      1803          move.l    (A0),-(A7)
08001124  4E94      1804          jsr       (A4)
08001126  DEFC 000C 1805          add.w     #12,A7
0800112A  6016      1806          bra.s     doprint_39
                    1807   doprint_38:
0800112C  4878 000A 1808          pea       10
08001130  2F03      1809          move.l    D3,-(A7)
08001132  206E 0010 1810          move.l    16(A6),A0
08001136  58AE 0010 1811          addq.l    #4,16(A6)
0800113A  2F10      1812          move.l    (A0),-(A7)
0800113C  4E94      1813          jsr       (A4)
0800113E  DEFC 000C 1814          add.w     #12,A7
                    1815   doprint_39:
08001142  6000 00C8 1816          bra       doprint_23
                    1817   doprint_27:
08001146  4A2E FFD3 1818          tst.b     -45(A6)
0800114A  6718      1819          beq.s     doprint_40
0800114C  4878 0008 1820          pea       8
08001150  2F03      1821          move.l    D3,-(A7)
08001152  206E 0010 1822          move.l    16(A6),A0
08001156  58AE 0010 1823          addq.l    #4,16(A6)
0800115A  2F10      1824          move.l    (A0),-(A7)
0800115C  4E94      1825          jsr       (A4)
0800115E  DEFC 000C 1826          add.w     #12,A7
08001162  6016      1827          bra.s     doprint_41
                    1828   doprint_40:
08001164  4878 0008 1829          pea       8
08001168  2F03      1830          move.l    D3,-(A7)
0800116A  206E 0010 1831          move.l    16(A6),A0
0800116E  58AE 0010 1832          addq.l    #4,16(A6)
08001172  2F10      1833          move.l    (A0),-(A7)
08001174  4E94      1834          jsr       (A4)
08001176  DEFC 000C 1835          add.w     #12,A7
                    1836   doprint_41:
0800117A  6000 0090 1837          bra       doprint_23
                    1838   doprint_28:
0800117E  4A2E FFD3 1839          tst.b     -45(A6)
08001182  6718      1840          beq.s     doprint_42
08001184  4878 0010 1841          pea       16
08001188  2F03      1842          move.l    D3,-(A7)
0800118A  206E 0010 1843          move.l    16(A6),A0
0800118E  58AE 0010 1844          addq.l    #4,16(A6)
08001192  2F10      1845          move.l    (A0),-(A7)
08001194  4E94      1846          jsr       (A4)
08001196  DEFC 000C 1847          add.w     #12,A7
0800119A  6016      1848          bra.s     doprint_43
                    1849   doprint_42:
0800119C  4878 0010 1850          pea       16
080011A0  2F03      1851          move.l    D3,-(A7)
080011A2  206E 0010 1852          move.l    16(A6),A0
080011A6  58AE 0010 1853          addq.l    #4,16(A6)
080011AA  2F10      1854          move.l    (A0),-(A7)
080011AC  4E94      1855          jsr       (A4)
080011AE  DEFC 000C 1856          add.w     #12,A7
                    1857   doprint_43:
080011B2  6000 0058 1858          bra       doprint_23
                    1859   doprint_30:
080011B6  206E 0010 1860          move.l    16(A6),A0
080011BA  58AE 0010 1861          addq.l    #4,16(A6)
080011BE  2010      1862          move.l    (A0),D0
080011C0  2042      1863          move.l    D2,A0
080011C2  5282      1864          addq.l    #1,D2
080011C4  1080      1865          move.b    D0,(A0)
080011C6  2042      1866          move.l    D2,A0
080011C8  4210      1867          clr.b     (A0)
080011CA  200D      1868          move.l    A5,D0
080011CC  6704      1869          beq.s     doprint_44
080011CE  200D      1870          move.l    A5,D0
080011D0  6006      1871          bra.s     doprint_45
                    1872   doprint_44:
080011D2  7001      1873          moveq     #1,D0
080011D4  4880      1874          ext.w     D0
080011D6  48C0      1875          ext.l     D0
                    1876   doprint_45:
080011D8  2A00      1877          move.l    D0,D5
080011DA  6000 0030 1878          bra       doprint_23
                    1879   doprint_31:
080011DE  206E 0010 1880          move.l    16(A6),A0
080011E2  58AE 0010 1881          addq.l    #4,16(A6)
080011E6  2610      1882          move.l    (A0),D3
080011E8  0C85 FFFF 1883          cmp.l     #-1,D5
080011EC  FFFF      
080011EE  660C      1884          bne.s     doprint_46
080011F0  2F03      1885          move.l    D3,-(A7)
080011F2  4EB9 0800 1886          jsr       _strlen
080011F6  1726      
080011F8  584F      1887          addq.w    #4,A7
080011FA  2A00      1888          move.l    D0,D5
                    1889   doprint_46:
080011FC  600E      1890          bra.s     doprint_23
                    1891   doprint_22:
080011FE  206E 000C 1892          move.l    12(A6),A0
08001202  2242      1893          move.l    D2,A1
08001204  5282      1894          addq.l    #1,D2
08001206  1290      1895          move.b    (A0),(A1)
08001208  2042      1896          move.l    D2,A0
0800120A  4210      1897          clr.b     (A0)
                    1898   doprint_23:
0800120C  2F03      1899          move.l    D3,-(A7)
0800120E  4EB9 0800 1900          jsr       _strlen
08001212  1726      
08001214  584F      1901          addq.w    #4,A7
08001216  1800      1902          move.b    D0,D4
08001218  206E 000C 1903          move.l    12(A6),A0
0800121C  1010      1904          move.b    (A0),D0
0800121E  0C00 0073 1905          cmp.b     #115,D0
08001222  661C      1906          bne.s     doprint_48
08001224  0C85 0000 1907          cmp.l     #0,D5
08001228  0000      
0800122A  6D14      1908          blt.s     doprint_48
0800122C  4884      1909          ext.w     D4
0800122E  48C4      1910          ext.l     D4
08001230  B885      1911          cmp.l     D5,D4
08001232  6F04      1912          ble.s     doprint_50
08001234  2005      1913          move.l    D5,D0
08001236  6006      1914          bra.s     doprint_51
                    1915   doprint_50:
08001238  1004      1916          move.b    D4,D0
0800123A  4880      1917          ext.w     D0
0800123C  48C0      1918          ext.l     D0
                    1919   doprint_51:
0800123E  1800      1920          move.b    D0,D4
                    1921   doprint_48:
08001240  206E 000C 1922          move.l    12(A6),A0
08001244  1010      1923          move.b    (A0),D0
08001246  0C00 0058 1924          cmp.b     #88,D0
0800124A  6600 0028 1925          bne       doprint_56
0800124E  41EE FFDC 1926          lea       -36(A6),A0
08001252  2408      1927          move.l    A0,D2
                    1928   doprint_54:
08001254  2042      1929          move.l    D2,A0
08001256  4A10      1930          tst.b     (A0)
08001258  671A      1931          beq.s     doprint_56
0800125A  2042      1932          move.l    D2,A0
0800125C  1210      1933          move.b    (A0),D1
0800125E  4881      1934          ext.w     D1
08001260  48C1      1935          ext.l     D1
08001262  2F01      1936          move.l    D1,-(A7)
08001264  4EB9 0800 1937          jsr       _toupper
08001268  0E44      
0800126A  584F      1938          addq.w    #4,A7
0800126C  2042      1939          move.l    D2,A0
0800126E  1080      1940          move.b    D0,(A0)
08001270  5282      1941          addq.l    #1,D2
08001272  60E0      1942          bra       doprint_54
                    1943   doprint_56:
08001274  7E00      1944          moveq     #0,D7
08001276  41EE FFD4 1945          lea       -44(A6),A0
0800127A  2408      1946          move.l    A0,D2
0800127C  206E 000C 1947          move.l    12(A6),A0
08001280  1010      1948          move.b    (A0),D0
08001282  0C00 0064 1949          cmp.b     #100,D0
08001286  670E      1950          beq.s     doprint_59
08001288  206E 000C 1951          move.l    12(A6),A0
0800128C  1010      1952          move.b    (A0),D0
0800128E  0C00 0069 1953          cmp.b     #105,D0
08001292  6600 0068 1954          bne       doprint_65
                    1955   doprint_59:
08001296  102E FFCE 1956          move.b    -50(A6),D0
0800129A  4880      1957          ext.w     D0
0800129C  48C0      1958          ext.l     D0
0800129E  4A80      1959          tst.l     D0
080012A0  660C      1960          bne.s     doprint_62
080012A2  2043      1961          move.l    D3,A0
080012A4  1010      1962          move.b    (A0),D0
080012A6  0C00 002D 1963          cmp.b     #45,D0
080012AA  6600 0028 1964          bne       doprint_60
                    1965   doprint_62:
080012AE  2043      1966          move.l    D3,A0
080012B0  1010      1967          move.b    (A0),D0
080012B2  0C00 002D 1968          cmp.b     #45,D0
080012B6  660E      1969          bne.s     doprint_63
080012B8  2043      1970          move.l    D3,A0
080012BA  5283      1971          addq.l    #1,D3
080012BC  2242      1972          move.l    D2,A1
080012BE  5282      1973          addq.l    #1,D2
080012C0  1290      1974          move.b    (A0),(A1)
080012C2  5304      1975          subq.b    #1,D4
080012C4  6008      1976          bra.s     doprint_64
                    1977   doprint_63:
080012C6  2042      1978          move.l    D2,A0
080012C8  5282      1979          addq.l    #1,D2
080012CA  10BC 002B 1980          move.b    #43,(A0)
                    1981   doprint_64:
080012CE  5287      1982          addq.l    #1,D7
080012D0  6000 002A 1983          bra       doprint_65
                    1984   doprint_60:
080012D4  4A2E FFCF 1985          tst.b     -49(A6)
080012D8  6722      1986          beq.s     doprint_65
080012DA  2043      1987          move.l    D3,A0
080012DC  1010      1988          move.b    (A0),D0
080012DE  0C00 002D 1989          cmp.b     #45,D0
080012E2  660E      1990          bne.s     doprint_67
080012E4  2043      1991          move.l    D3,A0
080012E6  5283      1992          addq.l    #1,D3
080012E8  2242      1993          move.l    D2,A1
080012EA  5282      1994          addq.l    #1,D2
080012EC  1290      1995          move.b    (A0),(A1)
080012EE  5304      1996          subq.b    #1,D4
080012F0  6008      1997          bra.s     doprint_68
                    1998   doprint_67:
080012F2  2042      1999          move.l    D2,A0
080012F4  5282      2000          addq.l    #1,D2
080012F6  10BC 0020 2001          move.b    #32,(A0)
                    2002   doprint_68:
080012FA  5287      2003          addq.l    #1,D7
                    2004   doprint_65:
080012FC  4A2E FFD0 2005          tst.b     -48(A6)
08001300  6700 005A 2006          beq       doprint_77
08001304  206E 000C 2007          move.l    12(A6),A0
08001308  1010      2008          move.b    (A0),D0
0800130A  4880      2009          ext.w     D0
0800130C  48C0      2010          ext.l     D0
0800130E  0C80 0000 2011          cmp.l     #111,D0
08001312  006F      
08001314  671A      2012          beq.s     doprint_73
08001316  6E0C      2013          bgt.s     doprint_76
08001318  0C80 0000 2014          cmp.l     #88,D0
0800131C  0058      
0800131E  6710      2015          beq.s     doprint_73
08001320  6000 003A 2016          bra       doprint_77
                    2017   doprint_76:
08001324  0C80 0000 2018          cmp.l     #120,D0
08001328  0078      
0800132A  6704      2019          beq.s     doprint_73
0800132C  6000 002E 2020          bra       doprint_77
                    2021   doprint_73:
08001330  2042      2022          move.l    D2,A0
08001332  5282      2023          addq.l    #1,D2
08001334  10BC 0030 2024          move.b    #48,(A0)
08001338  5287      2025          addq.l    #1,D7
0800133A  206E 000C 2026          move.l    12(A6),A0
0800133E  1010      2027          move.b    (A0),D0
08001340  0C00 0078 2028          cmp.b     #120,D0
08001344  670C      2029          beq.s     doprint_79
08001346  206E 000C 2030          move.l    12(A6),A0
0800134A  1010      2031          move.b    (A0),D0
0800134C  0C00 0058 2032          cmp.b     #88,D0
08001350  660A      2033          bne.s     doprint_77
                    2034   doprint_79:
08001352  2042      2035          move.l    D2,A0
08001354  5282      2036          addq.l    #1,D2
08001356  10BC 0078 2037          move.b    #120,(A0)
0800135A  5287      2038          addq.l    #1,D7
                    2039   doprint_77:
0800135C  2042      2040          move.l    D2,A0
0800135E  4210      2041          clr.b     (A0)
08001360  206E 000C 2042          move.l    12(A6),A0
08001364  1010      2043          move.b    (A0),D0
08001366  4880      2044          ext.w     D0
08001368  48C0      2045          ext.l     D0
0800136A  0C80 0000 2046          cmp.l     #105,D0
0800136E  0069      
08001370  6700 0076 2047          beq       doprint_82
08001374  6E42      2048          bgt.s     doprint_93
08001376  0C80 0000 2049          cmp.l     #99,D0
0800137A  0063      
0800137C  6700 0084 2050          beq       doprint_96
08001380  6E1C      2051          bgt.s     doprint_94
08001382  0C80 0000 2052          cmp.l     #88,D0
08001386  0058      
08001388  6700 005E 2053          beq       doprint_82
0800138C  6E00 0184 2054          bgt       doprint_80
08001390  0C80 0000 2055          cmp.l     #69,D0
08001394  0045      
08001396  6700 0050 2056          beq       doprint_82
0800139A  6000 0176 2057          bra       doprint_80
                    2058   doprint_94:
0800139E  0C80 0000 2059          cmp.l     #101,D0
080013A2  0065      
080013A4  6700 0042 2060          beq       doprint_82
080013A8  6E00 0168 2061          bgt       doprint_80
080013AC  0C80 0000 2062          cmp.l     #100,D0
080013B0  0064      
080013B2  6734      2063          beq.s     doprint_82
080013B4  6000 015C 2064          bra       doprint_80
                    2065   doprint_93:
080013B8  0C80 0000 2066          cmp.l     #117,D0
080013BC  0075      
080013BE  6728      2067          beq.s     doprint_82
080013C0  6E1A      2068          bgt.s     doprint_95
080013C2  0C80 0000 2069          cmp.l     #115,D0
080013C6  0073      
080013C8  6700 0038 2070          beq       doprint_96
080013CC  6E00 0144 2071          bgt       doprint_80
080013D0  0C80 0000 2072          cmp.l     #111,D0
080013D4  006F      
080013D6  6710      2073          beq.s     doprint_82
080013D8  6000 0138 2074          bra       doprint_80
                    2075   doprint_95:
080013DC  0C80 0000 2076          cmp.l     #120,D0
080013E0  0078      
080013E2  6704      2077          beq.s     doprint_82
080013E4  6000 012C 2078          bra       doprint_80
                    2079   doprint_82:
080013E8  4A2E FFD2 2080          tst.b     -46(A6)
080013EC  6714      2081          beq.s     doprint_96
080013EE  4A2E FFCD 2082          tst.b     -51(A6)
080013F2  660E      2083          bne.s     doprint_96
080013F4  200D      2084          move.l    A5,D0
080013F6  9087      2085          sub.l     D7,D0
080013F8  4884      2086          ext.w     D4
080013FA  48C4      2087          ext.l     D4
080013FC  9084      2088          sub.l     D4,D0
080013FE  2D40 FFFC 2089          move.l    D0,-4(A6)
                    2090   doprint_96:
08001402  202E FFFC 2091          move.l    -4(A6),D0
08001406  0C80 0000 2092          cmp.l     #0,D0
0800140A  0000      
0800140C  6C04      2093          bge.s     doprint_98
0800140E  42AE FFFC 2094          clr.l     -4(A6)
                    2095   doprint_98:
08001412  4A2E FFCD 2096          tst.b     -51(A6)
08001416  6600 0030 2097          bne       doprint_104
0800141A  1004      2098          move.b    D4,D0
0800141C  4880      2099          ext.w     D0
0800141E  48C0      2100          ext.l     D0
08001420  D0AE FFFC 2101          add.l     -4(A6),D0
08001424  D087      2102          add.l     D7,D0
08001426  1D40 FFD1 2103          move.b    D0,-47(A6)
                    2104   doprint_102:
0800142A  102E FFD1 2105          move.b    -47(A6),D0
0800142E  4880      2106          ext.w     D0
08001430  48C0      2107          ext.l     D0
08001432  220D      2108          move.l    A5,D1
08001434  534D      2109          subq.w    #1,A5
08001436  B081      2110          cmp.l     D1,D0
08001438  6C0E      2111          bge.s     doprint_104
0800143A  4878 0020 2112          pea       32
0800143E  2F0A      2113          move.l    A2,-(A7)
08001440  4E93      2114          jsr       (A3)
08001442  504F      2115          addq.w    #8,A7
08001444  5286      2116          addq.l    #1,D6
08001446  60E2      2117          bra       doprint_102
                    2118   doprint_104:
08001448  41EE FFD4 2119          lea       -44(A6),A0
0800144C  2408      2120          move.l    A0,D2
                    2121   doprint_105:
0800144E  2042      2122          move.l    D2,A0
08001450  4A10      2123          tst.b     (A0)
08001452  6716      2124          beq.s     doprint_107
08001454  2042      2125          move.l    D2,A0
08001456  5282      2126          addq.l    #1,D2
08001458  1210      2127          move.b    (A0),D1
0800145A  4881      2128          ext.w     D1
0800145C  48C1      2129          ext.l     D1
0800145E  2F01      2130          move.l    D1,-(A7)
08001460  2F0A      2131          move.l    A2,-(A7)
08001462  4E93      2132          jsr       (A3)
08001464  504F      2133          addq.w    #8,A7
08001466  5286      2134          addq.l    #1,D6
08001468  60E4      2135          bra       doprint_105
                    2136   doprint_107:
0800146A  202E FFFC 2137          move.l    -4(A6),D0
0800146E  1D40 FFD1 2138          move.b    D0,-47(A6)
                    2139   doprint_108:
08001472  102E FFD1 2140          move.b    -47(A6),D0
08001476  532E FFD1 2141          subq.b    #1,-47(A6)
0800147A  4A00      2142          tst.b     D0
0800147C  670E      2143          beq.s     doprint_110
0800147E  4878 0030 2144          pea       48
08001482  2F0A      2145          move.l    A2,-(A7)
08001484  4E93      2146          jsr       (A3)
08001486  504F      2147          addq.w    #8,A7
08001488  5286      2148          addq.l    #1,D6
0800148A  60E6      2149          bra       doprint_108
                    2150   doprint_110:
0800148C  2043      2151          move.l    D3,A0
0800148E  4A10      2152          tst.b     (A0)
08001490  6700 0048 2153          beq       doprint_113
08001494  206E 000C 2154          move.l    12(A6),A0
08001498  1010      2155          move.b    (A0),D0
0800149A  4880      2156          ext.w     D0
0800149C  48C0      2157          ext.l     D0
0800149E  0C80 0000 2158          cmp.l     #115,D0
080014A2  0073      
080014A4  670C      2159          beq.s     doprint_116
080014A6  6E18      2160          bgt.s     doprint_119
080014A8  0C80 0000 2161          cmp.l     #99,D0
080014AC  0063      
080014AE  6702      2162          beq.s     doprint_116
080014B0  600E      2163          bra.s     doprint_119
                    2164   doprint_116:
080014B2  2005      2165          move.l    D5,D0
080014B4  5385      2166          subq.l    #1,D5
080014B6  0C80 0000 2167          cmp.l     #0,D0
080014BA  0000      
080014BC  6E02      2168          bgt.s     doprint_119
080014BE  6016      2169          bra.s     doprint_115
                    2170   doprint_119:
080014C0  2043      2171          move.l    D3,A0
080014C2  5283      2172          addq.l    #1,D3
080014C4  1210      2173          move.b    (A0),D1
080014C6  4881      2174          ext.w     D1
080014C8  48C1      2175          ext.l     D1
080014CA  2F01      2176          move.l    D1,-(A7)
080014CC  2F0A      2177          move.l    A2,-(A7)
080014CE  4E93      2178          jsr       (A3)
080014D0  504F      2179          addq.w    #8,A7
080014D2  5286      2180          addq.l    #1,D6
080014D4  6002      2181          bra.s     doprint_112
                    2182   doprint_115:
080014D6  6002      2183          bra.s     doprint_113
                    2184   doprint_112:
080014D8  60B2      2185          bra       doprint_110
                    2186   doprint_113:
080014DA  4A2E FFCD 2187          tst.b     -51(A6)
080014DE  6700 0030 2188          beq       doprint_125
080014E2  1004      2189          move.b    D4,D0
080014E4  4880      2190          ext.w     D0
080014E6  48C0      2191          ext.l     D0
080014E8  D0AE FFFC 2192          add.l     -4(A6),D0
080014EC  D087      2193          add.l     D7,D0
080014EE  1D40 FFD1 2194          move.b    D0,-47(A6)
                    2195   doprint_123:
080014F2  102E FFD1 2196          move.b    -47(A6),D0
080014F6  4880      2197          ext.w     D0
080014F8  48C0      2198          ext.l     D0
080014FA  220D      2199          move.l    A5,D1
080014FC  534D      2200          subq.w    #1,A5
080014FE  B081      2201          cmp.l     D1,D0
08001500  6C0E      2202          bge.s     doprint_125
08001502  4878 0020 2203          pea       32
08001506  2F0A      2204          move.l    A2,-(A7)
08001508  4E93      2205          jsr       (A3)
0800150A  504F      2206          addq.w    #8,A7
0800150C  5386      2207          subq.l    #1,D6
0800150E  60E2      2208          bra       doprint_123
                    2209   doprint_125:
08001510  6014      2210          bra.s     doprint_81
                    2211   doprint_80:
08001512  206E 000C 2212          move.l    12(A6),A0
08001516  1210      2213          move.b    (A0),D1
08001518  4881      2214          ext.w     D1
0800151A  48C1      2215          ext.l     D1
0800151C  2F01      2216          move.l    D1,-(A7)
0800151E  2F0A      2217          move.l    A2,-(A7)
08001520  4E93      2218          jsr       (A3)
08001522  504F      2219          addq.w    #8,A7
08001524  5286      2220          addq.l    #1,D6
                    2221   doprint_81:
08001526  52AE 000C 2222          addq.l    #1,12(A6)
                    2223   doprint_2:
0800152A  6000 FA0A 2224          bra       doprint_1
                    2225   doprint_3:
0800152E  4A92      2226          tst.l     (A2)
08001530  6710      2227          beq.s     doprint_126
08001532  4201      2228          clr.b     D1
08001534  C2BC 0000 2229          and.l     #255,D1
08001538  00FF      
0800153A  2F01      2230          move.l    D1,-(A7)
0800153C  2F0A      2231          move.l    A2,-(A7)
0800153E  4E93      2232          jsr       (A3)
08001540  504F      2233          addq.w    #8,A7
                    2234   doprint_126:
08001542  2006      2235          move.l    D6,D0
08001544  4CDF 3CFC 2236          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08001548  4E5E      2237          unlk      A6
0800154A  4E75      2238          rts
                    2239   _putch:
0800154C  4E56 0000 2240          link      A6,#0
08001550  2F02      2241          move.l    D2,-(A7)
08001552  242E 0008 2242          move.l    8(A6),D2
08001556  0C82 0000 2243          cmp.l     #10,D2
0800155A  000A      
0800155C  660C      2244          bne.s     putch_1
0800155E  4878 000D 2245          pea       13
08001562  4EB9 0800 2246          jsr       __putch
08001566  006A      
08001568  584F      2247          addq.w    #4,A7
                    2248   putch_1:
0800156A  2F02      2249          move.l    D2,-(A7)
0800156C  4EB9 0800 2250          jsr       __putch
08001570  006A      
08001572  584F      2251          addq.w    #4,A7
08001574  2002      2252          move.l    D2,D0
08001576  241F      2253          move.l    (A7)+,D2
08001578  4E5E      2254          unlk      A6
0800157A  4E75      2255          rts
                    2256   _getch:
0800157C  2F02      2257          move.l    D2,-(A7)
0800157E  2439 0800 2258          move.l    __ungetbuf.L,D2
08001582  19E4      
08001584  2039 0800 2259          move.l    __ungetbuf.L,D0
08001588  19E4      
0800158A  0C80 FFFF 2260          cmp.l     #-1,D0
0800158E  FFFF      
08001590  670C      2261          beq.s     getch_1
08001592  23FC FFFF 2262          move.l    #-1,__ungetbuf.L
08001596  FFFF 0800 
0800159A  19E4      
0800159C  6012      2263          bra.s     getch_3
                    2264   getch_1:
0800159E  4EB9 0800 2265          jsr       __getch
080015A2  003E      
080015A4  2400      2266          move.l    D0,D2
080015A6  0C80 0000 2267          cmp.l     #13,D0
080015AA  000D      
080015AC  6602      2268          bne.s     getch_3
080015AE  740A      2269          moveq     #10,D2
                    2270   getch_3:
080015B0  2002      2271          move.l    D2,D0
080015B2  241F      2272          move.l    (A7)+,D2
080015B4  4E75      2273          rts
                    2274   @itoa_convert:
080015B6  4E56 0000 2275          link      A6,#0
080015BA  48E7 3C00 2276          movem.l   D2/D3/D4/D5,-(A7)
080015BE  242E 0008 2277          move.l    8(A6),D2
080015C2  262E 0010 2278          move.l    16(A6),D3
080015C6  2A2E 000C 2279          move.l    12(A6),D5
080015CA  2F05      2280          move.l    D5,-(A7)
080015CC  2F03      2281          move.l    D3,-(A7)
080015CE  4EB9 0800 2282          jsr       ULDIV
080015D2  1748      
080015D4  202F 0004 2283          move.l    4(A7),D0
080015D8  504F      2284          addq.w    #8,A7
080015DA  2800      2285          move.l    D0,D4
080015DC  BA83      2286          cmp.l     D3,D5
080015DE  6520      2287          blo.s     @itoa_convert_1
080015E0  2F03      2288          move.l    D3,-(A7)
080015E2  2F05      2289          move.l    D5,-(A7)
080015E4  2F03      2290          move.l    D3,-(A7)
080015E6  4EB9 0800 2291          jsr       ULDIV
080015EA  1748      
080015EC  2217      2292          move.l    (A7),D1
080015EE  504F      2293          addq.w    #8,A7
080015F0  2F01      2294          move.l    D1,-(A7)
080015F2  2F02      2295          move.l    D2,-(A7)
080015F4  4EB9 0800 2296          jsr       @itoa_convert
080015F8  15B6      
080015FA  DEFC 000C 2297          add.w     #12,A7
080015FE  2400      2298          move.l    D0,D2
                    2299   @itoa_convert_1:
08001600  0C84 0000 2300          cmp.l     #9,D4
08001604  0009      
08001606  6E0E      2301          bgt.s     @itoa_convert_3
08001608  2004      2302          move.l    D4,D0
0800160A  7230      2303          moveq     #48,D1
0800160C  C2BC 0000 2304          and.l     #255,D1
08001610  00FF      
08001612  D081      2305          add.l     D1,D0
08001614  6012      2306          bra.s     @itoa_convert_4
                    2307   @itoa_convert_3:
08001616  2004      2308          move.l    D4,D0
08001618  7261      2309          moveq     #97,D1
0800161A  C2BC 0000 2310          and.l     #255,D1
0800161E  00FF      
08001620  D081      2311          add.l     D1,D0
08001622  0480 0000 2312          sub.l     #10,D0
08001626  000A      
                    2313   @itoa_convert_4:
08001628  2042      2314          move.l    D2,A0
0800162A  1080      2315          move.b    D0,(A0)
0800162C  2002      2316          move.l    D2,D0
0800162E  5280      2317          addq.l    #1,D0
08001630  4CDF 003C 2318          movem.l   (A7)+,D2/D3/D4/D5
08001634  4E5E      2319          unlk      A6
08001636  4E75      2320          rts
                    2321   _ltoa:
08001638  4E56 0000 2322          link      A6,#0
0800163C  48E7 3C00 2323          movem.l   D2/D3/D4/D5,-(A7)
08001640  242E 0008 2324          move.l    8(A6),D2
08001644  262E 000C 2325          move.l    12(A6),D3
08001648  2A2E 0010 2326          move.l    16(A6),D5
0800164C  2803      2327          move.l    D3,D4
0800164E  0C85 0000 2328          cmp.l     #2,D5
08001652  0002      
08001654  6D08      2329          blt.s     ltoa_3
08001656  0C85 0000 2330          cmp.l     #36,D5
0800165A  0024      
0800165C  6F06      2331          ble.s     ltoa_1
                    2332   ltoa_3:
0800165E  2003      2333          move.l    D3,D0
08001660  6000 0056 2334          bra       ltoa_4
                    2335   ltoa_1:
08001664  0C85 0000 2336          cmp.l     #10,D5
08001668  000A      
0800166A  6600 0034 2337          bne       ltoa_5
0800166E  0C82 0000 2338          cmp.l     #0,D2
08001672  0000      
08001674  6C2A      2339          bge.s     ltoa_5
08001676  2002      2340          move.l    D2,D0
08001678  4480      2341          neg.l     D0
0800167A  2400      2342          move.l    D0,D2
0800167C  0C82 0000 2343          cmp.l     #0,D2
08001680  0000      
08001682  6C14      2344          bge.s     ltoa_7
08001684  4879 0800 2345          pea       @itoa_1.L
08001688  19D8      
0800168A  2F03      2346          move.l    D3,-(A7)
0800168C  4EB9 0800 2347          jsr       _strcpy
08001690  1738      
08001692  504F      2348          addq.w    #8,A7
08001694  2003      2349          move.l    D3,D0
08001696  6020      2350          bra.s     ltoa_4
                    2351   ltoa_7:
08001698  2044      2352          move.l    D4,A0
0800169A  5284      2353          addq.l    #1,D4
0800169C  10BC 002D 2354          move.b    #45,(A0)
                    2355   ltoa_5:
080016A0  2F05      2356          move.l    D5,-(A7)
080016A2  2F02      2357          move.l    D2,-(A7)
080016A4  2F04      2358          move.l    D4,-(A7)
080016A6  4EB9 0800 2359          jsr       @itoa_convert
080016AA  15B6      
080016AC  DEFC 000C 2360          add.w     #12,A7
080016B0  2800      2361          move.l    D0,D4
080016B2  2044      2362          move.l    D4,A0
080016B4  4210      2363          clr.b     (A0)
080016B6  2003      2364          move.l    D3,D0
                    2365   ltoa_4:
080016B8  4CDF 003C 2366          movem.l   (A7)+,D2/D3/D4/D5
080016BC  4E5E      2367          unlk      A6
080016BE  4E75      2368          rts
                    2369   _ultoa:
080016C0  4E56 0000 2370          link      A6,#0
080016C4  48E7 3800 2371          movem.l   D2/D3/D4,-(A7)
080016C8  262E 0010 2372          move.l    16(A6),D3
080016CC  282E 000C 2373          move.l    12(A6),D4
080016D0  2404      2374          move.l    D4,D2
080016D2  0C83 0000 2375          cmp.l     #2,D3
080016D6  0002      
080016D8  6D08      2376          blt.s     ultoa_3
080016DA  0C83 0000 2377          cmp.l     #36,D3
080016DE  0024      
080016E0  6F04      2378          ble.s     ultoa_1
                    2379   ultoa_3:
080016E2  2004      2380          move.l    D4,D0
080016E4  601A      2381          bra.s     ultoa_4
                    2382   ultoa_1:
080016E6  2F03      2383          move.l    D3,-(A7)
080016E8  2F2E 0008 2384          move.l    8(A6),-(A7)
080016EC  2F02      2385          move.l    D2,-(A7)
080016EE  4EB9 0800 2386          jsr       @itoa_convert
080016F2  15B6      
080016F4  DEFC 000C 2387          add.w     #12,A7
080016F8  2400      2388          move.l    D0,D2
080016FA  2042      2389          move.l    D2,A0
080016FC  4210      2390          clr.b     (A0)
080016FE  2004      2391          move.l    D4,D0
                    2392   ultoa_4:
08001700  4CDF 001C 2393          movem.l   (A7)+,D2/D3/D4
08001704  4E5E      2394          unlk      A6
08001706  4E75      2395          rts
                    2396   _itoa:
08001708  4E56 0000 2397          link      A6,#0
0800170C  2F2E 0010 2398          move.l    16(A6),-(A7)
08001710  2F2E 000C 2399          move.l    12(A6),-(A7)
08001714  2F2E 0008 2400          move.l    8(A6),-(A7)
08001718  4EB9 0800 2401          jsr       _ltoa
0800171C  1638      
0800171E  DEFC 000C 2402          add.w     #12,A7
08001722  4E5E      2403          unlk      A6
08001724  4E75      2404          rts
                    2405   _strlen:
08001726  206F 0004 2406          move.l    (4,A7),A0
0800172A  2248      2407          move.l    A0,A1
                    2408   strlen_1:
0800172C  4A19      2409          tst.b     (A1)+
0800172E  66FC      2410          bne       strlen_1
08001730  2009      2411          move.l    A1,D0
08001732  9088      2412          sub.l     A0,D0
08001734  5380      2413          subq.l    #1,D0
08001736  4E75      2414          rts
                    2415   _strcpy:
08001738  206F 0004 2416          move.l    (4,A7),A0
0800173C  226F 0008 2417          move.l    (8,A7),A1
08001740  2008      2418          move.l    A0,D0
                    2419   strcpy_1:
08001742  10D9      2420          move.b    (A1)+,(A0)+
08001744  66FC      2421          bne.s     strcpy_1
08001746  4E75      2422          rts
                    2423   ULDIV:
08001748  4E56 0000 2424          link    A6,#0
0800174C  48E7 C000 2425          movem.l D0/D1,-(A7)
08001750  222E 0008 2426          move.l  8(A6),D1
08001754  202E 000C 2427          move.l  12(A6),D0
08001758  6036      2428          bra.s   ldiv_3
                    2429   LDIV:
0800175A  4E56 0000 2430          link    A6,#0
0800175E  48E7 C000 2431          movem.l D0/D1,-(A7)
08001762  222E 0008 2432          move.l  8(A6),D1
08001766  202E 000C 2433          move.l  12(A6),D0
0800176A  4A80      2434          tst.l   D0
0800176C  6A0E      2435          bpl.s   ldiv_1
0800176E  4480      2436          neg.l   D0
08001770  4A81      2437          tst.l   D1
08001772  6A14      2438          bpl.s   ldiv_2
08001774  4481      2439          neg.l   D1
08001776  612A      2440          bsr.s   dodiv
08001778  4481      2441          neg.l   D1
0800177A  6016      2442          bra.s   ldiv_4
                    2443   ldiv_1:
0800177C  4A81      2444          tst.l   D1
0800177E  6A10      2445          bpl.s   ldiv_3
08001780  4481      2446          neg.l   D1
08001782  611E      2447          bsr.s   dodiv
08001784  4480      2448          neg.l   D0
08001786  600A      2449          bra.s   ldiv_4
                    2450   ldiv_2:
08001788  6118      2451          bsr.s   dodiv
0800178A  4480      2452          neg.l   D0
0800178C  4481      2453          neg.l   D1
0800178E  6002      2454          bra.s   ldiv_4
                    2455   ldiv_3:
08001790  6110      2456          bsr.s   dodiv
                    2457   ldiv_4:
08001792  2D40 0008 2458          move.l  D0,8(A6)
08001796  2D41 000C 2459          move.l  D1,12(A6)
0800179A  4CDF 0003 2460          movem.l (A7)+,D0/D1
0800179E  4E5E      2461          unlk    A6
080017A0  4E75      2462          rts
                    2463   dodiv:
080017A2  0C81 0000 2464          cmpi.l  #$FFFF,D1
080017A6  FFFF      
080017A8  6236      2465          bhi.s   dodiv_2
080017AA  0C80 0000 2466          cmpi.l  #$FFFF,D0
080017AE  FFFF      
080017B0  6210      2467          bhi.s   dodiv_1
080017B2  80C1      2468          divu    D1,D0
080017B4  2200      2469          move.l  D0,D1
080017B6  4241      2470          clr.w   D1
080017B8  4841      2471          swap    D1
080017BA  0280 0000 2472          andi.l  #$FFFF,D0
080017BE  FFFF      
080017C0  4E75      2473          rts
                    2474   dodiv_1:
080017C2  48A7 A000 2475          movem.w D0/D2,-(A7)
080017C6  4240      2476          clr.w   D0
080017C8  4840      2477          swap    D0
080017CA  80C1      2478          divu    D1,D0
080017CC  3400      2479          move.w  D0,D2
080017CE  301F      2480          move.w  (A7)+,D0
080017D0  80C1      2481          divu    D1,D0
080017D2  4840      2482          swap    D0
080017D4  4281      2483          clr.l   D1
080017D6  3200      2484          move.w  D0,D1
080017D8  3002      2485          move.w  D2,D0
080017DA  4840      2486          swap    D0
080017DC  341F      2487          move.w  (A7)+,D2
080017DE  4E75      2488          rts
                    2489   dodiv_2:
080017E0  48E7 3800 2490          movem.l D2/D3/D4,-(A7)
080017E4  2401      2491          move.l  D1,D2
080017E6  4242      2492          clr.w   D2
080017E8  4842      2493          swap    D2
080017EA  5282      2494          addq.l  #1,D2
080017EC  2600      2495          move.l  D0,D3
080017EE  2801      2496          move.l  D1,D4
080017F0  2202      2497          move.l  D2,D1
080017F2  61CE      2498          bsr.s   dodiv_1
080017F4  2204      2499          move.l  D4,D1
080017F6  82C2      2500          divu    D2,D1
080017F8  80C1      2501          divu    D1,D0
080017FA  0280 0000 2502          andi.l  #$FFFF,D0
080017FE  FFFF      
                    2503   dodiv_3:
08001800  2204      2504          move.l  D4,D1
08001802  2404      2505          move.l  D4,D2
08001804  4842      2506          swap    D2
08001806  C2C0      2507          mulu    D0,D1
08001808  C4C0      2508          mulu    D0,D2
0800180A  4842      2509          swap    D2
0800180C  D282      2510          add.l   D2,D1
0800180E  9283      2511          sub.l   D3,D1
08001810  620A      2512          bhi.s   dodiv_4
08001812  4481      2513          neg.l   D1
08001814  B881      2514          cmp.l   D1,D4
08001816  6208      2515          bhi.s   dodiv_5
08001818  5280      2516          addq.l  #1,D0
0800181A  60E4      2517          bra.s   dodiv_3
                    2518   dodiv_4:
0800181C  5380      2519          subq.l  #1,D0
0800181E  60E0      2520          bra.s   dodiv_3
                    2521   dodiv_5:
08001820  4CDF 001C 2522          movem.l (A7)+,D2/D3/D4
08001824  4E75      2523          rts
                    2524          section   const
08001826            2525                   align
                    2526   
                    2527   
                    2528   @m68kus~1_1:
08001826  4143 4B20 2529          dc.b      65,67,75,32,61,32,37,100,13,10,0
0800182A  3D20 2564 
0800182E  0D0A 00   
                    2530   @m68kus~1_2:
08001832  7465 6D70 2531          dc.b      116,101,109,112,66,121,116,101,32,61,32,37,100
08001836  4279 7465 
0800183A  203D 2025 
0800183E  64        
0800183F  0D0A 00   2532          dc.b      13,10,0
                    2533   @m68kus~1_3:
08001842  5761 6974 2534          dc.b      87,97,105,116,70,111,114,87,114,105,116,101
08001846  466F 7257 
0800184A  7269 7465 
0800184E  4379 636C 2535          dc.b      67,121,99,108,101,32,83,82,32,61,32,37,100,13
08001852  6520 5352 
08001856  203D 2025 
0800185A  640D      
0800185C  0A00      2536          dc.b      10,0
                    2537   @m68kus~1_4:
0800185E  5761 6974 2538          dc.b      87,97,105,116,70,111,114,87,114,105,116,101
08001862  466F 7257 
08001866  7269 7465 
0800186A  4379 636C 2539          dc.b      67,121,99,108,101,32,49,32,83,82,32,61,32,37
0800186E  6520 3120 
08001872  5352 203D 
08001876  2025      
08001878  640D 0A00 2540          dc.b      100,13,10,0
                    2541   @m68kus~1_5:
0800187C  2A78 203D 2542          dc.b      42,120,32,61,32,37,100,13,10,0
08001880  2025 640D 
08001884  0A00      
                    2543   @m68kus~1_6:
08001886  0D0A 4865 2544          dc.b      13,10,72,101,108,108,111,32,73,73,67,32,76,97
0800188A  6C6C 6F20 
0800188E  4949 4320 
08001892  4C61      
08001894  620D 0A00 2545          dc.b      98,13,10,0
                    2546   @m68kus~1_7:
08001898  5468 6973 2547          dc.b      84,104,105,115,32,105,115,32,116,104,101,32
0800189C  2069 7320 
080018A0  7468 6520 
080018A4  7365 6E74 2548          dc.b      115,101,110,116,32,66,121,116,101,58,32,37,117
080018A8  2042 7974 
080018AC  653A 2025 
080018B0  75        
080018B1  0D0A 00   2549          dc.b      13,10,0
                    2550   @m68kus~1_8:
080018B4  5468 6973 2551          dc.b      84,104,105,115,32,105,115,32,116,104,101,32
080018B8  2069 7320 
080018BC  7468 6520 
080018C0  7265 6365 2552          dc.b      114,101,99,101,105,118,101,100,32,66,121,116
080018C4  6976 6564 
080018C8  2042 7974 
080018CC  653A 2025 2553          dc.b      101,58,32,37,117,13,10,0
080018D0  750D 0A00 
                    2554   @doscan_1:
080018D4  0A00      2555          dc.b      10,0
                    2556   __ctype:
080018D6  0040 4040 2557          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
080018DA  4040 4040 
080018DE  4040 5050 
080018E2  5050 50   
080018E5  4040 4040 2558          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
080018E9  4040 4040 
080018ED  4040 4040 
080018F1  4040 40   
080018F4  4040 40D0 2559          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
080018F8  A0A0 A0A0 
080018FC  A0A0 A0A0 
08001900  A0A0 A0A0 2560          dc.b      160,160,160,160,160,160,160,140,140,140,140
08001904  A0A0 A08C 
08001908  8C8C 8C   
0800190B  8C8C 8C8C 2561          dc.b      140,140,140,140,140,140,160,160,160,160,160
0800190F  8C8C A0A0 
08001913  A0A0 A0   
08001916  A0A0 8A8A 2562          dc.b      160,160,138,138,138,138,138,138,130,130,130
0800191A  8A8A 8A8A 
0800191E  8282 82   
08001921  8282 8282 2563          dc.b      130,130,130,130,130,130,130,130,130,130,130
08001925  8282 8282 
08001929  8282 82   
0800192C  8282 8282 2564          dc.b      130,130,130,130,130,130,160,160,160,160,160
08001930  8282 A0A0 
08001934  A0A0 A0   
08001937  A089 8989 2565          dc.b      160,137,137,137,137,137,137,129,129,129,129
0800193B  8989 8981 
0800193F  8181 81   
08001942  8181 8181 2566          dc.b      129,129,129,129,129,129,129,129,129,129,129
08001946  8181 8181 
0800194A  8181 81   
0800194D  8181 8181 2567          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
08001951  81A0 A0A0 
08001955  A040 0000 
08001959  00        
0800195A  0000 0000 2568          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800195E  0000 0000 
08001962  0000 0000 
08001966  0000 0000 
0800196A  0000 0000 
0800196E  0000      
08001970  0000 0000 2569          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001974  0000 0000 
08001978  0000 0000 
0800197C  0000 0000 
08001980  0000 0000 
08001984  0000      
08001986  0000 0000 2570          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800198A  0000 0000 
0800198E  0000 0000 
08001992  0000 0000 
08001996  0000 0000 
0800199A  0000      
0800199C  0000 0000 2571          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080019A0  0000 0000 
080019A4  0000 0000 
080019A8  0000 0000 
080019AC  0000 0000 
080019B0  0000      
080019B2  0000 0000 2572          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080019B6  0000 0000 
080019BA  0000 0000 
080019BE  0000 0000 
080019C2  0000 0000 
080019C6  0000      
080019C8  0000 0000 2573          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080019CC  0000 0000 
080019D0  0000 0000 
080019D4  0000 00   
                    2574   @itoa_1:
080019D8  2D32 3134 2575          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
080019DC  3734 3833 
080019E0  3634 3800 
                    2576          section   data
080019E4            2577                   align
                    2578   
                    2579   *********************************************************************************************************************************************************
                    2580   * Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
                    2581   ********************************************************************************************************************************************************
                    2582   
          0800 19E4 2583   DataStart       equ       *
080019E4            2584   __ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
080019E8            2585   __allocp:       ds.l      1                    start of free memory block list
080019EC            2586   __heap:         ds.l      1                    begin of free memory
                    2587   
                    2588   
                    2589   @doscan_lpbuf:
080019F0  0800 19F4 2590          dc.l      @doscan_buf
                    2591          section   bss
080019F4            2592                   align
                    2593   
          0800 19F4 2594   DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
          0000 0010 2595   DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup
                    2596   
                    2597   *********************************************************************************************************
                    2598   * Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
                    2599   *********************************************************************************************************
          0800 19F4 2600   BssStart       equ       *
                    2601   
                    2602   @doscan_buf:
080019F4            2603          ds.b      80
                    2604          section   heap
08001A44            2605                  align
                    2606   
          0800 1A44 2607   BssEnd         equ       *
          0000 0050 2608   BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup
                    2609   
                    2610   *********************************************************************************************************
                    2611   * Section for Heap
                    2612   *********************************************************************************************************
                    2613   
          0800 1A44 2614   heap           equ       *
08001A44            2615                  align
          0800 0000

Assembly errors: 0
