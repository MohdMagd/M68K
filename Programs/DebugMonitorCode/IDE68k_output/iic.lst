680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 25 Mar 2019      Time: 12:28:38          Source: C:\M68K\PROGRAMS\DEBUGMONITORCODE\IDE68K_OUTPUT\IIC.SRC

                       1          section   code
                       2   **********************************************************************************************************
                       3   * CSTART.ASM  -  C startup-code
                       4   *
                       5   *          Initialises the system prior to running the users main() program
                       6   *
                       7   *          1) Sets up the user program stack pointer
                       8   *          2) Switches to User mode in the 68000
                       9   *          3) Enables All Interrupts 1-7 on 68000
                      10   *          4) Copies all initialised C program variables from Rom to Ram prior to running main()
                      11   *
                      12   **********************************************************************************************************
00000000              13                   align
                      14   
                      15   
                      16   **********************************************************************************************************
                      17   * The Following ORG Statement marks the address of the start of the this CStart Program
                      18   *
                      19   * The debug Monitor and Flash Load and Program routines assume your program lives here
                      20   **********************************************************************************************************
08000000              21                   org       $08000000
08000000  46FC 2000   22   start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode
                      23   
                      24   ******************************************************************************************
                      25   * Set unitialised global variables to 0 at startup
                      26   ******************************************************************************************
08000004  207C 0800   27   mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
08000008  1956      
0800000A  203C 0000   28                   move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
0800000E  0050      
08000010  6700 0024   29                   beq       go_main               if no data to copy go straight to program
08000014  10FC 0000   30   Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
08000018  5380        31                   subq.l    #1,d0
0800001A  66F8        32                   bne       Zeroinit
                      33   
                      34   *******************************************************************************************
                      35   * last minute initialisation before calling main
                      36   *******************************************************************************************
                      37   
0800001C  23FC FFFF   38                   move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
08000020  FFFF 0800 
08000024  1946      
08000026  42B9 0800   39                   clr.l     __allocp               used by malloc() in C
0800002A  194A      
0800002C  23FC 0800   40                   move.l    #heap,__heap           pointer to free memory
08000030  19A6 0800 
08000034  194E      
08000036  4EB9 0800   41   go_main         jsr       _main
0800003A  02D6      
0800003C  60C2        42                   bra       start
                      43   
                      44   ; C:\M68K\PROGRAMS\DEBUGMONITORCODE\IIC EEPROM PROGRAM FILES\M68KUSERPROGRAM (DE1).C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      45   ; #include <stdio.h>
                      46   ; #include <time.h>
                      47   ; /*********************************************************************************************
                      48   ; **  RS232 port addresses
                      49   ; *********************************************************************************************/
                      50   ; #define RS232_Control     *(volatile unsigned char *)(0x00400040)
                      51   ; #define RS232_Status      *(volatile unsigned char *)(0x00400040)
                      52   ; #define RS232_TxData      *(volatile unsigned char *)(0x00400042)
                      53   ; #define RS232_RxData      *(volatile unsigned char *)(0x00400042)
                      54   ; #define RS232_Baud        *(volatile unsigned char *)(0x00400044)
                      55   ; /*********************************************************************************************
                      56   ; **  IIC registers
                      57   ; *********************************************************************************************/
                      58   ; #define PRERlo  (*(volatile unsigned char *)(0x00408000)) // Clock Prescale register lo-byte
                      59   ; #define PRERhi  (*(volatile unsigned char *)(0x00408002)) // Clock Prescale register hi-byte
                      60   ; #define CTR     (*(volatile unsigned char *)(0x00408004)) // Control Register
                      61   ; #define TXR     (*(volatile unsigned char *)(0x00408006)) // Transmit Register
                      62   ; #define RXR     (*(volatile unsigned char *)(0x00408006)) // Receive Register
                      63   ; #define CR      (*(volatile unsigned char *)(0x00408008)) // Command Register
                      64   ; #define SR      (*(volatile unsigned char *)(0x00408008)) // Status Register
                      65   ; // Sequence Start & Stop Register Commands
                      66   ; #define start           0x80    // Set STA bit              --> (1000 0000)
                      67   ; #define stop            0x40    // Set STO bit              --> (0100 0000)
                      68   ; // Write Command Register Commands
                      69   ; #define startWrite      0x90    // set STA, WR bit          --> (1001 0000)
                      70   ; #define Write           0x10    // set WR bit               --> (0001 0000)
                      71   ; #define read            0x20    // set RD bit               --> (0010 0000)
                      72   ; #define NACK            0x08    // Set ACK bit              --> (0000 1000)
                      73   ; #define ReadNACK        0x28    // Set RD, ACK bits         --> (0010 1000)
                      74   ; #define ReadNACKIACK    0x29    // Set RD, ACK, IACK bits   --> (0010 1001)
                      75   ; #define stopWrite       0x50    // set STO, WR bit          --> (0101 0000)
                      76   ; // Read Command Register Commands
                      77   ; #define startRead       0xA8    // set STA, RD, ACK bit     --> (1010 1000)
                      78   ; #define stopRead        0x41    // set STO, IACK bit        --> (0100 0001)
                      79   ; /*********************************************************************************************
                      80   ; **  Function protoTypes
                      81   ; *********************************************************************************************/
                      82   ; void WriteByteToChip(char c);
                      83   ; char ReadByteFromChip(void);
                      84   ; void WaitForTXByte(void);
                      85   ; void WaitForReceivedByte(void);
                      86   ; int CheckForACK(void);
                      87   ; void IIC_Init(void);
                      88   ; void WaitForWriteCycle(void);
                      89   ; int _getch( void )
                      90   ; {
                      91   __getch:
0800003E  4E56 FFFC   92          link      A6,#-4
                      93   ; char c ;
                      94   ; while((RS232_Status & (char)(0x01)) != (char)(0x01))    // wait for Rx bit in 6850 serial comms chip status register to be '1'
                      95   _getch_1:
08000042  1039 0040   96          move.b    4194368,D0
08000046  0040      
08000048  C03C 0001   97          and.b     #1,D0
0800004C  0C00 0001   98          cmp.b     #1,D0
08000050  6702        99          beq.s     _getch_3
08000052  60EE       100          bra       _getch_1
                     101   _getch_3:
                     102   ; ;
                     103   ; return (RS232_RxData & (char)(0x7f));                   // read received character, mask off top bit and return as 7 bit ASCII character
08000054  1039 0040  104          move.b    4194370,D0
08000058  0042      
0800005A  C0BC 0000  105          and.l     #255,D0
0800005E  00FF      
08000060  C0BC 0000  106          and.l     #127,D0
08000064  007F      
08000066  4E5E       107          unlk      A6
08000068  4E75       108          rts
                     109   ; }
                     110   ; int _putch( int c)
                     111   ; {
                     112   __putch:
0800006A  4E56 0000  113          link      A6,#0
                     114   ; while((RS232_Status & (char)(0x02)) != (char)(0x02))    // wait for Tx bit in status register or 6850 serial comms chip to be '1'
                     115   _putch_1:
0800006E  1039 0040  116          move.b    4194368,D0
08000072  0040      
08000074  C03C 0002  117          and.b     #2,D0
08000078  0C00 0002  118          cmp.b     #2,D0
0800007C  6702       119          beq.s     _putch_3
0800007E  60EE       120          bra       _putch_1
                     121   _putch_3:
                     122   ; ;
                     123   ; RS232_TxData = (c & (char)(0x7f));                      // write to the data register to output the character (mask off bit 8 to keep it 7 bit ASCII)
08000080  202E 0008  124          move.l    8(A6),D0
08000084  C0BC 0000  125          and.l     #127,D0
08000088  007F      
0800008A  13C0 0040  126          move.b    D0,4194370
0800008E  0042      
                     127   ; return c ;                                              // putchar() expects the character to be returned
08000090  202E 0008  128          move.l    8(A6),D0
08000094  4E5E       129          unlk      A6
08000096  4E75       130          rts
                     131   ; }
                     132   ; /*********************************************************************************************
                     133   ; **  Write Byte to EEPROM Chip
                     134   ; *********************************************************************************************/
                     135   ; void WriteByteToChip(char c){
                     136   _WriteByteToChip:
08000098  4E56 0000  137          link      A6,#0
0800009C  48E7 0038  138          movem.l   A2/A3/A4,-(A7)
080000A0  45F9 0800  139          lea       _WaitForTXByte.L,A2
080000A4  0274      
080000A6  47F9 0800  140          lea       _CheckForACK.L,A3
080000AA  029A      
080000AC  49F9 0800  141          lea       _printf.L,A4
080000B0  0C3E      
                     142   ; // Ensure TX is ready before sending control byte
                     143   ; WaitForTXByte();
080000B2  4E92       144          jsr       (A2)
                     145   ; TXR = 0xA0;         // Write Control Byte (1010 0000)
080000B4  13FC 00A0  146          move.b    #160,4227078
080000B8  0040 8006 
                     147   ; CR = startWrite;    // Set STA bit, set WR bit
080000BC  13FC 0090  148          move.b    #144,4227080
080000C0  0040 8008 
                     149   ; WaitForTXByte();
080000C4  4E92       150          jsr       (A2)
                     151   ; printf("ACK = %d\r\n", CheckForACK());
080000C6  2F00       152          move.l    D0,-(A7)
080000C8  4E93       153          jsr       (A3)
080000CA  2200       154          move.l    D0,D1
080000CC  201F       155          move.l    (A7)+,D0
080000CE  2F01       156          move.l    D1,-(A7)
080000D0  4879 0800  157          pea       @m68kus~1_1.L
080000D4  1798      
080000D6  4E94       158          jsr       (A4)
080000D8  504F       159          addq.w    #8,A7
                     160   ; TXR = 0x20;         // Address Byte 1
080000DA  13FC 0020  161          move.b    #32,4227078
080000DE  0040 8006 
                     162   ; CR = Write;         // Set WR bit
080000E2  13FC 0010  163          move.b    #16,4227080
080000E6  0040 8008 
                     164   ; WaitForTXByte();
080000EA  4E92       165          jsr       (A2)
                     166   ; printf("ACK = %d\r\n", CheckForACK());
080000EC  2F00       167          move.l    D0,-(A7)
080000EE  4E93       168          jsr       (A3)
080000F0  2200       169          move.l    D0,D1
080000F2  201F       170          move.l    (A7)+,D0
080000F4  2F01       171          move.l    D1,-(A7)
080000F6  4879 0800  172          pea       @m68kus~1_1.L
080000FA  1798      
080000FC  4E94       173          jsr       (A4)
080000FE  504F       174          addq.w    #8,A7
                     175   ; TXR = 0x00;         // Address Byte 2
08000100  4239 0040  176          clr.b     4227078
08000104  8006      
                     177   ; CR = Write;         // Set WR bit
08000106  13FC 0010  178          move.b    #16,4227080
0800010A  0040 8008 
                     179   ; WaitForTXByte();
0800010E  4E92       180          jsr       (A2)
                     181   ; printf("ACK = %d\r\n", CheckForACK());
08000110  2F00       182          move.l    D0,-(A7)
08000112  4E93       183          jsr       (A3)
08000114  2200       184          move.l    D0,D1
08000116  201F       185          move.l    (A7)+,D0
08000118  2F01       186          move.l    D1,-(A7)
0800011A  4879 0800  187          pea       @m68kus~1_1.L
0800011E  1798      
08000120  4E94       188          jsr       (A4)
08000122  504F       189          addq.w    #8,A7
                     190   ; TXR = c;            // send 1 byte of data
08000124  13EE 000B  191          move.b    11(A6),4227078
08000128  0040 8006 
                     192   ; CR = Write;
0800012C  13FC 0010  193          move.b    #16,4227080
08000130  0040 8008 
                     194   ; WaitForTXByte();
08000134  4E92       195          jsr       (A2)
                     196   ; printf("ACK = %d\r\n", CheckForACK());
08000136  2F00       197          move.l    D0,-(A7)
08000138  4E93       198          jsr       (A3)
0800013A  2200       199          move.l    D0,D1
0800013C  201F       200          move.l    (A7)+,D0
0800013E  2F01       201          move.l    D1,-(A7)
08000140  4879 0800  202          pea       @m68kus~1_1.L
08000144  1798      
08000146  4E94       203          jsr       (A4)
08000148  504F       204          addq.w    #8,A7
                     205   ; CR = stop;
0800014A  13FC 0040  206          move.b    #64,4227080
0800014E  0040 8008 
                     207   ; WaitForWriteCycle();
08000152  4EB9 0800  208          jsr       _WaitForWriteCycle
08000156  0160      
08000158  4CDF 1C00  209          movem.l   (A7)+,A2/A3/A4
0800015C  4E5E       210          unlk      A6
0800015E  4E75       211          rts
                     212   ; }
                     213   ; /*********************************************************************************************
                     214   ; ** Wait For EEPROM to complete internal Write Cycle
                     215   ; *********************************************************************************************/
                     216   ; void WaitForWriteCycle(void){
                     217   _WaitForWriteCycle:
                     218   ; do
                     219   ; {
                     220   WaitForWriteCycle_1:
                     221   ; TXR = 0xA0; // Write Control Byte (1010 0000)
08000160  13FC 00A0  222          move.b    #160,4227078
08000164  0040 8006 
                     223   ; CR = start;
08000168  13FC 0080  224          move.b    #128,4227080
0800016C  0040 8008 
                     225   ; printf("Waiting for Internal Byte Write!\r\n");
08000170  4879 0800  226          pea       @m68kus~1_2.L
08000174  17A4      
08000176  4EB9 0800  227          jsr       _printf
0800017A  0C3E      
0800017C  584F       228          addq.w    #4,A7
0800017E  41F9 0800  229          lea       _CheckForACK.L,A0
08000182  029A      
08000184  2008       230          move.l    A0,D0
08000186  67D8       231          beq       WaitForWriteCycle_1
                     232   ; } while (!CheckForACK);
                     233   ; printf("Internal Byte Write Complete!\r\n");
08000188  4879 0800  234          pea       @m68kus~1_3.L
0800018C  17C8      
0800018E  4EB9 0800  235          jsr       _printf
08000192  0C3E      
08000194  584F       236          addq.w    #4,A7
                     237   ; return;
08000196  4E75       238          rts
                     239   ; }
                     240   ; /*********************************************************************************************
                     241   ; **  Read Byte from EEPROM flash
                     242   ; *********************************************************************************************/
                     243   ; char ReadByteFromChip(void){
                     244   _ReadByteFromChip:
08000198  4E56 FFFC  245          link      A6,#-4
0800019C  48E7 0038  246          movem.l   A2/A3/A4,-(A7)
080001A0  45F9 0800  247          lea       _WaitForTXByte.L,A2
080001A4  0274      
080001A6  47F9 0800  248          lea       _CheckForACK.L,A3
080001AA  029A      
080001AC  49F9 0800  249          lea       _printf.L,A4
080001B0  0C3E      
                     250   ; char receivedByte;
                     251   ; // Ensure TX is ready before sending control byte
                     252   ; WaitForTXByte();
080001B2  4E92       253          jsr       (A2)
                     254   ; TXR = 0xA0;         // Write Control Byte (1010 0000)
080001B4  13FC 00A0  255          move.b    #160,4227078
080001B8  0040 8006 
                     256   ; CR = startWrite;    // set STA bit
080001BC  13FC 0090  257          move.b    #144,4227080
080001C0  0040 8008 
                     258   ; WaitForTXByte();
080001C4  4E92       259          jsr       (A2)
                     260   ; printf("ACK = %d\r\n", CheckForACK());
080001C6  2F00       261          move.l    D0,-(A7)
080001C8  4E93       262          jsr       (A3)
080001CA  2200       263          move.l    D0,D1
080001CC  201F       264          move.l    (A7)+,D0
080001CE  2F01       265          move.l    D1,-(A7)
080001D0  4879 0800  266          pea       @m68kus~1_1.L
080001D4  1798      
080001D6  4E94       267          jsr       (A4)
080001D8  504F       268          addq.w    #8,A7
                     269   ; TXR = 0x20;         // Address Byte 1
080001DA  13FC 0020  270          move.b    #32,4227078
080001DE  0040 8006 
                     271   ; CR = Write;         // set WR bit
080001E2  13FC 0010  272          move.b    #16,4227080
080001E6  0040 8008 
                     273   ; WaitForTXByte();
080001EA  4E92       274          jsr       (A2)
                     275   ; printf("ACK = %d\r\n", CheckForACK());
080001EC  2F00       276          move.l    D0,-(A7)
080001EE  4E93       277          jsr       (A3)
080001F0  2200       278          move.l    D0,D1
080001F2  201F       279          move.l    (A7)+,D0
080001F4  2F01       280          move.l    D1,-(A7)
080001F6  4879 0800  281          pea       @m68kus~1_1.L
080001FA  1798      
080001FC  4E94       282          jsr       (A4)
080001FE  504F       283          addq.w    #8,A7
                     284   ; TXR = 0x00;         // Address Byte 2
08000200  4239 0040  285          clr.b     4227078
08000204  8006      
                     286   ; CR = Write;         // set WR bit
08000206  13FC 0010  287          move.b    #16,4227080
0800020A  0040 8008 
                     288   ; WaitForTXByte();
0800020E  4E92       289          jsr       (A2)
                     290   ; printf("ACK = %d\r\n", CheckForACK());
08000210  2F00       291          move.l    D0,-(A7)
08000212  4E93       292          jsr       (A3)
08000214  2200       293          move.l    D0,D1
08000216  201F       294          move.l    (A7)+,D0
08000218  2F01       295          move.l    D1,-(A7)
0800021A  4879 0800  296          pea       @m68kus~1_1.L
0800021E  1798      
08000220  4E94       297          jsr       (A4)
08000222  504F       298          addq.w    #8,A7
                     299   ; TXR = 0xA1;         // Read Control Byte (1010 0001)
08000224  13FC 00A1  300          move.b    #161,4227078
08000228  0040 8006 
                     301   ; CR = startWrite;    // Set STA bit, WR bit
0800022C  13FC 0090  302          move.b    #144,4227080
08000230  0040 8008 
                     303   ; WaitForTXByte();
08000234  4E92       304          jsr       (A2)
                     305   ; printf("ACK = %d\r\n", CheckForACK());
08000236  2F00       306          move.l    D0,-(A7)
08000238  4E93       307          jsr       (A3)
0800023A  2200       308          move.l    D0,D1
0800023C  201F       309          move.l    (A7)+,D0
0800023E  2F01       310          move.l    D1,-(A7)
08000240  4879 0800  311          pea       @m68kus~1_1.L
08000244  1798      
08000246  4E94       312          jsr       (A4)
08000248  504F       313          addq.w    #8,A7
                     314   ; CR = ReadNACKIACK;
0800024A  13FC 0029  315          move.b    #41,4227080
0800024E  0040 8008 
                     316   ; WaitForReceivedByte();
08000252  4EB9 0800  317          jsr       _WaitForReceivedByte
08000256  028A      
                     318   ; receivedByte = RXR;
08000258  1D79 0040  319          move.b    4227078,-1(A6)
0800025C  8006 FFFF 
                     320   ; CR = stop;
08000260  13FC 0040  321          move.b    #64,4227080
08000264  0040 8008 
                     322   ; return receivedByte;
08000268  102E FFFF  323          move.b    -1(A6),D0
0800026C  4CDF 1C00  324          movem.l   (A7)+,A2/A3/A4
08000270  4E5E       325          unlk      A6
08000272  4E75       326          rts
                     327   ; }
                     328   ; /*********************************************************************************************
                     329   ; ** Probe SR register to check if TIP bit is clear
                     330   ; *********************************************************************************************/
                     331   ; void WaitForTXByte(void){
                     332   _WaitForTXByte:
                     333   ; while ((SR & 0x02) >> 1 == 1);
                     334   WaitForTXByte_1:
08000274  1039 0040  335          move.b    4227080,D0
08000278  8008      
0800027A  C03C 0002  336          and.b     #2,D0
0800027E  E208       337          lsr.b     #1,D0
08000280  0C00 0001  338          cmp.b     #1,D0
08000284  6602       339          bne.s     WaitForTXByte_3
08000286  60EC       340          bra       WaitForTXByte_1
                     341   WaitForTXByte_3:
08000288  4E75       342          rts
                     343   ; }
                     344   ; /*********************************************************************************************
                     345   ; ** Probe RX register to check if it has received data from slave
                     346   ; *********************************************************************************************/
                     347   ; void WaitForReceivedByte(void){
                     348   _WaitForReceivedByte:
                     349   ; while ((SR & 0x01) == 0);
                     350   WaitForReceivedByte_1:
0800028A  1039 0040  351          move.b    4227080,D0
0800028E  8008      
08000290  C03C 0001  352          and.b     #1,D0
08000294  6602       353          bne.s     WaitForReceivedByte_3
08000296  60F2       354          bra       WaitForReceivedByte_1
                     355   WaitForReceivedByte_3:
08000298  4E75       356          rts
                     357   ; }
                     358   ; /*********************************************************************************************
                     359   ; ** Probe Status Register to check if slave has ACKed
                     360   ; Returns 0 of not ACKed and 1 if ACKed
                     361   ; *********************************************************************************************/
                     362   ; int CheckForACK(void){
                     363   _CheckForACK:
                     364   ; if ((SR & 0x80)>> 7 == 1)
0800029A  1039 0040  365          move.b    4227080,D0
0800029E  8008      
080002A0  C07C 00FF  366          and.w     #255,D0
080002A4  C07C 0080  367          and.w     #128,D0
080002A8  EE40       368          asr.w     #7,D0
080002AA  0C40 0001  369          cmp.w     #1,D0
080002AE  6604       370          bne.s     CheckForACK_1
                     371   ; return 0;
080002B0  4280       372          clr.l     D0
080002B2  6002       373          bra.s     CheckForACK_3
                     374   CheckForACK_1:
                     375   ; else return 1;
080002B4  7001       376          moveq     #1,D0
                     377   CheckForACK_3:
080002B6  4E75       378          rts
                     379   ; }
                     380   ; /*********************************************************************************************
                     381   ; ** Initialize IIC Communication
                     382   ; *********************************************************************************************/
                     383   ; void IIC_Init(void){
                     384   _IIC_Init:
                     385   ; // Set Clock Frequency to 100kHz as per page 7 of in IIC controller Document
                     386   ; CTR = 0x00; // Clear EN bit to set clock value first
080002B8  4239 0040  387          clr.b     4227076
080002BC  8004      
                     388   ; PRERlo = 0x31;
080002BE  13FC 0031  389          move.b    #49,4227072
080002C2  0040 8000 
                     390   ; PRERhi = 0x00;
080002C6  4239 0040  391          clr.b     4227074
080002CA  8002      
                     392   ; // Enable EN bit (core is disable) & Disable IEN bit (interrupts disable)
                     393   ; CTR = 0x80;
080002CC  13FC 0080  394          move.b    #128,4227076
080002D0  0040 8004 
080002D4  4E75       395          rts
                     396   ; }
                     397   ; void main(void)
                     398   ; {
                     399   _main:
080002D6  4E56 FFFC  400          link      A6,#-4
080002DA  48E7 2020  401          movem.l   D2/A2,-(A7)
080002DE  45F9 0800  402          lea       _printf.L,A2
080002E2  0C3E      
                     403   ; char sendByte = 72;
080002E4  7448       404          moveq     #72,D2
                     405   ; char recievedByte;
                     406   ; scanflush() ;                       // flush any text that may have been typed ahead
080002E6  4EB9 0800  407          jsr       _scanflush
080002EA  05BC      
                     408   ; printf("\r\nHello IIC Lab\r\n");
080002EC  4879 0800  409          pea       @m68kus~1_4.L
080002F0  17E8      
080002F2  4E92       410          jsr       (A2)
080002F4  584F       411          addq.w    #4,A7
                     412   ; IIC_Init();
080002F6  4EB9 0800  413          jsr       _IIC_Init
080002FA  02B8      
                     414   ; WriteByteToChip(sendByte);
080002FC  4882       415          ext.w     D2
080002FE  48C2       416          ext.l     D2
08000300  2F02       417          move.l    D2,-(A7)
08000302  4EB9 0800  418          jsr       _WriteByteToChip
08000306  0098      
08000308  584F       419          addq.w    #4,A7
                     420   ; recievedByte = ReadByteFromChip();
0800030A  4EB9 0800  421          jsr       _ReadByteFromChip
0800030E  0198      
08000310  1D40 FFFF  422          move.b    D0,-1(A6)
                     423   ; printf("This is the sent Byte: %u\r\n", sendByte);
08000314  4882       424          ext.w     D2
08000316  48C2       425          ext.l     D2
08000318  2F02       426          move.l    D2,-(A7)
0800031A  4879 0800  427          pea       @m68kus~1_5.L
0800031E  17FA      
08000320  4E92       428          jsr       (A2)
08000322  504F       429          addq.w    #8,A7
                     430   ; printf("This is the received Byte: %u\r\n", recievedByte);
08000324  122E FFFF  431          move.b    -1(A6),D1
08000328  4881       432          ext.w     D1
0800032A  48C1       433          ext.l     D1
0800032C  2F01       434          move.l    D1,-(A7)
0800032E  4879 0800  435          pea       @m68kus~1_6.L
08000332  1816      
08000334  4E92       436          jsr       (A2)
08000336  504F       437          addq.w    #8,A7
                     438   ; while(1);
                     439   main_1:
08000338  60FE       440          bra       main_1
                     441   ; // programs should NOT exit as there is nothing to Exit TO !!!!!!
                     442   ; // There is no OS - just press the reset button to end program and call debug
                     443   ; }
                     444   @doscan_read:
0800033A  4E56 FFFC  445          link      A6,#-4
0800033E  2F0A       446          move.l    A2,-(A7)
08000340  45F9 0800  447          lea       @doscan_lpbuf.L,A2
08000344  1952      
08000346  4AAE 0008  448          tst.l     8(A6)
0800034A  6700 0032  449          beq       @doscan_read_1
0800034E  206E 0008  450          move.l    8(A6),A0
08000352  58AE 0008  451          addq.l    #4,8(A6)
08000356  2050       452          move.l    (A0),A0
08000358  1010       453          move.b    (A0),D0
0800035A  4880       454          ext.w     D0
0800035C  48C0       455          ext.l     D0
0800035E  2D40 FFFC  456          move.l    D0,-4(A6)
08000362  4201       457          clr.b     D1
08000364  C2BC 0000  458          and.l     #255,D1
08000368  00FF      
0800036A  B081       459          cmp.l     D1,D0
0800036C  6706       460          beq.s     @doscan_read_3
0800036E  202E FFFC  461          move.l    -4(A6),D0
08000372  6006       462          bra.s     @doscan_read_4
                     463   @doscan_read_3:
08000374  70FF       464          moveq     #-1,D0
08000376  4880       465          ext.w     D0
08000378  48C0       466          ext.l     D0
                     467   @doscan_read_4:
0800037A  6000 0036  468          bra       @doscan_read_5
                     469   @doscan_read_1:
0800037E  2052       470          move.l    (A2),A0
08000380  1010       471          move.b    (A0),D0
08000382  6624       472          bne.s     @doscan_read_6
08000384  4879 0800  473          pea       @doscan_buf.L
08000388  1956      
0800038A  4EB9 0800  474          jsr       _gets
0800038E  0D0E      
08000390  584F       475          addq.w    #4,A7
08000392  2480       476          move.l    D0,(A2)
08000394  4879 0800  477          pea       @doscan_1.L
08000398  1836      
0800039A  4879 0800  478          pea       @doscan_buf.L
0800039E  1956      
080003A0  4EB9 0800  479          jsr       _strcat
080003A4  0DA0      
080003A6  504F       480          addq.w    #8,A7
                     481   @doscan_read_6:
080003A8  2052       482          move.l    (A2),A0
080003AA  5292       483          addq.l    #1,(A2)
080003AC  1010       484          move.b    (A0),D0
080003AE  4880       485          ext.w     D0
080003B0  48C0       486          ext.l     D0
                     487   @doscan_read_5:
080003B2  245F       488          move.l    (A7)+,A2
080003B4  4E5E       489          unlk      A6
080003B6  4E75       490          rts
                     491   @doscan_putback:
080003B8  4E56 0000  492          link      A6,#0
080003BC  48E7 3000  493          movem.l   D2/D3,-(A7)
080003C0  242E 000C  494          move.l    12(A6),D2
080003C4  262E 0008  495          move.l    8(A6),D3
080003C8  6718       496          beq.s     @doscan_putback_1
080003CA  0C82 FFFF  497          cmp.l     #-1,D2
080003CE  FFFF      
080003D0  670A       498          beq.s     @doscan_putback_3
080003D2  5983       499          subq.l    #4,D3
080003D4  2043       500          move.l    D3,A0
080003D6  2050       501          move.l    (A0),A0
080003D8  1082       502          move.b    D2,(A0)
080003DA  6004       503          bra.s     @doscan_putback_4
                     504   @doscan_putback_3:
080003DC  2043       505          move.l    D3,A0
080003DE  5390       506          subq.l    #1,(A0)
                     507   @doscan_putback_4:
080003E0  6030       508          bra.s     @doscan_putback_6
                     509   @doscan_putback_1:
080003E2  41F9 0800  510          lea       @doscan_buf.L,A0
080003E6  1956      
080003E8  2008       511          move.l    A0,D0
080003EA  B0B9 0800  512          cmp.l     @doscan_lpbuf.L,D0
080003EE  1952      
080003F0  6612       513          bne.s     @doscan_putback_5
080003F2  4239 0800  514          clr.b     @doscan_buf.L
080003F6  1956      
080003F8  2F02       515          move.l    D2,-(A7)
080003FA  4EB9 0800  516          jsr       _ungetch
080003FE  0DD2      
08000400  584F       517          addq.w    #4,A7
08000402  600E       518          bra.s     @doscan_putback_6
                     519   @doscan_putback_5:
08000404  53B9 0800  520          subq.l    #1,@doscan_lpbuf.L
08000408  1952      
0800040A  2079 0800  521          move.l    @doscan_lpbuf.L,A0
0800040E  1952      
08000410  1082       522          move.b    D2,(A0)
                     523   @doscan_putback_6:
08000412  2002       524          move.l    D2,D0
08000414  4CDF 000C  525          movem.l   (A7)+,D2/D3
08000418  4E5E       526          unlk      A6
0800041A  4E75       527          rts
                     528   @doscan_space:
0800041C  4E56 0000  529          link      A6,#0
08000420  2F02       530          move.l    D2,-(A7)
                     531   @doscan_space_1:
08000422  2F2E 0008  532          move.l    8(A6),-(A7)
08000426  4EB9 0800  533          jsr       @doscan_read
0800042A  033A      
0800042C  584F       534          addq.w    #4,A7
0800042E  2400       535          move.l    D0,D2
08000430  206E 000C  536          move.l    12(A6),A0
08000434  5290       537          addq.l    #1,(A0)
08000436  2002       538          move.l    D2,D0
08000438  5280       539          addq.l    #1,D0
0800043A  41F9 0800  540          lea       __ctype.L,A0
0800043E  1838      
08000440  1030 0800  541          move.b    0(A0,D0.L),D0
08000444  C03C 0010  542          and.b     #16,D0
08000448  66D8       543          bne       @doscan_space_1
0800044A  2002       544          move.l    D2,D0
0800044C  241F       545          move.l    (A7)+,D2
0800044E  4E5E       546          unlk      A6
08000450  4E75       547          rts
                     548   @doscan_select:
08000452  4E56 0000  549          link      A6,#0
08000456  48E7 3F20  550          movem.l   D2/D3/D4/D5/D6/D7/A2,-(A7)
0800045A  262E 000C  551          move.l    12(A6),D3
0800045E  2C2E 0018  552          move.l    24(A6),D6
08000462  2E2E 0014  553          move.l    20(A6),D7
08000466  2043       554          move.l    D3,A0
08000468  1010       555          move.b    (A0),D0
0800046A  0C00 005E  556          cmp.b     #94,D0
0800046E  6608       557          bne.s     @doscan_select_1
08000470  347C 0001  558          move.w    #1,A2
08000474  5283       559          addq.l    #1,D3
08000476  6004       560          bra.s     @doscan_select_2
                     561   @doscan_select_1:
08000478  347C 0000  562          move.w    #0,A2
                     563   @doscan_select_2:
0800047C  202E 0010  564          move.l    16(A6),D0
08000480  53AE 0010  565          subq.l    #1,16(A6)
08000484  4A80       566          tst.l     D0
08000486  6700 00F6  567          beq       @doscan_select_5
0800048A  2F2E 0008  568          move.l    8(A6),-(A7)
0800048E  4EB9 0800  569          jsr       @doscan_read
08000492  033A      
08000494  584F       570          addq.w    #4,A7
08000496  2800       571          move.l    D0,D4
08000498  0C84 FFFF  572          cmp.l     #-1,D4
0800049C  FFFF      
0800049E  6604       573          bne.s     @doscan_select_6
080004A0  6000 00DC  574          bra       @doscan_select_5
                     575   @doscan_select_6:
080004A4  206E 001C  576          move.l    28(A6),A0
080004A8  5290       577          addq.l    #1,(A0)
080004AA  4285       578          clr.l     D5
080004AC  4282       579          clr.l     D2
                     580   @doscan_select_8:
080004AE  2043       581          move.l    D3,A0
080004B0  1030 2800  582          move.b    0(A0,D2.L),D0
080004B4  0C00 005D  583          cmp.b     #93,D0
080004B8  6700 0086  584          beq       @doscan_select_10
080004BC  4A82       585          tst.l     D2
080004BE  6710       586          beq.s     @doscan_select_11
080004C0  2043       587          move.l    D3,A0
080004C2  1030 2800  588          move.b    0(A0,D2.L),D0
080004C6  0C00 005D  589          cmp.b     #93,D0
080004CA  6604       590          bne.s     @doscan_select_11
080004CC  6000 0072  591          bra       @doscan_select_10
                     592   @doscan_select_11:
080004D0  4A82       593          tst.l     D2
080004D2  6700 0056  594          beq       @doscan_select_15
080004D6  2043       595          move.l    D3,A0
080004D8  1030 2800  596          move.b    0(A0,D2.L),D0
080004DC  0C00 002D  597          cmp.b     #45,D0
080004E0  6600 0048  598          bne       @doscan_select_15
080004E4  2043       599          move.l    D3,A0
080004E6  2002       600          move.l    D2,D0
080004E8  5380       601          subq.l    #1,D0
080004EA  2243       602          move.l    D3,A1
080004EC  2202       603          move.l    D2,D1
080004EE  5281       604          addq.l    #1,D1
080004F0  2F00       605          move.l    D0,-(A7)
080004F2  1030 0800  606          move.b    0(A0,D0.L),D0
080004F6  B031 1800  607          cmp.b     0(A1,D1.L),D0
080004FA  6C00 002E  608          bge       @doscan_select_15
080004FE  201F       609          move.l    (A7)+,D0
08000500  2043       610          move.l    D3,A0
08000502  2002       611          move.l    D2,D0
08000504  5380       612          subq.l    #1,D0
08000506  1030 0800  613          move.b    0(A0,D0.L),D0
0800050A  4880       614          ext.w     D0
0800050C  48C0       615          ext.l     D0
0800050E  B880       616          cmp.l     D0,D4
08000510  6D14       617          blt.s     @doscan_select_17
08000512  2043       618          move.l    D3,A0
08000514  2002       619          move.l    D2,D0
08000516  5280       620          addq.l    #1,D0
08000518  1030 0800  621          move.b    0(A0,D0.L),D0
0800051C  4880       622          ext.w     D0
0800051E  48C0       623          ext.l     D0
08000520  B880       624          cmp.l     D0,D4
08000522  6E02       625          bgt.s     @doscan_select_17
08000524  601A       626          bra.s     @doscan_select_10
                     627   @doscan_select_17:
08000526  5282       628          addq.l    #1,D2
08000528  6010       629          bra.s     @doscan_select_19
                     630   @doscan_select_15:
0800052A  2043       631          move.l    D3,A0
0800052C  1030 2800  632          move.b    0(A0,D2.L),D0
08000530  4880       633          ext.w     D0
08000532  48C0       634          ext.l     D0
08000534  B880       635          cmp.l     D0,D4
08000536  6602       636          bne.s     @doscan_select_19
08000538  6006       637          bra.s     @doscan_select_10
                     638   @doscan_select_19:
0800053A  5282       639          addq.l    #1,D2
0800053C  6000 FF70  640          bra       @doscan_select_8
                     641   @doscan_select_10:
08000540  4A82       642          tst.l     D2
08000542  670C       643          beq.s     @doscan_select_23
08000544  2043       644          move.l    D3,A0
08000546  1030 2800  645          move.b    0(A0,D2.L),D0
0800054A  0C00 005D  646          cmp.b     #93,D0
0800054E  6702       647          beq.s     @doscan_select_21
                     648   @doscan_select_23:
08000550  7A01       649          moveq     #1,D5
                     650   @doscan_select_21:
08000552  200A       651          move.l    A2,D0
08000554  6712       652          beq.s     @doscan_select_24
08000556  4A85       653          tst.l     D5
08000558  660C       654          bne.s     @doscan_select_26
0800055A  4A87       655          tst.l     D7
0800055C  6606       656          bne.s     @doscan_select_28
0800055E  2046       657          move.l    D6,A0
08000560  5286       658          addq.l    #1,D6
08000562  1084       659          move.b    D4,(A0)
                     660   @doscan_select_28:
08000564  6014       661          bra.s     @doscan_select_4
                     662   @doscan_select_26:
08000566  6016       663          bra.s     @doscan_select_5
                     664   @doscan_select_24:
08000568  4A85       665          tst.l     D5
0800056A  670C       666          beq.s     @doscan_select_30
0800056C  4A87       667          tst.l     D7
0800056E  6606       668          bne.s     @doscan_select_32
08000570  2046       669          move.l    D6,A0
08000572  5286       670          addq.l    #1,D6
08000574  1084       671          move.b    D4,(A0)
                     672   @doscan_select_32:
08000576  6002       673          bra.s     @doscan_select_4
                     674   @doscan_select_30:
08000578  6004       675          bra.s     @doscan_select_5
                     676   @doscan_select_4:
0800057A  6000 FF00  677          bra       @doscan_select_2
                     678   @doscan_select_5:
0800057E  0C84 FFFF  679          cmp.l     #-1,D4
08000582  FFFF      
08000584  6714       680          beq.s     @doscan_select_34
08000586  2F04       681          move.l    D4,-(A7)
08000588  2F2E 0008  682          move.l    8(A6),-(A7)
0800058C  4EB9 0800  683          jsr       @doscan_putback
08000590  03B8      
08000592  504F       684          addq.w    #8,A7
08000594  206E 001C  685          move.l    28(A6),A0
08000598  5390       686          subq.l    #1,(A0)
                     687   @doscan_select_34:
0800059A  4A87       688          tst.l     D7
0800059C  6604       689          bne.s     @doscan_select_36
0800059E  2046       690          move.l    D6,A0
080005A0  4210       691          clr.b     (A0)
                     692   @doscan_select_36:
080005A2  5283       693          addq.l    #1,D3
080005A4  2043       694          move.l    D3,A0
080005A6  1010       695          move.b    (A0),D0
080005A8  0C00 005D  696          cmp.b     #93,D0
080005AC  6702       697          beq.s     @doscan_select_40
080005AE  60F2       698          bra       @doscan_select_36
                     699   @doscan_select_40:
080005B0  5283       700          addq.l    #1,D3
080005B2  2003       701          move.l    D3,D0
080005B4  4CDF 04FC  702          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2
080005B8  4E5E       703          unlk      A6
080005BA  4E75       704          rts
                     705   _scanflush:
080005BC  41F9 0800  706          lea       @doscan_buf.L,A0
080005C0  1956      
080005C2  23C8 0800  707          move.l    A0,@doscan_lpbuf.L
080005C6  1952      
080005C8  4239 0800  708          clr.b     @doscan_buf.L
080005CC  1956      
080005CE  4878 FFFF  709          pea       -1
080005D2  4EB9 0800  710          jsr       _ungetch
080005D6  0DD2      
080005D8  584F       711          addq.w    #4,A7
080005DA  4E75       712          rts
                     713   _doscan:
080005DC  4E56 FF88  714          link      A6,#-120
080005E0  48E7 3F3C  715          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
080005E4  47F9 0800  716          lea       @doscan_read.L,A3
080005E8  033A      
080005EA  4AAE 0008  717          tst.l     8(A6)
080005EE  6706       718          beq.s     doscan_1
080005F0  41EE 0008  719          lea       8(A6),A0
080005F4  6008       720          bra.s     doscan_2
                     721   doscan_1:
080005F6  4200       722          clr.b     D0
080005F8  4880       723          ext.w     D0
080005FA  48C0       724          ext.l     D0
080005FC  2040       725          move.l    D0,A0
                     726   doscan_2:
080005FE  2A08       727          move.l    A0,D5
08000600  42AE FFE4  728          clr.l     -28(A6)
08000604  4284       729          clr.l     D4
                     730   doscan_3:
08000606  206E 000C  731          move.l    12(A6),A0
0800060A  52AE 000C  732          addq.l    #1,12(A6)
0800060E  1010       733          move.b    (A0),D0
08000610  4880       734          ext.w     D0
08000612  48C0       735          ext.l     D0
08000614  2600       736          move.l    D0,D3
08000616  4201       737          clr.b     D1
08000618  C2BC 0000  738          and.l     #255,D1
0800061C  00FF      
0800061E  B081       739          cmp.l     D1,D0
08000620  6700 0612  740          beq       doscan_5
08000624  4286       741          clr.l     D6
08000626  387C 0000  742          move.w    #0,A4
0800062A  0C83 0000  743          cmp.l     #32,D3
0800062E  0020      
08000630  6712       744          beq.s     doscan_8
08000632  0C83 0000  745          cmp.l     #9,D3
08000636  0009      
08000638  670A       746          beq.s     doscan_8
0800063A  0C83 0000  747          cmp.l     #10,D3
0800063E  000A      
08000640  6600 0050  748          bne       doscan_6
                     749   doscan_8:
08000644  2F05       750          move.l    D5,-(A7)
08000646  4E93       751          jsr       (A3)
08000648  584F       752          addq.w    #4,A7
0800064A  2400       753          move.l    D0,D2
0800064C  52AE FFE4  754          addq.l    #1,-28(A6)
08000650  0C82 FFFF  755          cmp.l     #-1,D2
08000654  FFFF      
08000656  6612       756          bne.s     doscan_11
08000658  4A84       757          tst.l     D4
0800065A  6704       758          beq.s     doscan_13
0800065C  2004       759          move.l    D4,D0
0800065E  6006       760          bra.s     doscan_14
                     761   doscan_13:
08000660  70FF       762          moveq     #-1,D0
08000662  4880       763          ext.w     D0
08000664  48C0       764          ext.l     D0
                     765   doscan_14:
08000666  6000 05CE  766          bra       doscan_15
                     767   doscan_11:
0800066A  2002       768          move.l    D2,D0
0800066C  5280       769          addq.l    #1,D0
0800066E  41F9 0800  770          lea       __ctype.L,A0
08000672  1838      
08000674  1030 0800  771          move.b    0(A0,D0.L),D0
08000678  C03C 0010  772          and.b     #16,D0
0800067C  66C6       773          bne       doscan_8
0800067E  53AE FFE4  774          subq.l    #1,-28(A6)
08000682  2F02       775          move.l    D2,-(A7)
08000684  2F05       776          move.l    D5,-(A7)
08000686  4EB9 0800  777          jsr       @doscan_putback
0800068A  03B8      
0800068C  504F       778          addq.w    #8,A7
0800068E  6000 05A0  779          bra       doscan_141
                     780   doscan_6:
08000692  0C83 0000  781          cmp.l     #37,D3
08000696  0025      
08000698  6600 055A  782          bne       doscan_129
0800069C  206E 000C  783          move.l    12(A6),A0
080006A0  52AE 000C  784          addq.l    #1,12(A6)
080006A4  1010       785          move.b    (A0),D0
080006A6  4880       786          ext.w     D0
080006A8  48C0       787          ext.l     D0
080006AA  2600       788          move.l    D0,D3
080006AC  42AE FFEC  789          clr.l     -20(A6)
080006B0  4286       790          clr.l     D6
080006B2  42AE FFE8  791          clr.l     -24(A6)
080006B6  347C 7FFF  792          move.w    #32767,A2
080006BA  0C83 0000  793          cmp.l     #42,D3
080006BE  002A      
080006C0  6612       794          bne.s     doscan_18
080006C2  7C01       795          moveq     #1,D6
080006C4  206E 000C  796          move.l    12(A6),A0
080006C8  52AE 000C  797          addq.l    #1,12(A6)
080006CC  1010       798          move.b    (A0),D0
080006CE  4880       799          ext.w     D0
080006D0  48C0       800          ext.l     D0
080006D2  2600       801          move.l    D0,D3
                     802   doscan_18:
080006D4  2003       803          move.l    D3,D0
080006D6  5280       804          addq.l    #1,D0
080006D8  41F9 0800  805          lea       __ctype.L,A0
080006DC  1838      
080006DE  1030 0800  806          move.b    0(A0,D0.L),D0
080006E2  C03C 0004  807          and.b     #4,D0
080006E6  6700 004C  808          beq       doscan_24
080006EA  2003       809          move.l    D3,D0
080006EC  0480 0000  810          sub.l     #48,D0
080006F0  0030      
080006F2  2440       811          move.l    D0,A2
                     812   doscan_22:
080006F4  206E 000C  813          move.l    12(A6),A0
080006F8  52AE 000C  814          addq.l    #1,12(A6)
080006FC  1010       815          move.b    (A0),D0
080006FE  4880       816          ext.w     D0
08000700  48C0       817          ext.l     D0
08000702  2600       818          move.l    D0,D3
08000704  5280       819          addq.l    #1,D0
08000706  41F9 0800  820          lea       __ctype.L,A0
0800070A  1838      
0800070C  1030 0800  821          move.b    0(A0,D0.L),D0
08000710  C03C 0004  822          and.b     #4,D0
08000714  671E       823          beq.s     doscan_24
08000716  2F0A       824          move.l    A2,-(A7)
08000718  4878 000A  825          pea       10
0800071C  4EB9 0800  826          jsr       LMUL
08000720  0C80      
08000722  2017       827          move.l    (A7),D0
08000724  504F       828          addq.w    #8,A7
08000726  2203       829          move.l    D3,D1
08000728  0481 0000  830          sub.l     #48,D1
0800072C  0030      
0800072E  D081       831          add.l     D1,D0
08000730  2440       832          move.l    D0,A2
08000732  60C0       833          bra       doscan_22
                     834   doscan_24:
08000734  0C83 0000  835          cmp.l     #108,D3
08000738  006C      
0800073A  6708       836          beq.s     doscan_27
0800073C  0C83 0000  837          cmp.l     #76,D3
08000740  004C      
08000742  661A       838          bne.s     doscan_25
                     839   doscan_27:
08000744  2D7C 0000  840          move.l    #1,-24(A6)
08000748  0001 FFE8 
0800074C  206E 000C  841          move.l    12(A6),A0
08000750  52AE 000C  842          addq.l    #1,12(A6)
08000754  1010       843          move.b    (A0),D0
08000756  4880       844          ext.w     D0
08000758  48C0       845          ext.l     D0
0800075A  2600       846          move.l    D0,D3
0800075C  6020       847          bra.s     doscan_28
                     848   doscan_25:
0800075E  0C83 0000  849          cmp.l     #104,D3
08000762  0068      
08000764  6618       850          bne.s     doscan_28
08000766  2D7C 0000  851          move.l    #1,-20(A6)
0800076A  0001 FFEC 
0800076E  206E 000C  852          move.l    12(A6),A0
08000772  52AE 000C  853          addq.l    #1,12(A6)
08000776  1010       854          move.b    (A0),D0
08000778  4880       855          ext.w     D0
0800077A  48C0       856          ext.l     D0
0800077C  2600       857          move.l    D0,D3
                     858   doscan_28:
0800077E  0C83 0000  859          cmp.l     #91,D3
08000782  005B      
08000784  6600 0038  860          bne       doscan_30
08000788  4A86       861          tst.l     D6
0800078A  660A       862          bne.s     doscan_32
0800078C  206E 0010  863          move.l    16(A6),A0
08000790  58AE 0010  864          addq.l    #4,16(A6)
08000794  2E10       865          move.l    (A0),D7
                     866   doscan_32:
08000796  486E FFE4  867          pea       -28(A6)
0800079A  2F07       868          move.l    D7,-(A7)
0800079C  2F06       869          move.l    D6,-(A7)
0800079E  2F0A       870          move.l    A2,-(A7)
080007A0  2F2E 000C  871          move.l    12(A6),-(A7)
080007A4  2F05       872          move.l    D5,-(A7)
080007A6  4EB9 0800  873          jsr       @doscan_select
080007AA  0452      
080007AC  DEFC 0018  874          add.w     #24,A7
080007B0  2D40 000C  875          move.l    D0,12(A6)
080007B4  4A86       876          tst.l     D6
080007B6  6602       877          bne.s     doscan_34
080007B8  5284       878          addq.l    #1,D4
                     879   doscan_34:
080007BA  6000 0474  880          bra       doscan_141
                     881   doscan_30:
080007BE  0C83 0000  882          cmp.l     #110,D3
080007C2  006E      
080007C4  661A       883          bne.s     doscan_36
080007C6  4A86       884          tst.l     D6
080007C8  6612       885          bne.s     doscan_38
080007CA  206E 0010  886          move.l    16(A6),A0
080007CE  58AE 0010  887          addq.l    #4,16(A6)
080007D2  2E10       888          move.l    (A0),D7
080007D4  2047       889          move.l    D7,A0
080007D6  20AE FFE4  890          move.l    -28(A6),(A0)
080007DA  5284       891          addq.l    #1,D4
                     892   doscan_38:
080007DC  6000 0452  893          bra       doscan_141
                     894   doscan_36:
080007E0  0C83 0000  895          cmp.l     #115,D3
080007E4  0073      
080007E6  6600 00C4  896          bne       doscan_40
080007EA  486E FFE4  897          pea       -28(A6)
080007EE  2F05       898          move.l    D5,-(A7)
080007F0  4EB9 0800  899          jsr       @doscan_space
080007F4  041C      
080007F6  504F       900          addq.w    #8,A7
080007F8  2400       901          move.l    D0,D2
080007FA  4A86       902          tst.l     D6
080007FC  660A       903          bne.s     doscan_42
080007FE  206E 0010  904          move.l    16(A6),A0
08000802  58AE 0010  905          addq.l    #4,16(A6)
08000806  2E10       906          move.l    (A0),D7
                     907   doscan_42:
08000808  52AE FFE4  908          addq.l    #1,-28(A6)
                     909   doscan_44:
0800080C  200A       910          move.l    A2,D0
0800080E  534A       911          subq.w    #1,A2
08000810  4A80       912          tst.l     D0
08000812  6700 0048  913          beq       doscan_46
08000816  2002       914          move.l    D2,D0
08000818  5280       915          addq.l    #1,D0
0800081A  41F9 0800  916          lea       __ctype.L,A0
0800081E  1838      
08000820  1030 0800  917          move.b    0(A0,D0.L),D0
08000824  C03C 0010  918          and.b     #16,D0
08000828  6604       919          bne.s     doscan_47
0800082A  7001       920          moveq     #1,D0
0800082C  6002       921          bra.s     doscan_48
                     922   doscan_47:
0800082E  4280       923          clr.l     D0
                     924   doscan_48:
08000830  C0BC 0000  925          and.l     #255,D0
08000834  00FF      
08000836  6724       926          beq.s     doscan_46
08000838  0C82 FFFF  927          cmp.l     #-1,D2
0800083C  FFFF      
0800083E  671C       928          beq.s     doscan_46
08000840  387C 0001  929          move.w    #1,A4
08000844  4A86       930          tst.l     D6
08000846  6606       931          bne.s     doscan_49
08000848  2047       932          move.l    D7,A0
0800084A  5287       933          addq.l    #1,D7
0800084C  1082       934          move.b    D2,(A0)
                     935   doscan_49:
0800084E  2F05       936          move.l    D5,-(A7)
08000850  4E93       937          jsr       (A3)
08000852  584F       938          addq.w    #4,A7
08000854  2400       939          move.l    D0,D2
08000856  52AE FFE4  940          addq.l    #1,-28(A6)
0800085A  60B0       941          bra       doscan_44
                     942   doscan_46:
0800085C  4A86       943          tst.l     D6
0800085E  660A       944          bne.s     doscan_53
08000860  2047       945          move.l    D7,A0
08000862  4210       946          clr.b     (A0)
08000864  200C       947          move.l    A4,D0
08000866  6702       948          beq.s     doscan_53
08000868  5284       949          addq.l    #1,D4
                     950   doscan_53:
0800086A  0C82 FFFF  951          cmp.l     #-1,D2
0800086E  FFFF      
08000870  6708       952          beq.s     doscan_57
08000872  4A86       953          tst.l     D6
08000874  6622       954          bne.s     doscan_55
08000876  200C       955          move.l    A4,D0
08000878  661E       956          bne.s     doscan_55
                     957   doscan_57:
0800087A  4A84       958          tst.l     D4
0800087C  6704       959          beq.s     doscan_58
0800087E  2004       960          move.l    D4,D0
08000880  6012       961          bra.s     doscan_61
                     962   doscan_58:
08000882  0C82 FFFF  963          cmp.l     #-1,D2
08000886  FFFF      
08000888  6608       964          bne.s     doscan_60
0800088A  70FF       965          moveq     #-1,D0
0800088C  4880       966          ext.w     D0
0800088E  48C0       967          ext.l     D0
08000890  6002       968          bra.s     doscan_61
                     969   doscan_60:
08000892  2004       970          move.l    D4,D0
                     971   doscan_61:
08000894  6000 03A0  972          bra       doscan_15
                     973   doscan_55:
08000898  53AE FFE4  974          subq.l    #1,-28(A6)
0800089C  2F02       975          move.l    D2,-(A7)
0800089E  2F05       976          move.l    D5,-(A7)
080008A0  4EB9 0800  977          jsr       @doscan_putback
080008A4  03B8      
080008A6  504F       978          addq.w    #8,A7
080008A8  6000 0386  979          bra       doscan_141
                     980   doscan_40:
080008AC  0C83 0000  981          cmp.l     #99,D3
080008B0  0063      
080008B2  6600 0094  982          bne       doscan_62
080008B6  4A86       983          tst.l     D6
080008B8  660A       984          bne.s     doscan_64
080008BA  206E 0010  985          move.l    16(A6),A0
080008BE  58AE 0010  986          addq.l    #4,16(A6)
080008C2  2E10       987          move.l    (A0),D7
                     988   doscan_64:
080008C4  2F05       989          move.l    D5,-(A7)
080008C6  4E93       990          jsr       (A3)
080008C8  584F       991          addq.w    #4,A7
080008CA  2400       992          move.l    D0,D2
080008CC  52AE FFE4  993          addq.l    #1,-28(A6)
080008D0  200A       994          move.l    A2,D0
080008D2  0C80 0000  995          cmp.l     #32767,D0
080008D6  7FFF      
080008D8  6604       996          bne.s     doscan_66
080008DA  347C 0001  997          move.w    #1,A2
                     998   doscan_66:
080008DE  0C82 FFFF  999          cmp.l     #-1,D2
080008E2  FFFF      
080008E4  6606      1000          bne.s     doscan_68
080008E6  4A86      1001          tst.l     D6
080008E8  6602      1002          bne.s     doscan_68
080008EA  5384      1003          subq.l    #1,D4
                    1004   doscan_68:
080008EC  200A      1005          move.l    A2,D0
080008EE  534A      1006          subq.w    #1,A2
080008F0  4A80      1007          tst.l     D0
080008F2  6720      1008          beq.s     doscan_72
080008F4  0C82 FFFF 1009          cmp.l     #-1,D2
080008F8  FFFF      
080008FA  6718      1010          beq.s     doscan_72
080008FC  4A86      1011          tst.l     D6
080008FE  6606      1012          bne.s     doscan_73
08000900  2047      1013          move.l    D7,A0
08000902  5287      1014          addq.l    #1,D7
08000904  1082      1015          move.b    D2,(A0)
                    1016   doscan_73:
08000906  2F05      1017          move.l    D5,-(A7)
08000908  4E93      1018          jsr       (A3)
0800090A  584F      1019          addq.w    #4,A7
0800090C  2400      1020          move.l    D0,D2
0800090E  52AE FFE4 1021          addq.l    #1,-28(A6)
08000912  60D8      1022          bra       doscan_68
                    1023   doscan_72:
08000914  0C82 FFFF 1024          cmp.l     #-1,D2
08000918  FFFF      
0800091A  6612      1025          bne.s     doscan_75
0800091C  4A84      1026          tst.l     D4
0800091E  6704      1027          beq.s     doscan_77
08000920  2004      1028          move.l    D4,D0
08000922  6006      1029          bra.s     doscan_78
                    1030   doscan_77:
08000924  70FF      1031          moveq     #-1,D0
08000926  4880      1032          ext.w     D0
08000928  48C0      1033          ext.l     D0
                    1034   doscan_78:
0800092A  6000 030A 1035          bra       doscan_15
                    1036   doscan_75:
0800092E  4A86      1037          tst.l     D6
08000930  6602      1038          bne.s     doscan_79
08000932  5284      1039          addq.l    #1,D4
                    1040   doscan_79:
08000934  53AE FFE4 1041          subq.l    #1,-28(A6)
08000938  2F02      1042          move.l    D2,-(A7)
0800093A  2F05      1043          move.l    D5,-(A7)
0800093C  4EB9 0800 1044          jsr       @doscan_putback
08000940  03B8      
08000942  504F      1045          addq.w    #8,A7
08000944  6000 02EA 1046          bra       doscan_141
                    1047   doscan_62:
08000948  0C83 0000 1048          cmp.l     #105,D3
0800094C  0069      
0800094E  6600 0068 1049          bne       doscan_84
08000952  486E FFE4 1050          pea       -28(A6)
08000956  2F05      1051          move.l    D5,-(A7)
08000958  4EB9 0800 1052          jsr       @doscan_space
0800095C  041C      
0800095E  504F      1053          addq.w    #8,A7
08000960  2400      1054          move.l    D0,D2
08000962  0C82 0000 1055          cmp.l     #48,D2
08000966  0030      
08000968  6600 003C 1056          bne       doscan_83
0800096C  387C 0001 1057          move.w    #1,A4
08000970  2F05      1058          move.l    D5,-(A7)
08000972  4E93      1059          jsr       (A3)
08000974  584F      1060          addq.w    #4,A7
08000976  2400      1061          move.l    D0,D2
08000978  2F02      1062          move.l    D2,-(A7)
0800097A  4EB9 0800 1063          jsr       _tolower
0800097E  0D84      
08000980  584F      1064          addq.w    #4,A7
08000982  0C80 0000 1065          cmp.l     #120,D0
08000986  0078      
08000988  6604      1066          bne.s     doscan_85
0800098A  7678      1067          moveq     #120,D3
0800098C  6012      1068          bra.s     doscan_86
                    1069   doscan_85:
0800098E  53AE FFE4 1070          subq.l    #1,-28(A6)
08000992  2F02      1071          move.l    D2,-(A7)
08000994  2F05      1072          move.l    D5,-(A7)
08000996  4EB9 0800 1073          jsr       @doscan_putback
0800099A  03B8      
0800099C  504F      1074          addq.w    #8,A7
0800099E  766F      1075          moveq     #111,D3
                    1076   doscan_86:
080009A0  52AE FFE4 1077          addq.l    #1,-28(A6)
080009A4  6012      1078          bra.s     doscan_84
                    1079   doscan_83:
080009A6  53AE FFE4 1080          subq.l    #1,-28(A6)
080009AA  2F02      1081          move.l    D2,-(A7)
080009AC  2F05      1082          move.l    D5,-(A7)
080009AE  4EB9 0800 1083          jsr       @doscan_putback
080009B2  03B8      
080009B4  504F      1084          addq.w    #8,A7
080009B6  7664      1085          moveq     #100,D3
                    1086   doscan_84:
080009B8  0C83 0000 1087          cmp.l     #100,D3
080009BC  0064      
080009BE  671A      1088          beq.s     doscan_89
080009C0  0C83 0000 1089          cmp.l     #117,D3
080009C4  0075      
080009C6  6712      1090          beq.s     doscan_89
080009C8  0C83 0000 1091          cmp.l     #120,D3
080009CC  0078      
080009CE  670A      1092          beq.s     doscan_89
080009D0  0C83 0000 1093          cmp.l     #111,D3
080009D4  006F      
080009D6  6600 01CE 1094          bne       doscan_87
                    1095   doscan_89:
080009DA  486E FFE4 1096          pea       -28(A6)
080009DE  2F05      1097          move.l    D5,-(A7)
080009E0  4EB9 0800 1098          jsr       @doscan_space
080009E4  041C      
080009E6  504F      1099          addq.w    #8,A7
080009E8  2400      1100          move.l    D0,D2
080009EA  2D7C 0000 1101          move.l    #10,-4(A6)
080009EE  000A FFFC 
080009F2  0C83 0000 1102          cmp.l     #120,D3
080009F6  0078      
080009F8  6608      1103          bne.s     doscan_90
080009FA  2D7C 0000 1104          move.l    #16,-4(A6)
080009FE  0010 FFFC 
                    1105   doscan_90:
08000A02  0C83 0000 1106          cmp.l     #111,D3
08000A06  006F      
08000A08  6608      1107          bne.s     doscan_92
08000A0A  2D7C 0000 1108          move.l    #8,-4(A6)
08000A0E  0008 FFFC 
                    1109   doscan_92:
08000A12  4A86      1110          tst.l     D6
08000A14  660A      1111          bne.s     doscan_94
08000A16  206E 0010 1112          move.l    16(A6),A0
08000A1A  58AE 0010 1113          addq.l    #4,16(A6)
08000A1E  2E10      1114          move.l    (A0),D7
                    1115   doscan_94:
08000A20  42AE FFE0 1116          clr.l     -32(A6)
08000A24  52AE FFE4 1117          addq.l    #1,-28(A6)
08000A28  0C83 0000 1118          cmp.l     #117,D3
08000A2C  0075      
08000A2E  6720      1119          beq.s     doscan_96
08000A30  0C82 0000 1120          cmp.l     #45,D2
08000A34  002D      
08000A36  6618      1121          bne.s     doscan_96
08000A38  2F05      1122          move.l    D5,-(A7)
08000A3A  4E93      1123          jsr       (A3)
08000A3C  584F      1124          addq.w    #4,A7
08000A3E  2400      1125          move.l    D0,D2
08000A40  52AE FFE4 1126          addq.l    #1,-28(A6)
08000A44  2D7C 0000 1127          move.l    #1,-32(A6)
08000A48  0001 FFE0 
08000A4C  387C 0001 1128          move.w    #1,A4
                    1129   doscan_96:
08000A50  3A7C 0000 1130          move.w    #0,A5
08000A54  0C82 FFFF 1131          cmp.l     #-1,D2
08000A58  FFFF      
08000A5A  6612      1132          bne.s     doscan_98
08000A5C  4A84      1133          tst.l     D4
08000A5E  6704      1134          beq.s     doscan_100
08000A60  2004      1135          move.l    D4,D0
08000A62  6006      1136          bra.s     doscan_101
                    1137   doscan_100:
08000A64  70FF      1138          moveq     #-1,D0
08000A66  4880      1139          ext.w     D0
08000A68  48C0      1140          ext.l     D0
                    1141   doscan_101:
08000A6A  6000 01CA 1142          bra       doscan_15
                    1143   doscan_98:
08000A6E  200A      1144          move.l    A2,D0
08000A70  534A      1145          subq.w    #1,A2
08000A72  4A80      1146          tst.l     D0
08000A74  6700 00AA 1147          beq       doscan_104
08000A78  0C83 0000 1148          cmp.l     #120,D3
08000A7C  0078      
08000A7E  6624      1149          bne.s     doscan_106
08000A80  2F02      1150          move.l    D2,-(A7)
08000A82  4EB9 0800 1151          jsr       _toupper
08000A86  0DB6      
08000A88  584F      1152          addq.w    #4,A7
08000A8A  0C80 0000 1153          cmp.l     #65,D0
08000A8E  0041      
08000A90  6D12      1154          blt.s     doscan_106
08000A92  2F02      1155          move.l    D2,-(A7)
08000A94  4EB9 0800 1156          jsr       _toupper
08000A98  0DB6      
08000A9A  584F      1157          addq.w    #4,A7
08000A9C  0C80 0000 1158          cmp.l     #70,D0
08000AA0  0046      
08000AA2  6F1C      1159          ble.s     doscan_105
                    1160   doscan_106:
08000AA4  2002      1161          move.l    D2,D0
08000AA6  5280      1162          addq.l    #1,D0
08000AA8  41F9 0800 1163          lea       __ctype.L,A0
08000AAC  1838      
08000AAE  1030 0800 1164          move.b    0(A0,D0.L),D0
08000AB2  C03C 0004 1165          and.b     #4,D0
08000AB6  C0BC 0000 1166          and.l     #255,D0
08000ABA  00FF      
08000ABC  6700 0062 1167          beq       doscan_104
                    1168   doscan_105:
08000AC0  2002      1169          move.l    D2,D0
08000AC2  5280      1170          addq.l    #1,D0
08000AC4  41F9 0800 1171          lea       __ctype.L,A0
08000AC8  1838      
08000ACA  1030 0800 1172          move.b    0(A0,D0.L),D0
08000ACE  C03C 0004 1173          and.b     #4,D0
08000AD2  661E      1174          bne.s     doscan_107
08000AD4  2F02      1175          move.l    D2,-(A7)
08000AD6  4EB9 0800 1176          jsr       _toupper
08000ADA  0DB6      
08000ADC  584F      1177          addq.w    #4,A7
08000ADE  0480 0000 1178          sub.l     #65,D0
08000AE2  0041      
08000AE4  0680 0000 1179          add.l     #10,D0
08000AE8  000A      
08000AEA  0680 0000 1180          add.l     #48,D0
08000AEE  0030      
08000AF0  2400      1181          move.l    D0,D2
                    1182   doscan_107:
08000AF2  2F0D      1183          move.l    A5,-(A7)
08000AF4  2F2E FFFC 1184          move.l    -4(A6),-(A7)
08000AF8  4EB9 0800 1185          jsr       LMUL
08000AFC  0C80      
08000AFE  2017      1186          move.l    (A7),D0
08000B00  504F      1187          addq.w    #8,A7
08000B02  D082      1188          add.l     D2,D0
08000B04  0480 0000 1189          sub.l     #48,D0
08000B08  0030      
08000B0A  2A40      1190          move.l    D0,A5
08000B0C  2F05      1191          move.l    D5,-(A7)
08000B0E  4E93      1192          jsr       (A3)
08000B10  584F      1193          addq.w    #4,A7
08000B12  2400      1194          move.l    D0,D2
08000B14  52AE FFE4 1195          addq.l    #1,-28(A6)
08000B18  387C 0001 1196          move.w    #1,A4
08000B1C  6000 FF50 1197          bra       doscan_98
                    1198   doscan_104:
08000B20  0C82 FFFF 1199          cmp.l     #-1,D2
08000B24  FFFF      
08000B26  671C      1200          beq.s     doscan_109
08000B28  2F02      1201          move.l    D2,-(A7)
08000B2A  2F05      1202          move.l    D5,-(A7)
08000B2C  4EB9 0800 1203          jsr       @doscan_putback
08000B30  03B8      
08000B32  504F      1204          addq.w    #8,A7
08000B34  53AE FFE4 1205          subq.l    #1,-28(A6)
08000B38  200C      1206          move.l    A4,D0
08000B3A  6606      1207          bne.s     doscan_111
08000B3C  2004      1208          move.l    D4,D0
08000B3E  6000 00F6 1209          bra       doscan_15
                    1210   doscan_111:
08000B42  6016      1211          bra.s     doscan_113
                    1212   doscan_109:
08000B44  200C      1213          move.l    A4,D0
08000B46  6612      1214          bne.s     doscan_113
08000B48  4A84      1215          tst.l     D4
08000B4A  6704      1216          beq.s     doscan_115
08000B4C  2004      1217          move.l    D4,D0
08000B4E  6006      1218          bra.s     doscan_116
                    1219   doscan_115:
08000B50  70FF      1220          moveq     #-1,D0
08000B52  4880      1221          ext.w     D0
08000B54  48C0      1222          ext.l     D0
                    1223   doscan_116:
08000B56  6000 00DE 1224          bra       doscan_15
                    1225   doscan_113:
08000B5A  4AAE FFE0 1226          tst.l     -32(A6)
08000B5E  6706      1227          beq.s     doscan_117
08000B60  200D      1228          move.l    A5,D0
08000B62  4480      1229          neg.l     D0
08000B64  2A40      1230          move.l    D0,A5
                    1231   doscan_117:
08000B66  4A86      1232          tst.l     D6
08000B68  661E      1233          bne.s     doscan_119
08000B6A  4AAE FFE8 1234          tst.l     -24(A6)
08000B6E  6706      1235          beq.s     doscan_121
08000B70  2047      1236          move.l    D7,A0
08000B72  208D      1237          move.l    A5,(A0)
08000B74  6010      1238          bra.s     doscan_124
                    1239   doscan_121:
08000B76  4AAE FFEC 1240          tst.l     -20(A6)
08000B7A  6706      1241          beq.s     doscan_123
08000B7C  2047      1242          move.l    D7,A0
08000B7E  308D      1243          move.w    A5,(A0)
08000B80  6004      1244          bra.s     doscan_124
                    1245   doscan_123:
08000B82  2047      1246          move.l    D7,A0
08000B84  208D      1247          move.l    A5,(A0)
                    1248   doscan_124:
08000B86  5284      1249          addq.l    #1,D4
                    1250   doscan_119:
08000B88  0C82 FFFF 1251          cmp.l     #-1,D2
08000B8C  FFFF      
08000B8E  6612      1252          bne.s     doscan_125
08000B90  4A84      1253          tst.l     D4
08000B92  6704      1254          beq.s     doscan_127
08000B94  2004      1255          move.l    D4,D0
08000B96  6006      1256          bra.s     doscan_128
                    1257   doscan_127:
08000B98  70FF      1258          moveq     #-1,D0
08000B9A  4880      1259          ext.w     D0
08000B9C  48C0      1260          ext.l     D0
                    1261   doscan_128:
08000B9E  6000 0096 1262          bra       doscan_15
                    1263   doscan_125:
08000BA2  6000 008C 1264          bra       doscan_141
                    1265   doscan_87:
08000BA6  0C83 0000 1266          cmp.l     #37,D3
08000BAA  0025      
08000BAC  6600 0046 1267          bne       doscan_129
08000BB0  2F05      1268          move.l    D5,-(A7)
08000BB2  4E93      1269          jsr       (A3)
08000BB4  584F      1270          addq.w    #4,A7
08000BB6  2400      1271          move.l    D0,D2
08000BB8  0C82 FFFF 1272          cmp.l     #-1,D2
08000BBC  FFFF      
08000BBE  6612      1273          bne.s     doscan_131
08000BC0  4A84      1274          tst.l     D4
08000BC2  6704      1275          beq.s     doscan_133
08000BC4  2004      1276          move.l    D4,D0
08000BC6  6006      1277          bra.s     doscan_134
                    1278   doscan_133:
08000BC8  70FF      1279          moveq     #-1,D0
08000BCA  4880      1280          ext.w     D0
08000BCC  48C0      1281          ext.l     D0
                    1282   doscan_134:
08000BCE  6000 0066 1283          bra       doscan_15
                    1284   doscan_131:
08000BD2  52AE FFE4 1285          addq.l    #1,-28(A6)
08000BD6  B483      1286          cmp.l     D3,D2
08000BD8  6716      1287          beq.s     doscan_135
08000BDA  2F02      1288          move.l    D2,-(A7)
08000BDC  2F05      1289          move.l    D5,-(A7)
08000BDE  4EB9 0800 1290          jsr       @doscan_putback
08000BE2  03B8      
08000BE4  504F      1291          addq.w    #8,A7
08000BE6  53AE FFE4 1292          subq.l    #1,-28(A6)
08000BEA  2004      1293          move.l    D4,D0
08000BEC  6000 0048 1294          bra       doscan_15
                    1295   doscan_135:
08000BF0  6000 003E 1296          bra       doscan_141
                    1297   doscan_129:
08000BF4  2F05      1298          move.l    D5,-(A7)
08000BF6  4E93      1299          jsr       (A3)
08000BF8  584F      1300          addq.w    #4,A7
08000BFA  2400      1301          move.l    D0,D2
08000BFC  52AE FFE4 1302          addq.l    #1,-28(A6)
08000C00  0C82 FFFF 1303          cmp.l     #-1,D2
08000C04  FFFF      
08000C06  6610      1304          bne.s     doscan_137
08000C08  4A84      1305          tst.l     D4
08000C0A  6704      1306          beq.s     doscan_139
08000C0C  2004      1307          move.l    D4,D0
08000C0E  6006      1308          bra.s     doscan_140
                    1309   doscan_139:
08000C10  70FF      1310          moveq     #-1,D0
08000C12  4880      1311          ext.w     D0
08000C14  48C0      1312          ext.l     D0
                    1313   doscan_140:
08000C16  601E      1314          bra.s     doscan_15
                    1315   doscan_137:
08000C18  B483      1316          cmp.l     D3,D2
08000C1A  6714      1317          beq.s     doscan_141
08000C1C  2F02      1318          move.l    D2,-(A7)
08000C1E  2F05      1319          move.l    D5,-(A7)
08000C20  4EB9 0800 1320          jsr       @doscan_putback
08000C24  03B8      
08000C26  504F      1321          addq.w    #8,A7
08000C28  53AE FFE4 1322          subq.l    #1,-28(A6)
08000C2C  2004      1323          move.l    D4,D0
08000C2E  6006      1324          bra.s     doscan_15
                    1325   doscan_141:
08000C30  6000 F9D4 1326          bra       doscan_3
                    1327   doscan_5:
08000C34  2004      1328          move.l    D4,D0
                    1329   doscan_15:
08000C36  4CDF 3CFC 1330          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08000C3A  4E5E      1331          unlk      A6
08000C3C  4E75      1332          rts
                    1333   _printf:
08000C3E  4E56 FFFC 1334          link      A6,#-4
08000C42  2F02      1335          move.l    D2,-(A7)
08000C44  41EE 0008 1336          lea       8(A6),A0
08000C48  5848      1337          addq.w    #4,A0
08000C4A  2408      1338          move.l    A0,D2
08000C4C  2F02      1339          move.l    D2,-(A7)
08000C4E  2F2E 0008 1340          move.l    8(A6),-(A7)
08000C52  42A7      1341          clr.l     -(A7)
08000C54  4EB9 0800 1342          jsr       _doprint
08000C58  0E8E      
08000C5A  DEFC 000C 1343          add.w     #12,A7
08000C5E  2D40 FFFC 1344          move.l    D0,-4(A6)
08000C62  4282      1345          clr.l     D2
08000C64  202E FFFC 1346          move.l    -4(A6),D0
08000C68  241F      1347          move.l    (A7)+,D2
08000C6A  4E5E      1348          unlk      A6
08000C6C  4E75      1349          rts
                    1350   ULMUL:
08000C6E  4E56 0000 1351          link    A6,#0
08000C72  48E7 C000 1352          movem.l D0/D1,-(A7)
08000C76  222E 0008 1353          move.l  8(A6),D1
08000C7A  202E 000C 1354          move.l  12(A6),D0
08000C7E  602C      1355          bra.s   lmul_3
                    1356   LMUL:
08000C80  4E56 0000 1357          link    A6,#0
08000C84  48E7 C000 1358          movem.l D0/D1,-(A7)
08000C88  222E 0008 1359          move.l  8(A6),D1
08000C8C  202E 000C 1360          move.l  12(A6),D0
08000C90  4A80      1361          tst.l   D0
08000C92  6A0A      1362          bpl.s   lmul_1
08000C94  4480      1363          neg.l   D0
08000C96  4A81      1364          tst.l   D1
08000C98  6A0A      1365          bpl.s   lmul_2
08000C9A  4481      1366          neg.l   D1
08000C9C  600E      1367          bra.s   lmul_3
                    1368   lmul_1:
08000C9E  4A81      1369          tst.l   D1
08000CA0  6A0A      1370          bpl.s   lmul_3
08000CA2  4481      1371          neg.l   D1
                    1372   lmul_2:
08000CA4  6114      1373          bsr.s   domul
08000CA6  4481      1374          neg.l   D1
08000CA8  4080      1375          negx.l  D0
08000CAA  6002      1376          bra.s   lmul_4
                    1377   lmul_3:
08000CAC  610C      1378          bsr.s   domul
                    1379   lmul_4:
08000CAE  2D41 0008 1380          move.l  D1,8(A6)
08000CB2  4CDF 0003 1381          movem.l (A7)+,D0/D1
08000CB6  4E5E      1382          unlk    A6
08000CB8  4E75      1383          rts
                    1384   domul:
08000CBA  0C81 0000 1385          cmpi.l  #$FFFF,D1
08000CBE  FFFF      
08000CC0  620C      1386          bhi.s   domul_1
08000CC2  0C80 0000 1387          cmpi.l  #$FFFF,D0
08000CC6  FFFF      
08000CC8  620E      1388          bhi.s   domul_2
08000CCA  C2C0      1389          mulu    D0,D1
08000CCC  4E75      1390          rts
                    1391   domul_1:
08000CCE  0C80 0000 1392          cmpi.l  #$FFFF,D0
08000CD2  FFFF      
08000CD4  6218      1393          bhi.s   domul_4
08000CD6  6002      1394          bra.s   domul_3
                    1395   domul_2
08000CD8  C141      1396          exg     D0,D1
                    1397   domul_3:
08000CDA  2F02      1398          move.l  D2,-(A7)
08000CDC  2401      1399          move.l  D1,D2
08000CDE  4842      1400          swap    D2
08000CE0  C2C0      1401          mulu    D0,D1
08000CE2  C4C0      1402          mulu    D0,D2
08000CE4  4842      1403          swap    D2
08000CE6  4242      1404          clr.w   D2
08000CE8  D282      1405          add.l   D2,D1
08000CEA  241F      1406          move.l  (A7)+,D2
08000CEC  4E75      1407          rts
                    1408   domul_4:
08000CEE  48E7 3000 1409          movem.l D2/D3,-(A7)
08000CF2  2401      1410          move.l  D1,D2
08000CF4  2601      1411          move.l  D1,D3
08000CF6  C2C0      1412          mulu    D0,D1
08000CF8  4842      1413          swap    D2
08000CFA  C4C0      1414          mulu    D0,D2
08000CFC  4840      1415          swap    D0
08000CFE  C6C0      1416          mulu    D0,D3
08000D00  D483      1417          add.l   D3,D2
08000D02  4842      1418          swap    D2
08000D04  4242      1419          clr.w   D2
08000D06  D282      1420          add.l   D2,D1
08000D08  4CDF 000C 1421          movem.l (A7)+,D2/D3
08000D0C  4E75      1422          rts
                    1423   _gets:
08000D0E  4E56 0000 1424          link      A6,#0
08000D12  48E7 3820 1425          movem.l   D2/D3/D4/A2,-(A7)
08000D16  45F9 0800 1426          lea       _putch.L,A2
08000D1A  14BE      
08000D1C  282E 0008 1427          move.l    8(A6),D4
08000D20  2404      1428          move.l    D4,D2
                    1429   gets_1:
08000D22  4EB9 0800 1430          jsr       _getch
08000D26  14EE      
08000D28  2600      1431          move.l    D0,D3
08000D2A  0C80 0000 1432          cmp.l     #10,D0
08000D2E  000A      
08000D30  6700 003C 1433          beq       gets_3
08000D34  0C83 0000 1434          cmp.l     #8,D3
08000D38  0008      
08000D3A  6712      1435          beq.s     gets_4
08000D3C  2042      1436          move.l    D2,A0
08000D3E  5282      1437          addq.l    #1,D2
08000D40  1083      1438          move.b    D3,(A0)
08000D42  4883      1439          ext.w     D3
08000D44  48C3      1440          ext.l     D3
08000D46  2F03      1441          move.l    D3,-(A7)
08000D48  4E92      1442          jsr       (A2)
08000D4A  584F      1443          addq.w    #4,A7
08000D4C  601E      1444          bra.s     gets_6
                    1445   gets_4:
08000D4E  B484      1446          cmp.l     D4,D2
08000D50  631A      1447          bls.s     gets_6
08000D52  4878 0008 1448          pea       8
08000D56  4E92      1449          jsr       (A2)
08000D58  584F      1450          addq.w    #4,A7
08000D5A  4878 0020 1451          pea       32
08000D5E  4E92      1452          jsr       (A2)
08000D60  584F      1453          addq.w    #4,A7
08000D62  4878 0008 1454          pea       8
08000D66  4E92      1455          jsr       (A2)
08000D68  584F      1456          addq.w    #4,A7
08000D6A  5382      1457          subq.l    #1,D2
                    1458   gets_6:
08000D6C  60B4      1459          bra       gets_1
                    1460   gets_3:
08000D6E  4878 000A 1461          pea       10
08000D72  4E92      1462          jsr       (A2)
08000D74  584F      1463          addq.w    #4,A7
08000D76  2042      1464          move.l    D2,A0
08000D78  4210      1465          clr.b     (A0)
08000D7A  2004      1466          move.l    D4,D0
08000D7C  4CDF 041C 1467          movem.l   (A7)+,D2/D3/D4/A2
08000D80  4E5E      1468          unlk      A6
08000D82  4E75      1469          rts
                    1470   _tolower:
08000D84  202F 0004 1471          move.l    4(A7),D0
08000D88  0C80 0000 1472          cmp.l     #'A',D0
08000D8C  0041      
08000D8E  6D0E      1473          blt.s     tolower_1
08000D90  0C80 0000 1474          cmp.l     #'Z',D0
08000D94  005A      
08000D96  6E06      1475          bgt.s     tolower_1
08000D98  0680 0000 1476          add.l     #$20,D0
08000D9C  0020      
                    1477   tolower_1:
08000D9E  4E75      1478          rts
                    1479   _strcat:
08000DA0  206F 0004 1480          move.l    (4,A7),A0
08000DA4  226F 0008 1481          move.l    (8,A7),A1
08000DA8  2008      1482          move.l    A0,D0
                    1483   strcat_1:
08000DAA  4A18      1484          tst.b     (A0)+
08000DAC  66FC      1485          bne.s     strcat_1
08000DAE  5388      1486          subq.l    #1,A0
                    1487   strcat_2:
08000DB0  10D9      1488          move.b    (A1)+,(A0)+
08000DB2  66FC      1489          bne.s     strcat_2
08000DB4  4E75      1490          rts
                    1491   _toupper:
08000DB6  202F 0004 1492          move.l    4(A7),D0
08000DBA  0C80 0000 1493          cmp.l     #'a',D0
08000DBE  0061      
08000DC0  6D0E      1494          blt.s     toupper_1
08000DC2  0C80 0000 1495          cmp.l     #'z',D0
08000DC6  007A      
08000DC8  6E06      1496          bgt.s     toupper_1
08000DCA  0480 0000 1497          sub.l     #$20,D0
08000DCE  0020      
                    1498   toupper_1:
08000DD0  4E75      1499          rts
                    1500   _ungetch:
08000DD2  4E56 0000 1501          link      A6,#0
08000DD6  23EE 0008 1502          move.l    8(A6),__ungetbuf.L
08000DDA  0800 1946 
08000DDE  202E 0008 1503          move.l    8(A6),D0
08000DE2  4E5E      1504          unlk      A6
08000DE4  4E75      1505          rts
                    1506   @doprint_copy:
08000DE6  4E56 0000 1507          link      A6,#0
08000DEA  206E 0008 1508          move.l    8(A6),A0
08000DEE  4A90      1509          tst.l     (A0)
08000DF0  6710      1510          beq.s     @doprint_copy_1
08000DF2  202E 000C 1511          move.l    12(A6),D0
08000DF6  206E 0008 1512          move.l    8(A6),A0
08000DFA  2250      1513          move.l    (A0),A1
08000DFC  5290      1514          addq.l    #1,(A0)
08000DFE  1280      1515          move.b    D0,(A1)
08000E00  600C      1516          bra.s     @doprint_copy_2
                    1517   @doprint_copy_1:
08000E02  2F2E 000C 1518          move.l    12(A6),-(A7)
08000E06  4EB9 0800 1519          jsr       _putch
08000E0A  14BE      
08000E0C  584F      1520          addq.w    #4,A7
                    1521   @doprint_copy_2:
08000E0E  4E5E      1522          unlk      A6
08000E10  4E75      1523          rts
                    1524   @doprint_getval:
08000E12  4E56 0000 1525          link      A6,#0
08000E16  48E7 3000 1526          movem.l   D2/D3,-(A7)
08000E1A  262E 0008 1527          move.l    8(A6),D3
08000E1E  4282      1528          clr.l     D2
08000E20  2043      1529          move.l    D3,A0
08000E22  2050      1530          move.l    (A0),A0
08000E24  1010      1531          move.b    (A0),D0
08000E26  0C00 002A 1532          cmp.b     #42,D0
08000E2A  6612      1533          bne.s     @doprint_getval_1
08000E2C  206E 000C 1534          move.l    12(A6),A0
08000E30  2250      1535          move.l    (A0),A1
08000E32  5890      1536          addq.l    #4,(A0)
08000E34  2411      1537          move.l    (A1),D2
08000E36  2043      1538          move.l    D3,A0
08000E38  5290      1539          addq.l    #1,(A0)
08000E3A  6000 0048 1540          bra       @doprint_getval_5
                    1541   @doprint_getval_1:
08000E3E  7001      1542          moveq     #1,D0
08000E40  2043      1543          move.l    D3,A0
08000E42  2050      1544          move.l    (A0),A0
08000E44  1210      1545          move.b    (A0),D1
08000E46  4881      1546          ext.w     D1
08000E48  48C1      1547          ext.l     D1
08000E4A  D081      1548          add.l     D1,D0
08000E4C  41F9 0800 1549          lea       __ctype.L,A0
08000E50  1838      
08000E52  1030 0800 1550          move.b    0(A0,D0.L),D0
08000E56  C03C 0004 1551          and.b     #4,D0
08000E5A  6728      1552          beq.s     @doprint_getval_5
08000E5C  2F02      1553          move.l    D2,-(A7)
08000E5E  4878 000A 1554          pea       10
08000E62  4EB9 0800 1555          jsr       LMUL
08000E66  0C80      
08000E68  2017      1556          move.l    (A7),D0
08000E6A  504F      1557          addq.w    #8,A7
08000E6C  2043      1558          move.l    D3,A0
08000E6E  2250      1559          move.l    (A0),A1
08000E70  5290      1560          addq.l    #1,(A0)
08000E72  1211      1561          move.b    (A1),D1
08000E74  4881      1562          ext.w     D1
08000E76  48C1      1563          ext.l     D1
08000E78  D081      1564          add.l     D1,D0
08000E7A  0480 0000 1565          sub.l     #48,D0
08000E7E  0030      
08000E80  2400      1566          move.l    D0,D2
08000E82  60BA      1567          bra       @doprint_getval_1
                    1568   @doprint_getval_5:
08000E84  2002      1569          move.l    D2,D0
08000E86  4CDF 000C 1570          movem.l   (A7)+,D2/D3
08000E8A  4E5E      1571          unlk      A6
08000E8C  4E75      1572          rts
                    1573   _doprint:
08000E8E  4E56 FFCC 1574          link      A6,#-52
08000E92  48E7 3F3C 1575          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000E96  45EE 0008 1576          lea       8(A6),A2
08000E9A  47F9 0800 1577          lea       @doprint_copy.L,A3
08000E9E  0DE6      
08000EA0  49F9 0800 1578          lea       _ultoa.L,A4
08000EA4  1632      
08000EA6  4286      1579          clr.l     D6
                    1580   doprint_1:
08000EA8  206E 000C 1581          move.l    12(A6),A0
08000EAC  4A10      1582          tst.b     (A0)
08000EAE  6700 05F0 1583          beq       doprint_3
08000EB2  206E 000C 1584          move.l    12(A6),A0
08000EB6  1010      1585          move.b    (A0),D0
08000EB8  0C00 0025 1586          cmp.b     #37,D0
08000EBC  671C      1587          beq.s     doprint_4
08000EBE  206E 000C 1588          move.l    12(A6),A0
08000EC2  52AE 000C 1589          addq.l    #1,12(A6)
08000EC6  1210      1590          move.b    (A0),D1
08000EC8  4881      1591          ext.w     D1
08000ECA  48C1      1592          ext.l     D1
08000ECC  2F01      1593          move.l    D1,-(A7)
08000ECE  2F0A      1594          move.l    A2,-(A7)
08000ED0  4E93      1595          jsr       (A3)
08000ED2  504F      1596          addq.w    #8,A7
08000ED4  5286      1597          addq.l    #1,D6
08000ED6  6000 05C4 1598          bra       doprint_2
                    1599   doprint_4:
08000EDA  52AE 000C 1600          addq.l    #1,12(A6)
08000EDE  422E FFD3 1601          clr.b     -45(A6)
08000EE2  422E FFD2 1602          clr.b     -46(A6)
08000EE6  422E FFD0 1603          clr.b     -48(A6)
08000EEA  422E FFCF 1604          clr.b     -49(A6)
08000EEE  422E FFCE 1605          clr.b     -50(A6)
08000EF2  422E FFCD 1606          clr.b     -51(A6)
08000EF6  42AE FFFC 1607          clr.l     -4(A6)
08000EFA  7AFF      1608          moveq     #-1,D5
08000EFC  41EE FFDC 1609          lea       -36(A6),A0
08000F00  2608      1610          move.l    A0,D3
08000F02  2408      1611          move.l    A0,D2
                    1612   doprint_6:
08000F04  206E 000C 1613          move.l    12(A6),A0
08000F08  1010      1614          move.b    (A0),D0
08000F0A  4880      1615          ext.w     D0
08000F0C  48C0      1616          ext.l     D0
08000F0E  0C80 0000 1617          cmp.l     #43,D0
08000F12  002B      
08000F14  6730      1618          beq.s     doprint_12
08000F16  6E18      1619          bgt.s     doprint_15
08000F18  0C80 0000 1620          cmp.l     #35,D0
08000F1C  0023      
08000F1E  6700 003E 1621          beq       doprint_14
08000F22  6E00 0046 1622          bgt       doprint_9
08000F26  0C80 0000 1623          cmp.l     #32,D0
08000F2A  0020      
08000F2C  6724      1624          beq.s     doprint_13
08000F2E  603A      1625          bra.s     doprint_9
                    1626   doprint_15:
08000F30  0C80 0000 1627          cmp.l     #45,D0
08000F34  002D      
08000F36  6702      1628          beq.s     doprint_11
08000F38  6030      1629          bra.s     doprint_9
                    1630   doprint_11:
08000F3A  1D7C 0001 1631          move.b    #1,-51(A6)
08000F3E  FFCD      
08000F40  52AE 000C 1632          addq.l    #1,12(A6)
08000F44  6026      1633          bra.s     doprint_7
                    1634   doprint_12:
08000F46  1D7C 0001 1635          move.b    #1,-50(A6)
08000F4A  FFCE      
08000F4C  52AE 000C 1636          addq.l    #1,12(A6)
08000F50  601A      1637          bra.s     doprint_7
                    1638   doprint_13:
08000F52  1D7C 0001 1639          move.b    #1,-49(A6)
08000F56  FFCF      
08000F58  52AE 000C 1640          addq.l    #1,12(A6)
08000F5C  600E      1641          bra.s     doprint_7
                    1642   doprint_14:
08000F5E  1D7C 0001 1643          move.b    #1,-48(A6)
08000F62  FFD0      
08000F64  52AE 000C 1644          addq.l    #1,12(A6)
08000F68  6002      1645          bra.s     doprint_7
                    1646   doprint_9:
08000F6A  6002      1647          bra.s     doprint_8
                    1648   doprint_7:
08000F6C  6096      1649          bra       doprint_6
                    1650   doprint_8:
08000F6E  206E 000C 1651          move.l    12(A6),A0
08000F72  1010      1652          move.b    (A0),D0
08000F74  0C00 0030 1653          cmp.b     #48,D0
08000F78  660A      1654          bne.s     doprint_16
08000F7A  52AE 000C 1655          addq.l    #1,12(A6)
08000F7E  1D7C 0001 1656          move.b    #1,-46(A6)
08000F82  FFD2      
                    1657   doprint_16:
08000F84  486E 0010 1658          pea       16(A6)
08000F88  486E 000C 1659          pea       12(A6)
08000F8C  4EB9 0800 1660          jsr       @doprint_getval
08000F90  0E12      
08000F92  504F      1661          addq.w    #8,A7
08000F94  2A40      1662          move.l    D0,A5
08000F96  206E 000C 1663          move.l    12(A6),A0
08000F9A  1010      1664          move.b    (A0),D0
08000F9C  0C00 002E 1665          cmp.b     #46,D0
08000FA0  6616      1666          bne.s     doprint_18
08000FA2  52AE 000C 1667          addq.l    #1,12(A6)
08000FA6  486E 0010 1668          pea       16(A6)
08000FAA  486E 000C 1669          pea       12(A6)
08000FAE  4EB9 0800 1670          jsr       @doprint_getval
08000FB2  0E12      
08000FB4  504F      1671          addq.w    #8,A7
08000FB6  2A00      1672          move.l    D0,D5
                    1673   doprint_18:
08000FB8  206E 000C 1674          move.l    12(A6),A0
08000FBC  1010      1675          move.b    (A0),D0
08000FBE  0C00 006C 1676          cmp.b     #108,D0
08000FC2  660A      1677          bne.s     doprint_20
08000FC4  52AE 000C 1678          addq.l    #1,12(A6)
08000FC8  1D7C 0001 1679          move.b    #1,-45(A6)
08000FCC  FFD3      
                    1680   doprint_20:
08000FCE  206E 000C 1681          move.l    12(A6),A0
08000FD2  1010      1682          move.b    (A0),D0
08000FD4  4880      1683          ext.w     D0
08000FD6  48C0      1684          ext.l     D0
08000FD8  0C80 0000 1685          cmp.l     #111,D0
08000FDC  006F      
08000FDE  6700 00D8 1686          beq       doprint_27
08000FE2  6E34      1687          bgt.s     doprint_33
08000FE4  0C80 0000 1688          cmp.l     #100,D0
08000FE8  0064      
08000FEA  6700 0054 1689          beq       doprint_24
08000FEE  6E1C      1690          bgt.s     doprint_34
08000FF0  0C80 0000 1691          cmp.l     #99,D0
08000FF4  0063      
08000FF6  6700 0130 1692          beq       doprint_30
08000FFA  6E00 0174 1693          bgt       doprint_22
08000FFE  0C80 0000 1694          cmp.l     #88,D0
08001002  0058      
08001004  6700 00EA 1695          beq       doprint_28
08001008  6000 0166 1696          bra       doprint_22
                    1697   doprint_34:
0800100C  0C80 0000 1698          cmp.l     #105,D0
08001010  0069      
08001012  672C      1699          beq.s     doprint_24
08001014  6000 015A 1700          bra       doprint_22
                    1701   doprint_33:
08001018  0C80 0000 1702          cmp.l     #117,D0
0800101C  0075      
0800101E  6700 0060 1703          beq       doprint_26
08001022  6E0E      1704          bgt.s     doprint_35
08001024  0C80 0000 1705          cmp.l     #115,D0
08001028  0073      
0800102A  6700 0124 1706          beq       doprint_31
0800102E  6000 0140 1707          bra       doprint_22
                    1708   doprint_35:
08001032  0C80 0000 1709          cmp.l     #120,D0
08001036  0078      
08001038  6700 00B6 1710          beq       doprint_28
0800103C  6000 0132 1711          bra       doprint_22
                    1712   doprint_24:
08001040  4A2E FFD3 1713          tst.b     -45(A6)
08001044  671C      1714          beq.s     doprint_36
08001046  4878 000A 1715          pea       10
0800104A  2F03      1716          move.l    D3,-(A7)
0800104C  206E 0010 1717          move.l    16(A6),A0
08001050  58AE 0010 1718          addq.l    #4,16(A6)
08001054  2F10      1719          move.l    (A0),-(A7)
08001056  4EB9 0800 1720          jsr       _ltoa
0800105A  15AA      
0800105C  DEFC 000C 1721          add.w     #12,A7
08001060  601A      1722          bra.s     doprint_37
                    1723   doprint_36:
08001062  4878 000A 1724          pea       10
08001066  2F03      1725          move.l    D3,-(A7)
08001068  206E 0010 1726          move.l    16(A6),A0
0800106C  58AE 0010 1727          addq.l    #4,16(A6)
08001070  2F10      1728          move.l    (A0),-(A7)
08001072  4EB9 0800 1729          jsr       _ltoa
08001076  15AA      
08001078  DEFC 000C 1730          add.w     #12,A7
                    1731   doprint_37:
0800107C  6000 0100 1732          bra       doprint_23
                    1733   doprint_26:
08001080  4A2E FFD3 1734          tst.b     -45(A6)
08001084  6718      1735          beq.s     doprint_38
08001086  4878 000A 1736          pea       10
0800108A  2F03      1737          move.l    D3,-(A7)
0800108C  206E 0010 1738          move.l    16(A6),A0
08001090  58AE 0010 1739          addq.l    #4,16(A6)
08001094  2F10      1740          move.l    (A0),-(A7)
08001096  4E94      1741          jsr       (A4)
08001098  DEFC 000C 1742          add.w     #12,A7
0800109C  6016      1743          bra.s     doprint_39
                    1744   doprint_38:
0800109E  4878 000A 1745          pea       10
080010A2  2F03      1746          move.l    D3,-(A7)
080010A4  206E 0010 1747          move.l    16(A6),A0
080010A8  58AE 0010 1748          addq.l    #4,16(A6)
080010AC  2F10      1749          move.l    (A0),-(A7)
080010AE  4E94      1750          jsr       (A4)
080010B0  DEFC 000C 1751          add.w     #12,A7
                    1752   doprint_39:
080010B4  6000 00C8 1753          bra       doprint_23
                    1754   doprint_27:
080010B8  4A2E FFD3 1755          tst.b     -45(A6)
080010BC  6718      1756          beq.s     doprint_40
080010BE  4878 0008 1757          pea       8
080010C2  2F03      1758          move.l    D3,-(A7)
080010C4  206E 0010 1759          move.l    16(A6),A0
080010C8  58AE 0010 1760          addq.l    #4,16(A6)
080010CC  2F10      1761          move.l    (A0),-(A7)
080010CE  4E94      1762          jsr       (A4)
080010D0  DEFC 000C 1763          add.w     #12,A7
080010D4  6016      1764          bra.s     doprint_41
                    1765   doprint_40:
080010D6  4878 0008 1766          pea       8
080010DA  2F03      1767          move.l    D3,-(A7)
080010DC  206E 0010 1768          move.l    16(A6),A0
080010E0  58AE 0010 1769          addq.l    #4,16(A6)
080010E4  2F10      1770          move.l    (A0),-(A7)
080010E6  4E94      1771          jsr       (A4)
080010E8  DEFC 000C 1772          add.w     #12,A7
                    1773   doprint_41:
080010EC  6000 0090 1774          bra       doprint_23
                    1775   doprint_28:
080010F0  4A2E FFD3 1776          tst.b     -45(A6)
080010F4  6718      1777          beq.s     doprint_42
080010F6  4878 0010 1778          pea       16
080010FA  2F03      1779          move.l    D3,-(A7)
080010FC  206E 0010 1780          move.l    16(A6),A0
08001100  58AE 0010 1781          addq.l    #4,16(A6)
08001104  2F10      1782          move.l    (A0),-(A7)
08001106  4E94      1783          jsr       (A4)
08001108  DEFC 000C 1784          add.w     #12,A7
0800110C  6016      1785          bra.s     doprint_43
                    1786   doprint_42:
0800110E  4878 0010 1787          pea       16
08001112  2F03      1788          move.l    D3,-(A7)
08001114  206E 0010 1789          move.l    16(A6),A0
08001118  58AE 0010 1790          addq.l    #4,16(A6)
0800111C  2F10      1791          move.l    (A0),-(A7)
0800111E  4E94      1792          jsr       (A4)
08001120  DEFC 000C 1793          add.w     #12,A7
                    1794   doprint_43:
08001124  6000 0058 1795          bra       doprint_23
                    1796   doprint_30:
08001128  206E 0010 1797          move.l    16(A6),A0
0800112C  58AE 0010 1798          addq.l    #4,16(A6)
08001130  2010      1799          move.l    (A0),D0
08001132  2042      1800          move.l    D2,A0
08001134  5282      1801          addq.l    #1,D2
08001136  1080      1802          move.b    D0,(A0)
08001138  2042      1803          move.l    D2,A0
0800113A  4210      1804          clr.b     (A0)
0800113C  200D      1805          move.l    A5,D0
0800113E  6704      1806          beq.s     doprint_44
08001140  200D      1807          move.l    A5,D0
08001142  6006      1808          bra.s     doprint_45
                    1809   doprint_44:
08001144  7001      1810          moveq     #1,D0
08001146  4880      1811          ext.w     D0
08001148  48C0      1812          ext.l     D0
                    1813   doprint_45:
0800114A  2A00      1814          move.l    D0,D5
0800114C  6000 0030 1815          bra       doprint_23
                    1816   doprint_31:
08001150  206E 0010 1817          move.l    16(A6),A0
08001154  58AE 0010 1818          addq.l    #4,16(A6)
08001158  2610      1819          move.l    (A0),D3
0800115A  0C85 FFFF 1820          cmp.l     #-1,D5
0800115E  FFFF      
08001160  660C      1821          bne.s     doprint_46
08001162  2F03      1822          move.l    D3,-(A7)
08001164  4EB9 0800 1823          jsr       _strlen
08001168  1698      
0800116A  584F      1824          addq.w    #4,A7
0800116C  2A00      1825          move.l    D0,D5
                    1826   doprint_46:
0800116E  600E      1827          bra.s     doprint_23
                    1828   doprint_22:
08001170  206E 000C 1829          move.l    12(A6),A0
08001174  2242      1830          move.l    D2,A1
08001176  5282      1831          addq.l    #1,D2
08001178  1290      1832          move.b    (A0),(A1)
0800117A  2042      1833          move.l    D2,A0
0800117C  4210      1834          clr.b     (A0)
                    1835   doprint_23:
0800117E  2F03      1836          move.l    D3,-(A7)
08001180  4EB9 0800 1837          jsr       _strlen
08001184  1698      
08001186  584F      1838          addq.w    #4,A7
08001188  1800      1839          move.b    D0,D4
0800118A  206E 000C 1840          move.l    12(A6),A0
0800118E  1010      1841          move.b    (A0),D0
08001190  0C00 0073 1842          cmp.b     #115,D0
08001194  661C      1843          bne.s     doprint_48
08001196  0C85 0000 1844          cmp.l     #0,D5
0800119A  0000      
0800119C  6D14      1845          blt.s     doprint_48
0800119E  4884      1846          ext.w     D4
080011A0  48C4      1847          ext.l     D4
080011A2  B885      1848          cmp.l     D5,D4
080011A4  6F04      1849          ble.s     doprint_50
080011A6  2005      1850          move.l    D5,D0
080011A8  6006      1851          bra.s     doprint_51
                    1852   doprint_50:
080011AA  1004      1853          move.b    D4,D0
080011AC  4880      1854          ext.w     D0
080011AE  48C0      1855          ext.l     D0
                    1856   doprint_51:
080011B0  1800      1857          move.b    D0,D4
                    1858   doprint_48:
080011B2  206E 000C 1859          move.l    12(A6),A0
080011B6  1010      1860          move.b    (A0),D0
080011B8  0C00 0058 1861          cmp.b     #88,D0
080011BC  6600 0028 1862          bne       doprint_56
080011C0  41EE FFDC 1863          lea       -36(A6),A0
080011C4  2408      1864          move.l    A0,D2
                    1865   doprint_54:
080011C6  2042      1866          move.l    D2,A0
080011C8  4A10      1867          tst.b     (A0)
080011CA  671A      1868          beq.s     doprint_56
080011CC  2042      1869          move.l    D2,A0
080011CE  1210      1870          move.b    (A0),D1
080011D0  4881      1871          ext.w     D1
080011D2  48C1      1872          ext.l     D1
080011D4  2F01      1873          move.l    D1,-(A7)
080011D6  4EB9 0800 1874          jsr       _toupper
080011DA  0DB6      
080011DC  584F      1875          addq.w    #4,A7
080011DE  2042      1876          move.l    D2,A0
080011E0  1080      1877          move.b    D0,(A0)
080011E2  5282      1878          addq.l    #1,D2
080011E4  60E0      1879          bra       doprint_54
                    1880   doprint_56:
080011E6  7E00      1881          moveq     #0,D7
080011E8  41EE FFD4 1882          lea       -44(A6),A0
080011EC  2408      1883          move.l    A0,D2
080011EE  206E 000C 1884          move.l    12(A6),A0
080011F2  1010      1885          move.b    (A0),D0
080011F4  0C00 0064 1886          cmp.b     #100,D0
080011F8  670E      1887          beq.s     doprint_59
080011FA  206E 000C 1888          move.l    12(A6),A0
080011FE  1010      1889          move.b    (A0),D0
08001200  0C00 0069 1890          cmp.b     #105,D0
08001204  6600 0068 1891          bne       doprint_65
                    1892   doprint_59:
08001208  102E FFCE 1893          move.b    -50(A6),D0
0800120C  4880      1894          ext.w     D0
0800120E  48C0      1895          ext.l     D0
08001210  4A80      1896          tst.l     D0
08001212  660C      1897          bne.s     doprint_62
08001214  2043      1898          move.l    D3,A0
08001216  1010      1899          move.b    (A0),D0
08001218  0C00 002D 1900          cmp.b     #45,D0
0800121C  6600 0028 1901          bne       doprint_60
                    1902   doprint_62:
08001220  2043      1903          move.l    D3,A0
08001222  1010      1904          move.b    (A0),D0
08001224  0C00 002D 1905          cmp.b     #45,D0
08001228  660E      1906          bne.s     doprint_63
0800122A  2043      1907          move.l    D3,A0
0800122C  5283      1908          addq.l    #1,D3
0800122E  2242      1909          move.l    D2,A1
08001230  5282      1910          addq.l    #1,D2
08001232  1290      1911          move.b    (A0),(A1)
08001234  5304      1912          subq.b    #1,D4
08001236  6008      1913          bra.s     doprint_64
                    1914   doprint_63:
08001238  2042      1915          move.l    D2,A0
0800123A  5282      1916          addq.l    #1,D2
0800123C  10BC 002B 1917          move.b    #43,(A0)
                    1918   doprint_64:
08001240  5287      1919          addq.l    #1,D7
08001242  6000 002A 1920          bra       doprint_65
                    1921   doprint_60:
08001246  4A2E FFCF 1922          tst.b     -49(A6)
0800124A  6722      1923          beq.s     doprint_65
0800124C  2043      1924          move.l    D3,A0
0800124E  1010      1925          move.b    (A0),D0
08001250  0C00 002D 1926          cmp.b     #45,D0
08001254  660E      1927          bne.s     doprint_67
08001256  2043      1928          move.l    D3,A0
08001258  5283      1929          addq.l    #1,D3
0800125A  2242      1930          move.l    D2,A1
0800125C  5282      1931          addq.l    #1,D2
0800125E  1290      1932          move.b    (A0),(A1)
08001260  5304      1933          subq.b    #1,D4
08001262  6008      1934          bra.s     doprint_68
                    1935   doprint_67:
08001264  2042      1936          move.l    D2,A0
08001266  5282      1937          addq.l    #1,D2
08001268  10BC 0020 1938          move.b    #32,(A0)
                    1939   doprint_68:
0800126C  5287      1940          addq.l    #1,D7
                    1941   doprint_65:
0800126E  4A2E FFD0 1942          tst.b     -48(A6)
08001272  6700 005A 1943          beq       doprint_77
08001276  206E 000C 1944          move.l    12(A6),A0
0800127A  1010      1945          move.b    (A0),D0
0800127C  4880      1946          ext.w     D0
0800127E  48C0      1947          ext.l     D0
08001280  0C80 0000 1948          cmp.l     #111,D0
08001284  006F      
08001286  671A      1949          beq.s     doprint_73
08001288  6E0C      1950          bgt.s     doprint_76
0800128A  0C80 0000 1951          cmp.l     #88,D0
0800128E  0058      
08001290  6710      1952          beq.s     doprint_73
08001292  6000 003A 1953          bra       doprint_77
                    1954   doprint_76:
08001296  0C80 0000 1955          cmp.l     #120,D0
0800129A  0078      
0800129C  6704      1956          beq.s     doprint_73
0800129E  6000 002E 1957          bra       doprint_77
                    1958   doprint_73:
080012A2  2042      1959          move.l    D2,A0
080012A4  5282      1960          addq.l    #1,D2
080012A6  10BC 0030 1961          move.b    #48,(A0)
080012AA  5287      1962          addq.l    #1,D7
080012AC  206E 000C 1963          move.l    12(A6),A0
080012B0  1010      1964          move.b    (A0),D0
080012B2  0C00 0078 1965          cmp.b     #120,D0
080012B6  670C      1966          beq.s     doprint_79
080012B8  206E 000C 1967          move.l    12(A6),A0
080012BC  1010      1968          move.b    (A0),D0
080012BE  0C00 0058 1969          cmp.b     #88,D0
080012C2  660A      1970          bne.s     doprint_77
                    1971   doprint_79:
080012C4  2042      1972          move.l    D2,A0
080012C6  5282      1973          addq.l    #1,D2
080012C8  10BC 0078 1974          move.b    #120,(A0)
080012CC  5287      1975          addq.l    #1,D7
                    1976   doprint_77:
080012CE  2042      1977          move.l    D2,A0
080012D0  4210      1978          clr.b     (A0)
080012D2  206E 000C 1979          move.l    12(A6),A0
080012D6  1010      1980          move.b    (A0),D0
080012D8  4880      1981          ext.w     D0
080012DA  48C0      1982          ext.l     D0
080012DC  0C80 0000 1983          cmp.l     #105,D0
080012E0  0069      
080012E2  6700 0076 1984          beq       doprint_82
080012E6  6E42      1985          bgt.s     doprint_93
080012E8  0C80 0000 1986          cmp.l     #99,D0
080012EC  0063      
080012EE  6700 0084 1987          beq       doprint_96
080012F2  6E1C      1988          bgt.s     doprint_94
080012F4  0C80 0000 1989          cmp.l     #88,D0
080012F8  0058      
080012FA  6700 005E 1990          beq       doprint_82
080012FE  6E00 0184 1991          bgt       doprint_80
08001302  0C80 0000 1992          cmp.l     #69,D0
08001306  0045      
08001308  6700 0050 1993          beq       doprint_82
0800130C  6000 0176 1994          bra       doprint_80
                    1995   doprint_94:
08001310  0C80 0000 1996          cmp.l     #101,D0
08001314  0065      
08001316  6700 0042 1997          beq       doprint_82
0800131A  6E00 0168 1998          bgt       doprint_80
0800131E  0C80 0000 1999          cmp.l     #100,D0
08001322  0064      
08001324  6734      2000          beq.s     doprint_82
08001326  6000 015C 2001          bra       doprint_80
                    2002   doprint_93:
0800132A  0C80 0000 2003          cmp.l     #117,D0
0800132E  0075      
08001330  6728      2004          beq.s     doprint_82
08001332  6E1A      2005          bgt.s     doprint_95
08001334  0C80 0000 2006          cmp.l     #115,D0
08001338  0073      
0800133A  6700 0038 2007          beq       doprint_96
0800133E  6E00 0144 2008          bgt       doprint_80
08001342  0C80 0000 2009          cmp.l     #111,D0
08001346  006F      
08001348  6710      2010          beq.s     doprint_82
0800134A  6000 0138 2011          bra       doprint_80
                    2012   doprint_95:
0800134E  0C80 0000 2013          cmp.l     #120,D0
08001352  0078      
08001354  6704      2014          beq.s     doprint_82
08001356  6000 012C 2015          bra       doprint_80
                    2016   doprint_82:
0800135A  4A2E FFD2 2017          tst.b     -46(A6)
0800135E  6714      2018          beq.s     doprint_96
08001360  4A2E FFCD 2019          tst.b     -51(A6)
08001364  660E      2020          bne.s     doprint_96
08001366  200D      2021          move.l    A5,D0
08001368  9087      2022          sub.l     D7,D0
0800136A  4884      2023          ext.w     D4
0800136C  48C4      2024          ext.l     D4
0800136E  9084      2025          sub.l     D4,D0
08001370  2D40 FFFC 2026          move.l    D0,-4(A6)
                    2027   doprint_96:
08001374  202E FFFC 2028          move.l    -4(A6),D0
08001378  0C80 0000 2029          cmp.l     #0,D0
0800137C  0000      
0800137E  6C04      2030          bge.s     doprint_98
08001380  42AE FFFC 2031          clr.l     -4(A6)
                    2032   doprint_98:
08001384  4A2E FFCD 2033          tst.b     -51(A6)
08001388  6600 0030 2034          bne       doprint_104
0800138C  1004      2035          move.b    D4,D0
0800138E  4880      2036          ext.w     D0
08001390  48C0      2037          ext.l     D0
08001392  D0AE FFFC 2038          add.l     -4(A6),D0
08001396  D087      2039          add.l     D7,D0
08001398  1D40 FFD1 2040          move.b    D0,-47(A6)
                    2041   doprint_102:
0800139C  102E FFD1 2042          move.b    -47(A6),D0
080013A0  4880      2043          ext.w     D0
080013A2  48C0      2044          ext.l     D0
080013A4  220D      2045          move.l    A5,D1
080013A6  534D      2046          subq.w    #1,A5
080013A8  B081      2047          cmp.l     D1,D0
080013AA  6C0E      2048          bge.s     doprint_104
080013AC  4878 0020 2049          pea       32
080013B0  2F0A      2050          move.l    A2,-(A7)
080013B2  4E93      2051          jsr       (A3)
080013B4  504F      2052          addq.w    #8,A7
080013B6  5286      2053          addq.l    #1,D6
080013B8  60E2      2054          bra       doprint_102
                    2055   doprint_104:
080013BA  41EE FFD4 2056          lea       -44(A6),A0
080013BE  2408      2057          move.l    A0,D2
                    2058   doprint_105:
080013C0  2042      2059          move.l    D2,A0
080013C2  4A10      2060          tst.b     (A0)
080013C4  6716      2061          beq.s     doprint_107
080013C6  2042      2062          move.l    D2,A0
080013C8  5282      2063          addq.l    #1,D2
080013CA  1210      2064          move.b    (A0),D1
080013CC  4881      2065          ext.w     D1
080013CE  48C1      2066          ext.l     D1
080013D0  2F01      2067          move.l    D1,-(A7)
080013D2  2F0A      2068          move.l    A2,-(A7)
080013D4  4E93      2069          jsr       (A3)
080013D6  504F      2070          addq.w    #8,A7
080013D8  5286      2071          addq.l    #1,D6
080013DA  60E4      2072          bra       doprint_105
                    2073   doprint_107:
080013DC  202E FFFC 2074          move.l    -4(A6),D0
080013E0  1D40 FFD1 2075          move.b    D0,-47(A6)
                    2076   doprint_108:
080013E4  102E FFD1 2077          move.b    -47(A6),D0
080013E8  532E FFD1 2078          subq.b    #1,-47(A6)
080013EC  4A00      2079          tst.b     D0
080013EE  670E      2080          beq.s     doprint_110
080013F0  4878 0030 2081          pea       48
080013F4  2F0A      2082          move.l    A2,-(A7)
080013F6  4E93      2083          jsr       (A3)
080013F8  504F      2084          addq.w    #8,A7
080013FA  5286      2085          addq.l    #1,D6
080013FC  60E6      2086          bra       doprint_108
                    2087   doprint_110:
080013FE  2043      2088          move.l    D3,A0
08001400  4A10      2089          tst.b     (A0)
08001402  6700 0048 2090          beq       doprint_113
08001406  206E 000C 2091          move.l    12(A6),A0
0800140A  1010      2092          move.b    (A0),D0
0800140C  4880      2093          ext.w     D0
0800140E  48C0      2094          ext.l     D0
08001410  0C80 0000 2095          cmp.l     #115,D0
08001414  0073      
08001416  670C      2096          beq.s     doprint_116
08001418  6E18      2097          bgt.s     doprint_119
0800141A  0C80 0000 2098          cmp.l     #99,D0
0800141E  0063      
08001420  6702      2099          beq.s     doprint_116
08001422  600E      2100          bra.s     doprint_119
                    2101   doprint_116:
08001424  2005      2102          move.l    D5,D0
08001426  5385      2103          subq.l    #1,D5
08001428  0C80 0000 2104          cmp.l     #0,D0
0800142C  0000      
0800142E  6E02      2105          bgt.s     doprint_119
08001430  6016      2106          bra.s     doprint_115
                    2107   doprint_119:
08001432  2043      2108          move.l    D3,A0
08001434  5283      2109          addq.l    #1,D3
08001436  1210      2110          move.b    (A0),D1
08001438  4881      2111          ext.w     D1
0800143A  48C1      2112          ext.l     D1
0800143C  2F01      2113          move.l    D1,-(A7)
0800143E  2F0A      2114          move.l    A2,-(A7)
08001440  4E93      2115          jsr       (A3)
08001442  504F      2116          addq.w    #8,A7
08001444  5286      2117          addq.l    #1,D6
08001446  6002      2118          bra.s     doprint_112
                    2119   doprint_115:
08001448  6002      2120          bra.s     doprint_113
                    2121   doprint_112:
0800144A  60B2      2122          bra       doprint_110
                    2123   doprint_113:
0800144C  4A2E FFCD 2124          tst.b     -51(A6)
08001450  6700 0030 2125          beq       doprint_125
08001454  1004      2126          move.b    D4,D0
08001456  4880      2127          ext.w     D0
08001458  48C0      2128          ext.l     D0
0800145A  D0AE FFFC 2129          add.l     -4(A6),D0
0800145E  D087      2130          add.l     D7,D0
08001460  1D40 FFD1 2131          move.b    D0,-47(A6)
                    2132   doprint_123:
08001464  102E FFD1 2133          move.b    -47(A6),D0
08001468  4880      2134          ext.w     D0
0800146A  48C0      2135          ext.l     D0
0800146C  220D      2136          move.l    A5,D1
0800146E  534D      2137          subq.w    #1,A5
08001470  B081      2138          cmp.l     D1,D0
08001472  6C0E      2139          bge.s     doprint_125
08001474  4878 0020 2140          pea       32
08001478  2F0A      2141          move.l    A2,-(A7)
0800147A  4E93      2142          jsr       (A3)
0800147C  504F      2143          addq.w    #8,A7
0800147E  5386      2144          subq.l    #1,D6
08001480  60E2      2145          bra       doprint_123
                    2146   doprint_125:
08001482  6014      2147          bra.s     doprint_81
                    2148   doprint_80:
08001484  206E 000C 2149          move.l    12(A6),A0
08001488  1210      2150          move.b    (A0),D1
0800148A  4881      2151          ext.w     D1
0800148C  48C1      2152          ext.l     D1
0800148E  2F01      2153          move.l    D1,-(A7)
08001490  2F0A      2154          move.l    A2,-(A7)
08001492  4E93      2155          jsr       (A3)
08001494  504F      2156          addq.w    #8,A7
08001496  5286      2157          addq.l    #1,D6
                    2158   doprint_81:
08001498  52AE 000C 2159          addq.l    #1,12(A6)
                    2160   doprint_2:
0800149C  6000 FA0A 2161          bra       doprint_1
                    2162   doprint_3:
080014A0  4A92      2163          tst.l     (A2)
080014A2  6710      2164          beq.s     doprint_126
080014A4  4201      2165          clr.b     D1
080014A6  C2BC 0000 2166          and.l     #255,D1
080014AA  00FF      
080014AC  2F01      2167          move.l    D1,-(A7)
080014AE  2F0A      2168          move.l    A2,-(A7)
080014B0  4E93      2169          jsr       (A3)
080014B2  504F      2170          addq.w    #8,A7
                    2171   doprint_126:
080014B4  2006      2172          move.l    D6,D0
080014B6  4CDF 3CFC 2173          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
080014BA  4E5E      2174          unlk      A6
080014BC  4E75      2175          rts
                    2176   _putch:
080014BE  4E56 0000 2177          link      A6,#0
080014C2  2F02      2178          move.l    D2,-(A7)
080014C4  242E 0008 2179          move.l    8(A6),D2
080014C8  0C82 0000 2180          cmp.l     #10,D2
080014CC  000A      
080014CE  660C      2181          bne.s     putch_1
080014D0  4878 000D 2182          pea       13
080014D4  4EB9 0800 2183          jsr       __putch
080014D8  006A      
080014DA  584F      2184          addq.w    #4,A7
                    2185   putch_1:
080014DC  2F02      2186          move.l    D2,-(A7)
080014DE  4EB9 0800 2187          jsr       __putch
080014E2  006A      
080014E4  584F      2188          addq.w    #4,A7
080014E6  2002      2189          move.l    D2,D0
080014E8  241F      2190          move.l    (A7)+,D2
080014EA  4E5E      2191          unlk      A6
080014EC  4E75      2192          rts
                    2193   _getch:
080014EE  2F02      2194          move.l    D2,-(A7)
080014F0  2439 0800 2195          move.l    __ungetbuf.L,D2
080014F4  1946      
080014F6  2039 0800 2196          move.l    __ungetbuf.L,D0
080014FA  1946      
080014FC  0C80 FFFF 2197          cmp.l     #-1,D0
08001500  FFFF      
08001502  670C      2198          beq.s     getch_1
08001504  23FC FFFF 2199          move.l    #-1,__ungetbuf.L
08001508  FFFF 0800 
0800150C  1946      
0800150E  6012      2200          bra.s     getch_3
                    2201   getch_1:
08001510  4EB9 0800 2202          jsr       __getch
08001514  003E      
08001516  2400      2203          move.l    D0,D2
08001518  0C80 0000 2204          cmp.l     #13,D0
0800151C  000D      
0800151E  6602      2205          bne.s     getch_3
08001520  740A      2206          moveq     #10,D2
                    2207   getch_3:
08001522  2002      2208          move.l    D2,D0
08001524  241F      2209          move.l    (A7)+,D2
08001526  4E75      2210          rts
                    2211   @itoa_convert:
08001528  4E56 0000 2212          link      A6,#0
0800152C  48E7 3C00 2213          movem.l   D2/D3/D4/D5,-(A7)
08001530  242E 0008 2214          move.l    8(A6),D2
08001534  262E 0010 2215          move.l    16(A6),D3
08001538  2A2E 000C 2216          move.l    12(A6),D5
0800153C  2F05      2217          move.l    D5,-(A7)
0800153E  2F03      2218          move.l    D3,-(A7)
08001540  4EB9 0800 2219          jsr       ULDIV
08001544  16BA      
08001546  202F 0004 2220          move.l    4(A7),D0
0800154A  504F      2221          addq.w    #8,A7
0800154C  2800      2222          move.l    D0,D4
0800154E  BA83      2223          cmp.l     D3,D5
08001550  6520      2224          blo.s     @itoa_convert_1
08001552  2F03      2225          move.l    D3,-(A7)
08001554  2F05      2226          move.l    D5,-(A7)
08001556  2F03      2227          move.l    D3,-(A7)
08001558  4EB9 0800 2228          jsr       ULDIV
0800155C  16BA      
0800155E  2217      2229          move.l    (A7),D1
08001560  504F      2230          addq.w    #8,A7
08001562  2F01      2231          move.l    D1,-(A7)
08001564  2F02      2232          move.l    D2,-(A7)
08001566  4EB9 0800 2233          jsr       @itoa_convert
0800156A  1528      
0800156C  DEFC 000C 2234          add.w     #12,A7
08001570  2400      2235          move.l    D0,D2
                    2236   @itoa_convert_1:
08001572  0C84 0000 2237          cmp.l     #9,D4
08001576  0009      
08001578  6E0E      2238          bgt.s     @itoa_convert_3
0800157A  2004      2239          move.l    D4,D0
0800157C  7230      2240          moveq     #48,D1
0800157E  C2BC 0000 2241          and.l     #255,D1
08001582  00FF      
08001584  D081      2242          add.l     D1,D0
08001586  6012      2243          bra.s     @itoa_convert_4
                    2244   @itoa_convert_3:
08001588  2004      2245          move.l    D4,D0
0800158A  7261      2246          moveq     #97,D1
0800158C  C2BC 0000 2247          and.l     #255,D1
08001590  00FF      
08001592  D081      2248          add.l     D1,D0
08001594  0480 0000 2249          sub.l     #10,D0
08001598  000A      
                    2250   @itoa_convert_4:
0800159A  2042      2251          move.l    D2,A0
0800159C  1080      2252          move.b    D0,(A0)
0800159E  2002      2253          move.l    D2,D0
080015A0  5280      2254          addq.l    #1,D0
080015A2  4CDF 003C 2255          movem.l   (A7)+,D2/D3/D4/D5
080015A6  4E5E      2256          unlk      A6
080015A8  4E75      2257          rts
                    2258   _ltoa:
080015AA  4E56 0000 2259          link      A6,#0
080015AE  48E7 3C00 2260          movem.l   D2/D3/D4/D5,-(A7)
080015B2  242E 0008 2261          move.l    8(A6),D2
080015B6  262E 000C 2262          move.l    12(A6),D3
080015BA  2A2E 0010 2263          move.l    16(A6),D5
080015BE  2803      2264          move.l    D3,D4
080015C0  0C85 0000 2265          cmp.l     #2,D5
080015C4  0002      
080015C6  6D08      2266          blt.s     ltoa_3
080015C8  0C85 0000 2267          cmp.l     #36,D5
080015CC  0024      
080015CE  6F06      2268          ble.s     ltoa_1
                    2269   ltoa_3:
080015D0  2003      2270          move.l    D3,D0
080015D2  6000 0056 2271          bra       ltoa_4
                    2272   ltoa_1:
080015D6  0C85 0000 2273          cmp.l     #10,D5
080015DA  000A      
080015DC  6600 0034 2274          bne       ltoa_5
080015E0  0C82 0000 2275          cmp.l     #0,D2
080015E4  0000      
080015E6  6C2A      2276          bge.s     ltoa_5
080015E8  2002      2277          move.l    D2,D0
080015EA  4480      2278          neg.l     D0
080015EC  2400      2279          move.l    D0,D2
080015EE  0C82 0000 2280          cmp.l     #0,D2
080015F2  0000      
080015F4  6C14      2281          bge.s     ltoa_7
080015F6  4879 0800 2282          pea       @itoa_1.L
080015FA  193A      
080015FC  2F03      2283          move.l    D3,-(A7)
080015FE  4EB9 0800 2284          jsr       _strcpy
08001602  16AA      
08001604  504F      2285          addq.w    #8,A7
08001606  2003      2286          move.l    D3,D0
08001608  6020      2287          bra.s     ltoa_4
                    2288   ltoa_7:
0800160A  2044      2289          move.l    D4,A0
0800160C  5284      2290          addq.l    #1,D4
0800160E  10BC 002D 2291          move.b    #45,(A0)
                    2292   ltoa_5:
08001612  2F05      2293          move.l    D5,-(A7)
08001614  2F02      2294          move.l    D2,-(A7)
08001616  2F04      2295          move.l    D4,-(A7)
08001618  4EB9 0800 2296          jsr       @itoa_convert
0800161C  1528      
0800161E  DEFC 000C 2297          add.w     #12,A7
08001622  2800      2298          move.l    D0,D4
08001624  2044      2299          move.l    D4,A0
08001626  4210      2300          clr.b     (A0)
08001628  2003      2301          move.l    D3,D0
                    2302   ltoa_4:
0800162A  4CDF 003C 2303          movem.l   (A7)+,D2/D3/D4/D5
0800162E  4E5E      2304          unlk      A6
08001630  4E75      2305          rts
                    2306   _ultoa:
08001632  4E56 0000 2307          link      A6,#0
08001636  48E7 3800 2308          movem.l   D2/D3/D4,-(A7)
0800163A  262E 0010 2309          move.l    16(A6),D3
0800163E  282E 000C 2310          move.l    12(A6),D4
08001642  2404      2311          move.l    D4,D2
08001644  0C83 0000 2312          cmp.l     #2,D3
08001648  0002      
0800164A  6D08      2313          blt.s     ultoa_3
0800164C  0C83 0000 2314          cmp.l     #36,D3
08001650  0024      
08001652  6F04      2315          ble.s     ultoa_1
                    2316   ultoa_3:
08001654  2004      2317          move.l    D4,D0
08001656  601A      2318          bra.s     ultoa_4
                    2319   ultoa_1:
08001658  2F03      2320          move.l    D3,-(A7)
0800165A  2F2E 0008 2321          move.l    8(A6),-(A7)
0800165E  2F02      2322          move.l    D2,-(A7)
08001660  4EB9 0800 2323          jsr       @itoa_convert
08001664  1528      
08001666  DEFC 000C 2324          add.w     #12,A7
0800166A  2400      2325          move.l    D0,D2
0800166C  2042      2326          move.l    D2,A0
0800166E  4210      2327          clr.b     (A0)
08001670  2004      2328          move.l    D4,D0
                    2329   ultoa_4:
08001672  4CDF 001C 2330          movem.l   (A7)+,D2/D3/D4
08001676  4E5E      2331          unlk      A6
08001678  4E75      2332          rts
                    2333   _itoa:
0800167A  4E56 0000 2334          link      A6,#0
0800167E  2F2E 0010 2335          move.l    16(A6),-(A7)
08001682  2F2E 000C 2336          move.l    12(A6),-(A7)
08001686  2F2E 0008 2337          move.l    8(A6),-(A7)
0800168A  4EB9 0800 2338          jsr       _ltoa
0800168E  15AA      
08001690  DEFC 000C 2339          add.w     #12,A7
08001694  4E5E      2340          unlk      A6
08001696  4E75      2341          rts
                    2342   _strlen:
08001698  206F 0004 2343          move.l    (4,A7),A0
0800169C  2248      2344          move.l    A0,A1
                    2345   strlen_1:
0800169E  4A19      2346          tst.b     (A1)+
080016A0  66FC      2347          bne       strlen_1
080016A2  2009      2348          move.l    A1,D0
080016A4  9088      2349          sub.l     A0,D0
080016A6  5380      2350          subq.l    #1,D0
080016A8  4E75      2351          rts
                    2352   _strcpy:
080016AA  206F 0004 2353          move.l    (4,A7),A0
080016AE  226F 0008 2354          move.l    (8,A7),A1
080016B2  2008      2355          move.l    A0,D0
                    2356   strcpy_1:
080016B4  10D9      2357          move.b    (A1)+,(A0)+
080016B6  66FC      2358          bne.s     strcpy_1
080016B8  4E75      2359          rts
                    2360   ULDIV:
080016BA  4E56 0000 2361          link    A6,#0
080016BE  48E7 C000 2362          movem.l D0/D1,-(A7)
080016C2  222E 0008 2363          move.l  8(A6),D1
080016C6  202E 000C 2364          move.l  12(A6),D0
080016CA  6036      2365          bra.s   ldiv_3
                    2366   LDIV:
080016CC  4E56 0000 2367          link    A6,#0
080016D0  48E7 C000 2368          movem.l D0/D1,-(A7)
080016D4  222E 0008 2369          move.l  8(A6),D1
080016D8  202E 000C 2370          move.l  12(A6),D0
080016DC  4A80      2371          tst.l   D0
080016DE  6A0E      2372          bpl.s   ldiv_1
080016E0  4480      2373          neg.l   D0
080016E2  4A81      2374          tst.l   D1
080016E4  6A14      2375          bpl.s   ldiv_2
080016E6  4481      2376          neg.l   D1
080016E8  612A      2377          bsr.s   dodiv
080016EA  4481      2378          neg.l   D1
080016EC  6016      2379          bra.s   ldiv_4
                    2380   ldiv_1:
080016EE  4A81      2381          tst.l   D1
080016F0  6A10      2382          bpl.s   ldiv_3
080016F2  4481      2383          neg.l   D1
080016F4  611E      2384          bsr.s   dodiv
080016F6  4480      2385          neg.l   D0
080016F8  600A      2386          bra.s   ldiv_4
                    2387   ldiv_2:
080016FA  6118      2388          bsr.s   dodiv
080016FC  4480      2389          neg.l   D0
080016FE  4481      2390          neg.l   D1
08001700  6002      2391          bra.s   ldiv_4
                    2392   ldiv_3:
08001702  6110      2393          bsr.s   dodiv
                    2394   ldiv_4:
08001704  2D40 0008 2395          move.l  D0,8(A6)
08001708  2D41 000C 2396          move.l  D1,12(A6)
0800170C  4CDF 0003 2397          movem.l (A7)+,D0/D1
08001710  4E5E      2398          unlk    A6
08001712  4E75      2399          rts
                    2400   dodiv:
08001714  0C81 0000 2401          cmpi.l  #$FFFF,D1
08001718  FFFF      
0800171A  6236      2402          bhi.s   dodiv_2
0800171C  0C80 0000 2403          cmpi.l  #$FFFF,D0
08001720  FFFF      
08001722  6210      2404          bhi.s   dodiv_1
08001724  80C1      2405          divu    D1,D0
08001726  2200      2406          move.l  D0,D1
08001728  4241      2407          clr.w   D1
0800172A  4841      2408          swap    D1
0800172C  0280 0000 2409          andi.l  #$FFFF,D0
08001730  FFFF      
08001732  4E75      2410          rts
                    2411   dodiv_1:
08001734  48A7 A000 2412          movem.w D0/D2,-(A7)
08001738  4240      2413          clr.w   D0
0800173A  4840      2414          swap    D0
0800173C  80C1      2415          divu    D1,D0
0800173E  3400      2416          move.w  D0,D2
08001740  301F      2417          move.w  (A7)+,D0
08001742  80C1      2418          divu    D1,D0
08001744  4840      2419          swap    D0
08001746  4281      2420          clr.l   D1
08001748  3200      2421          move.w  D0,D1
0800174A  3002      2422          move.w  D2,D0
0800174C  4840      2423          swap    D0
0800174E  341F      2424          move.w  (A7)+,D2
08001750  4E75      2425          rts
                    2426   dodiv_2:
08001752  48E7 3800 2427          movem.l D2/D3/D4,-(A7)
08001756  2401      2428          move.l  D1,D2
08001758  4242      2429          clr.w   D2
0800175A  4842      2430          swap    D2
0800175C  5282      2431          addq.l  #1,D2
0800175E  2600      2432          move.l  D0,D3
08001760  2801      2433          move.l  D1,D4
08001762  2202      2434          move.l  D2,D1
08001764  61CE      2435          bsr.s   dodiv_1
08001766  2204      2436          move.l  D4,D1
08001768  82C2      2437          divu    D2,D1
0800176A  80C1      2438          divu    D1,D0
0800176C  0280 0000 2439          andi.l  #$FFFF,D0
08001770  FFFF      
                    2440   dodiv_3:
08001772  2204      2441          move.l  D4,D1
08001774  2404      2442          move.l  D4,D2
08001776  4842      2443          swap    D2
08001778  C2C0      2444          mulu    D0,D1
0800177A  C4C0      2445          mulu    D0,D2
0800177C  4842      2446          swap    D2
0800177E  D282      2447          add.l   D2,D1
08001780  9283      2448          sub.l   D3,D1
08001782  620A      2449          bhi.s   dodiv_4
08001784  4481      2450          neg.l   D1
08001786  B881      2451          cmp.l   D1,D4
08001788  6208      2452          bhi.s   dodiv_5
0800178A  5280      2453          addq.l  #1,D0
0800178C  60E4      2454          bra.s   dodiv_3
                    2455   dodiv_4:
0800178E  5380      2456          subq.l  #1,D0
08001790  60E0      2457          bra.s   dodiv_3
                    2458   dodiv_5:
08001792  4CDF 001C 2459          movem.l (A7)+,D2/D3/D4
08001796  4E75      2460          rts
                    2461          section   const
08001798            2462                   align
                    2463   
                    2464   
                    2465   @m68kus~1_1:
08001798  4143 4B20 2466          dc.b      65,67,75,32,61,32,37,100,13,10,0
0800179C  3D20 2564 
080017A0  0D0A 00   
                    2467   @m68kus~1_2:
080017A4  5761 6974 2468          dc.b      87,97,105,116,105,110,103,32,102,111,114,32
080017A8  696E 6720 
080017AC  666F 7220 
080017B0  496E 7465 2469          dc.b      73,110,116,101,114,110,97,108,32,66,121,116
080017B4  726E 616C 
080017B8  2042 7974 
080017BC  6520 5772 2470          dc.b      101,32,87,114,105,116,101,33,13,10,0
080017C0  6974 6521 
080017C4  0D0A 00   
                    2471   @m68kus~1_3:
080017C8  496E 7465 2472          dc.b      73,110,116,101,114,110,97,108,32,66,121,116
080017CC  726E 616C 
080017D0  2042 7974 
080017D4  6520 5772 2473          dc.b      101,32,87,114,105,116,101,32,67,111,109,112
080017D8  6974 6520 
080017DC  436F 6D70 
080017E0  6C65 7465 2474          dc.b      108,101,116,101,33,13,10,0
080017E4  210D 0A00 
                    2475   @m68kus~1_4:
080017E8  0D0A 4865 2476          dc.b      13,10,72,101,108,108,111,32,73,73,67,32,76,97
080017EC  6C6C 6F20 
080017F0  4949 4320 
080017F4  4C61      
080017F6  620D 0A00 2477          dc.b      98,13,10,0
                    2478   @m68kus~1_5:
080017FA  5468 6973 2479          dc.b      84,104,105,115,32,105,115,32,116,104,101,32
080017FE  2069 7320 
08001802  7468 6520 
08001806  7365 6E74 2480          dc.b      115,101,110,116,32,66,121,116,101,58,32,37,117
0800180A  2042 7974 
0800180E  653A 2025 
08001812  75        
08001813  0D0A 00   2481          dc.b      13,10,0
                    2482   @m68kus~1_6:
08001816  5468 6973 2483          dc.b      84,104,105,115,32,105,115,32,116,104,101,32
0800181A  2069 7320 
0800181E  7468 6520 
08001822  7265 6365 2484          dc.b      114,101,99,101,105,118,101,100,32,66,121,116
08001826  6976 6564 
0800182A  2042 7974 
0800182E  653A 2025 2485          dc.b      101,58,32,37,117,13,10,0
08001832  750D 0A00 
                    2486   @doscan_1:
08001836  0A00      2487          dc.b      10,0
                    2488   __ctype:
08001838  0040 4040 2489          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
0800183C  4040 4040 
08001840  4040 5050 
08001844  5050 50   
08001847  4040 4040 2490          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
0800184B  4040 4040 
0800184F  4040 4040 
08001853  4040 40   
08001856  4040 40D0 2491          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
0800185A  A0A0 A0A0 
0800185E  A0A0 A0A0 
08001862  A0A0 A0A0 2492          dc.b      160,160,160,160,160,160,160,140,140,140,140
08001866  A0A0 A08C 
0800186A  8C8C 8C   
0800186D  8C8C 8C8C 2493          dc.b      140,140,140,140,140,140,160,160,160,160,160
08001871  8C8C A0A0 
08001875  A0A0 A0   
08001878  A0A0 8A8A 2494          dc.b      160,160,138,138,138,138,138,138,130,130,130
0800187C  8A8A 8A8A 
08001880  8282 82   
08001883  8282 8282 2495          dc.b      130,130,130,130,130,130,130,130,130,130,130
08001887  8282 8282 
0800188B  8282 82   
0800188E  8282 8282 2496          dc.b      130,130,130,130,130,130,160,160,160,160,160
08001892  8282 A0A0 
08001896  A0A0 A0   
08001899  A089 8989 2497          dc.b      160,137,137,137,137,137,137,129,129,129,129
0800189D  8989 8981 
080018A1  8181 81   
080018A4  8181 8181 2498          dc.b      129,129,129,129,129,129,129,129,129,129,129
080018A8  8181 8181 
080018AC  8181 81   
080018AF  8181 8181 2499          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
080018B3  81A0 A0A0 
080018B7  A040 0000 
080018BB  00        
080018BC  0000 0000 2500          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080018C0  0000 0000 
080018C4  0000 0000 
080018C8  0000 0000 
080018CC  0000 0000 
080018D0  0000      
080018D2  0000 0000 2501          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080018D6  0000 0000 
080018DA  0000 0000 
080018DE  0000 0000 
080018E2  0000 0000 
080018E6  0000      
080018E8  0000 0000 2502          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080018EC  0000 0000 
080018F0  0000 0000 
080018F4  0000 0000 
080018F8  0000 0000 
080018FC  0000      
080018FE  0000 0000 2503          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001902  0000 0000 
08001906  0000 0000 
0800190A  0000 0000 
0800190E  0000 0000 
08001912  0000      
08001914  0000 0000 2504          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001918  0000 0000 
0800191C  0000 0000 
08001920  0000 0000 
08001924  0000 0000 
08001928  0000      
0800192A  0000 0000 2505          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800192E  0000 0000 
08001932  0000 0000 
08001936  0000 00   
                    2506   @itoa_1:
0800193A  2D32 3134 2507          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
0800193E  3734 3833 
08001942  3634 3800 
                    2508          section   data
08001946            2509                   align
                    2510   
                    2511   *********************************************************************************************************************************************************
                    2512   * Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
                    2513   ********************************************************************************************************************************************************
                    2514   
          0800 1946 2515   DataStart       equ       *
08001946            2516   __ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
0800194A            2517   __allocp:       ds.l      1                    start of free memory block list
0800194E            2518   __heap:         ds.l      1                    begin of free memory
                    2519   
                    2520   
                    2521   @doscan_lpbuf:
08001952  0800 1956 2522          dc.l      @doscan_buf
                    2523          section   bss
08001956            2524                   align
                    2525   
          0800 1956 2526   DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
          0000 0010 2527   DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup
                    2528   
                    2529   *********************************************************************************************************
                    2530   * Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
                    2531   *********************************************************************************************************
          0800 1956 2532   BssStart       equ       *
                    2533   
                    2534   @doscan_buf:
08001956            2535          ds.b      80
                    2536          section   heap
080019A6            2537                  align
                    2538   
          0800 19A6 2539   BssEnd         equ       *
          0000 0050 2540   BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup
                    2541   
                    2542   *********************************************************************************************************
                    2543   * Section for Heap
                    2544   *********************************************************************************************************
                    2545   
          0800 19A6 2546   heap           equ       *
080019A6            2547                  align
          0800 0000

Assembly errors: 0
