680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 25 Mar 2019      Time: 21:21:48          Source: C:\M68K\PROGRAMS\DEBUGMONITORCODE\IDE68K_OUTPUT\IIC.SRC

                       1          section   code
                       2   **********************************************************************************************************
                       3   * CSTART.ASM  -  C startup-code
                       4   *
                       5   *          Initialises the system prior to running the users main() program
                       6   *
                       7   *          1) Sets up the user program stack pointer
                       8   *          2) Switches to User mode in the 68000
                       9   *          3) Enables All Interrupts 1-7 on 68000
                      10   *          4) Copies all initialised C program variables from Rom to Ram prior to running main()
                      11   *
                      12   **********************************************************************************************************
00000000              13                   align
                      14   
                      15   
                      16   **********************************************************************************************************
                      17   * The Following ORG Statement marks the address of the start of the this CStart Program
                      18   *
                      19   * The debug Monitor and Flash Load and Program routines assume your program lives here
                      20   **********************************************************************************************************
08000000              21                   org       $08000000
08000000  46FC 2000   22   start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode
                      23   
                      24   ******************************************************************************************
                      25   * Set unitialised global variables to 0 at startup
                      26   ******************************************************************************************
08000004  207C 0800   27   mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
08000008  23E0      
0800000A  203C 0000   28                   move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
0800000E  0050      
08000010  6700 0024   29                   beq       go_main               if no data to copy go straight to program
08000014  10FC 0000   30   Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
08000018  5380        31                   subq.l    #1,d0
0800001A  66F8        32                   bne       Zeroinit
                      33   
                      34   *******************************************************************************************
                      35   * last minute initialisation before calling main
                      36   *******************************************************************************************
                      37   
0800001C  23FC FFFF   38                   move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
08000020  FFFF 0800 
08000024  23D0      
08000026  42B9 0800   39                   clr.l     __allocp               used by malloc() in C
0800002A  23D4      
0800002C  23FC 0800   40                   move.l    #heap,__heap           pointer to free memory
08000030  2430 0800 
08000034  23D8      
08000036  4EB9 0800   41   go_main         jsr       _main
0800003A  0950      
0800003C  60C2        42                   bra       start
                      43   
                      44   ; C:\M68K\PROGRAMS\DEBUGMONITORCODE\IIC EEPROM PROGRAM FILES\M68KUSERPROGRAM (DE1).C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      45   ; #include <stdio.h>
                      46   ; #include <stdlib.h>
                      47   ; /*********************************************************************************************
                      48   ; **  RS232 port addresses
                      49   ; *********************************************************************************************/
                      50   ; #define RS232_Control     *(volatile unsigned char *)(0x00400040)
                      51   ; #define RS232_Status      *(volatile unsigned char *)(0x00400040)
                      52   ; #define RS232_TxData      *(volatile unsigned char *)(0x00400042)
                      53   ; #define RS232_RxData      *(volatile unsigned char *)(0x00400042)
                      54   ; #define RS232_Baud        *(volatile unsigned char *)(0x00400044)
                      55   ; /*********************************************************************************************
                      56   ; **  IIC registers
                      57   ; *********************************************************************************************/
                      58   ; #define PRERlo  (*(volatile unsigned char *)(0x00408000)) // Clock Prescale register lo-byte
                      59   ; #define PRERhi  (*(volatile unsigned char *)(0x00408002)) // Clock Prescale register hi-byte
                      60   ; #define CTR     (*(volatile unsigned char *)(0x00408004)) // Control Register
                      61   ; #define TXR     (*(volatile unsigned char *)(0x00408006)) // Transmit Register
                      62   ; #define RXR     (*(volatile unsigned char *)(0x00408006)) // Receive Register
                      63   ; #define CR      (*(volatile unsigned char *)(0x00408008)) // Command Register
                      64   ; #define SR      (*(volatile unsigned char *)(0x00408008)) // Status Register
                      65   ; // Sequence Start & Stop Register Commands
                      66   ; #define start           0x80    // Set STA bit              --> (1000 0000)
                      67   ; #define stop            0x40    // Set STO bit              --> (0100 0000)
                      68   ; // Write Command Register Commands
                      69   ; #define startWrite      0x90    // set STA, WR bit          --> (1001 0000)
                      70   ; #define Write           0x10    // set WR bit               --> (0001 0000)
                      71   ; #define ReadIACK        0x21    // Set RD, IACK bits        --> (0010 0001)
                      72   ; #define ReadNACKIACK    0x29    // Set RD, ACK, IACK bits   --> (0010 1001)
                      73   ; #define stopWrite       0x50    // set STO, WR bit          --> (0101 0000)
                      74   ; // Read Command Register Commands
                      75   ; #define startRead       0xA8    // set STA, RD, ACK bit     --> (1010 1000)
                      76   ; #define stopRead        0x41    // set STO, IACK bit        --> (0100 0001)
                      77   ; /*********************************************************************************************
                      78   ; **  Function protoTypes
                      79   ; *********************************************************************************************/
                      80   ; void SequentialBlockWrite(long address, long sizeOfBlock, char payloadByte);
                      81   ; void UtilSequentialBlockWrite(long address, long endAddress, char payloadByte);
                      82   ; void WritePageToChip(void);
                      83   ; void WriteByteToChip(char c);
                      84   ; void initiateWriteSequence(long address);
                      85   ; void WaitForWriteCycle(void);
                      86   ; void SequentialBlockRead(long address, long sizeOfBlock, char expectedByte);
                      87   ; int utilSequentialBlockRead(long utilAddress, long utilEndAddress, char expectedByte);
                      88   ; void ReadPageFromChip(void);
                      89   ; char ReadByteFromChip(void);
                      90   ; void initiateReadSequence(long address);
                      91   ; void BlockDecode(char * writeControlByte, char * readControlByte, long address);
                      92   ; void WaitForTXByte(void);
                      93   ; void WaitForReceivedByte(void);
                      94   ; int CheckForACK(void);
                      95   ; void IIC_Init(void);
                      96   ; void GenerateADCOutput(void);
                      97   ; void DValueOfAInput(void);
                      98   ; int _getch( void )
                      99   ; {
                     100   __getch:
0800003E  4E56 FFFC  101          link      A6,#-4
                     102   ; char c ;
                     103   ; while((RS232_Status & (char)(0x01)) != (char)(0x01))    // wait for Rx bit in 6850 serial comms chip status register to be '1'
                     104   _getch_1:
08000042  1039 0040  105          move.b    4194368,D0
08000046  0040      
08000048  C03C 0001  106          and.b     #1,D0
0800004C  0C00 0001  107          cmp.b     #1,D0
08000050  6702       108          beq.s     _getch_3
08000052  60EE       109          bra       _getch_1
                     110   _getch_3:
                     111   ; ;
                     112   ; return (RS232_RxData & (char)(0x7f));                   // read received character, mask off top bit and return as 7 bit ASCII character
08000054  1039 0040  113          move.b    4194370,D0
08000058  0042      
0800005A  C0BC 0000  114          and.l     #255,D0
0800005E  00FF      
08000060  C0BC 0000  115          and.l     #127,D0
08000064  007F      
08000066  4E5E       116          unlk      A6
08000068  4E75       117          rts
                     118   ; }
                     119   ; int _putch( int c)
                     120   ; {
                     121   __putch:
0800006A  4E56 0000  122          link      A6,#0
                     123   ; while((RS232_Status & (char)(0x02)) != (char)(0x02))    // wait for Tx bit in status register or 6850 serial comms chip to be '1'
                     124   _putch_1:
0800006E  1039 0040  125          move.b    4194368,D0
08000072  0040      
08000074  C03C 0002  126          and.b     #2,D0
08000078  0C00 0002  127          cmp.b     #2,D0
0800007C  6702       128          beq.s     _putch_3
0800007E  60EE       129          bra       _putch_1
                     130   _putch_3:
                     131   ; ;
                     132   ; RS232_TxData = (c & (char)(0x7f));                      // write to the data register to output the character (mask off bit 8 to keep it 7 bit ASCII)
08000080  202E 0008  133          move.l    8(A6),D0
08000084  C0BC 0000  134          and.l     #127,D0
08000088  007F      
0800008A  13C0 0040  135          move.b    D0,4194370
0800008E  0042      
                     136   ; return c ;                                              // putchar() expects the character to be returned
08000090  202E 0008  137          move.l    8(A6),D0
08000094  4E5E       138          unlk      A6
08000096  4E75       139          rts
                     140   ; }
                     141   ; /*********************************************************************************************
                     142   ; **  Write Sequential Block to EEPROM Chip
                     143   ; *********************************************************************************************/
                     144   ; void SequentialBlockWrite(long address, long sizeOfBlock, char payloadByte){
                     145   _SequentialBlockWrite:
08000098  4E56 FFFC  146          link      A6,#-4
0800009C  48E7 3820  147          movem.l   D2/D3/D4/A2,-(A7)
080000A0  45F9 0800  148          lea       _printf.L,A2
080000A4  13E6      
080000A6  282E 0008  149          move.l    8(A6),D4
                     150   ; int i = 0;
080000AA  42AE FFFC  151          clr.l     -4(A6)
                     152   ; long endAddress = (address + sizeOfBlock) - 1;
080000AE  2004       153          move.l    D4,D0
080000B0  D0AE 000C  154          add.l     12(A6),D0
080000B4  5380       155          subq.l    #1,D0
080000B6  2400       156          move.l    D0,D2
                     157   ; long overflowEndAddress = 0;
080000B8  4283       158          clr.l     D3
                     159   ; // Safety check
                     160   ; if (sizeOfBlock > 0x1FFFF){
080000BA  202E 000C  161          move.l    12(A6),D0
080000BE  0C80 0001  162          cmp.l     #131071,D0
080000C2  FFFF      
080000C4  6F0E       163          ble.s     SequentialBlockWrite_1
                     164   ; printf("SequentialBlockWrite: Size of Input Data Block cannot exceed 128kBytes\r\n");
080000C6  4879 0800  165          pea       @m68kus~1_1.L
080000CA  1E62      
080000CC  4E92       166          jsr       (A2)
080000CE  584F       167          addq.w    #4,A7
                     168   ; return;
080000D0  6000 008C  169          bra       SequentialBlockWrite_3
                     170   SequentialBlockWrite_1:
                     171   ; }
                     172   ; if (address > 0x1FFFF){
080000D4  0C84 0001  173          cmp.l     #131071,D4
080000D8  FFFF      
080000DA  6F0E       174          ble.s     SequentialBlockWrite_4
                     175   ; printf("SequentialBlockWrite: Entered Address Out of Range\r\n");
080000DC  4879 0800  176          pea       @m68kus~1_2.L
080000E0  1EAC      
080000E2  4E92       177          jsr       (A2)
080000E4  584F       178          addq.w    #4,A7
                     179   ; return;
080000E6  6000 0076  180          bra       SequentialBlockWrite_3
                     181   SequentialBlockWrite_4:
                     182   ; }
                     183   ; // Wrap-Around check
                     184   ; if (endAddress > 0x1FFFF){
080000EA  0C82 0001  185          cmp.l     #131071,D2
080000EE  FFFF      
080000F0  6F10       186          ble.s     SequentialBlockWrite_6
                     187   ; overflowEndAddress = endAddress - 0x20000;
080000F2  2002       188          move.l    D2,D0
080000F4  0480 0002  189          sub.l     #131072,D0
080000F8  0000      
080000FA  2600       190          move.l    D0,D3
                     191   ; endAddress = 0x1FFFF;
080000FC  243C 0001  192          move.l    #131071,D2
08000100  FFFF      
                     193   SequentialBlockWrite_6:
                     194   ; }
                     195   ; printf("Performing Sequential Block Write to EEPROM\r\n");
08000102  4879 0800  196          pea       @m68kus~1_3.L
08000106  1EE2      
08000108  4E92       197          jsr       (A2)
0800010A  584F       198          addq.w    #4,A7
                     199   ; initiateWriteSequence(address);
0800010C  2F04       200          move.l    D4,-(A7)
0800010E  4EB9 0800  201          jsr       _initiateWriteSequence
08000112  02DA      
08000114  584F       202          addq.w    #4,A7
                     203   ; UtilSequentialBlockWrite(address, endAddress, payloadByte);
08000116  122E 0013  204          move.b    19(A6),D1
0800011A  4881       205          ext.w     D1
0800011C  48C1       206          ext.l     D1
0800011E  2F01       207          move.l    D1,-(A7)
08000120  2F02       208          move.l    D2,-(A7)
08000122  2F04       209          move.l    D4,-(A7)
08000124  4EB9 0800  210          jsr       _UtilSequentialBlockWrite
08000128  0166      
0800012A  DEFC 000C  211          add.w     #12,A7
                     212   ; if (overflowEndAddress){
0800012E  4A83       213          tst.l     D3
08000130  6722       214          beq.s     SequentialBlockWrite_8
                     215   ; initiateWriteSequence(0x00000);
08000132  42A7       216          clr.l     -(A7)
08000134  4EB9 0800  217          jsr       _initiateWriteSequence
08000138  02DA      
0800013A  584F       218          addq.w    #4,A7
                     219   ; UtilSequentialBlockWrite(0x00000, overflowEndAddress, payloadByte);
0800013C  122E 0013  220          move.b    19(A6),D1
08000140  4881       221          ext.w     D1
08000142  48C1       222          ext.l     D1
08000144  2F01       223          move.l    D1,-(A7)
08000146  2F03       224          move.l    D3,-(A7)
08000148  42A7       225          clr.l     -(A7)
0800014A  4EB9 0800  226          jsr       _UtilSequentialBlockWrite
0800014E  0166      
08000150  DEFC 000C  227          add.w     #12,A7
                     228   SequentialBlockWrite_8:
                     229   ; }
                     230   ; printf("Sequential Block Write Completed!\r\n\r\n");
08000154  4879 0800  231          pea       @m68kus~1_4.L
08000158  1F10      
0800015A  4E92       232          jsr       (A2)
0800015C  584F       233          addq.w    #4,A7
                     234   ; return;
                     235   SequentialBlockWrite_3:
0800015E  4CDF 041C  236          movem.l   (A7)+,D2/D3/D4/A2
08000162  4E5E       237          unlk      A6
08000164  4E75       238          rts
                     239   ; }
                     240   ; /*********************************************************************************************
                     241   ; **  Write Sequential Block to EEPROM Chip -- Utility
                     242   ; *********************************************************************************************/
                     243   ; void UtilSequentialBlockWrite(long address, long endAddress, char payloadByte){
                     244   _UtilSequentialBlockWrite:
08000166  4E56 0000  245          link      A6,#0
0800016A  2F02       246          move.l    D2,-(A7)
0800016C  242E 0008  247          move.l    8(A6),D2
                     248   ; while (address <= endAddress){
                     249   UtilSequentialBlockWrite_1:
08000170  B4AE 000C  250          cmp.l     12(A6),D2
08000174  6E00 0082  251          bgt       UtilSequentialBlockWrite_3
                     252   ; if (address%128 != 0 || address == 0){
08000178  2F02       253          move.l    D2,-(A7)
0800017A  4878 0080  254          pea       128
0800017E  4EB9 0800  255          jsr       LDIV
08000182  0A16      
08000184  202F 0004  256          move.l    4(A7),D0
08000188  504F       257          addq.w    #8,A7
0800018A  4A80       258          tst.l     D0
0800018C  6604       259          bne.s     UtilSequentialBlockWrite_6
0800018E  4A82       260          tst.l     D2
08000190  6632       261          bne.s     UtilSequentialBlockWrite_4
                     262   UtilSequentialBlockWrite_6:
                     263   ; // Fill up a 128 byte block
                     264   ; TXR = payloadByte;        
08000192  13EE 0013  265          move.b    19(A6),4227078
08000196  0040 8006 
                     266   ; CR = Write;
0800019A  13FC 0010  267          move.b    #16,4227080
0800019E  0040 8008 
                     268   ; WaitForTXByte();
080001A2  4EB9 0800  269          jsr       _WaitForTXByte
080001A6  078C      
                     270   ; if(!CheckForACK())
080001A8  4EB9 0800  271          jsr       _CheckForACK
080001AC  07B2      
080001AE  4A80       272          tst.l     D0
080001B0  6610       273          bne.s     UtilSequentialBlockWrite_7
                     274   ; printf("UtilSequentialBlockWrite: No ACK returned for byte at 0x%X\r\n", address);
080001B2  2F02       275          move.l    D2,-(A7)
080001B4  4879 0800  276          pea       @m68kus~1_5.L
080001B8  1F36      
080001BA  4EB9 0800  277          jsr       _printf
080001BE  13E6      
080001C0  504F       278          addq.w    #8,A7
                     279   UtilSequentialBlockWrite_7:
080001C2  602E       280          bra.s     UtilSequentialBlockWrite_5
                     281   UtilSequentialBlockWrite_4:
                     282   ; } else {    
                     283   ; // Need to write in next 128 Byte block
                     284   ; CR = stop;
080001C4  13FC 0040  285          move.b    #64,4227080
080001C8  0040 8008 
                     286   ; WaitForWriteCycle();
080001CC  4EB9 0800  287          jsr       _WaitForWriteCycle
080001D0  0392      
                     288   ; initiateWriteSequence(address);
080001D2  2F02       289          move.l    D2,-(A7)
080001D4  4EB9 0800  290          jsr       _initiateWriteSequence
080001D8  02DA      
080001DA  584F       291          addq.w    #4,A7
                     292   ; // Write 1st Byte in new block
                     293   ; TXR = payloadByte;        
080001DC  13EE 0013  294          move.b    19(A6),4227078
080001E0  0040 8006 
                     295   ; CR = Write;
080001E4  13FC 0010  296          move.b    #16,4227080
080001E8  0040 8008 
                     297   ; WaitForTXByte();
080001EC  4EB9 0800  298          jsr       _WaitForTXByte
080001F0  078C      
                     299   UtilSequentialBlockWrite_5:
                     300   ; }
                     301   ; address ++;
080001F2  5282       302          addq.l    #1,D2
080001F4  6000 FF7A  303          bra       UtilSequentialBlockWrite_1
                     304   UtilSequentialBlockWrite_3:
                     305   ; }
                     306   ; CR = stop;
080001F8  13FC 0040  307          move.b    #64,4227080
080001FC  0040 8008 
                     308   ; WaitForWriteCycle();
08000200  4EB9 0800  309          jsr       _WaitForWriteCycle
08000204  0392      
08000206  241F       310          move.l    (A7)+,D2
08000208  4E5E       311          unlk      A6
0800020A  4E75       312          rts
                     313   ; }
                     314   ; /*********************************************************************************************
                     315   ; **  Write Page to EEPROM Chip
                     316   ; *********************************************************************************************/
                     317   ; void WritePageToChip(void){
                     318   _WritePageToChip:
0800020C  2F02       319          move.l    D2,-(A7)
                     320   ; int i = 0;
0800020E  4282       321          clr.l     D2
                     322   ; printf("Writing Page to EEPROM\r\n");
08000210  4879 0800  323          pea       @m68kus~1_6.L
08000214  1F74      
08000216  4EB9 0800  324          jsr       _printf
0800021A  13E6      
0800021C  584F       325          addq.w    #4,A7
                     326   ; initiateWriteSequence(0x12000);
0800021E  4879 0001  327          pea       73728
08000222  2000      
08000224  4EB9 0800  328          jsr       _initiateWriteSequence
08000228  02DA      
0800022A  584F       329          addq.w    #4,A7
                     330   ; for(i=0; i<128; i++){
0800022C  4282       331          clr.l     D2
                     332   WritePageToChip_1:
0800022E  0C82 0000  333          cmp.l     #128,D2
08000232  0080      
08000234  6C32       334          bge.s     WritePageToChip_3
                     335   ; TXR = i;            // send 1 byte of data
08000236  13C2 0040  336          move.b    D2,4227078
0800023A  8006      
                     337   ; CR = Write;
0800023C  13FC 0010  338          move.b    #16,4227080
08000240  0040 8008 
                     339   ; WaitForTXByte();
08000244  4EB9 0800  340          jsr       _WaitForTXByte
08000248  078C      
                     341   ; if(!CheckForACK())
0800024A  4EB9 0800  342          jsr       _CheckForACK
0800024E  07B2      
08000250  4A80       343          tst.l     D0
08000252  6610       344          bne.s     WritePageToChip_4
                     345   ; printf("No ACK returned for byte #%d\r\n", i);
08000254  2F02       346          move.l    D2,-(A7)
08000256  4879 0800  347          pea       @m68kus~1_7.L
0800025A  1F8E      
0800025C  4EB9 0800  348          jsr       _printf
08000260  13E6      
08000262  504F       349          addq.w    #8,A7
                     350   WritePageToChip_4:
08000264  5282       351          addq.l    #1,D2
08000266  60C6       352          bra       WritePageToChip_1
                     353   WritePageToChip_3:
                     354   ; }
                     355   ; CR = stop;
08000268  13FC 0040  356          move.b    #64,4227080
0800026C  0040 8008 
                     357   ; WaitForWriteCycle();
08000270  4EB9 0800  358          jsr       _WaitForWriteCycle
08000274  0392      
08000276  241F       359          move.l    (A7)+,D2
08000278  4E75       360          rts
                     361   ; }
                     362   ; /*********************************************************************************************
                     363   ; **  Write Byte to EEPROM Chip
                     364   ; *********************************************************************************************/
                     365   ; void WriteByteToChip(char c){
                     366   _WriteByteToChip:
0800027A  4E56 0000  367          link      A6,#0
                     368   ; printf("Writing Byte to EEPROM\r\n");
0800027E  4879 0800  369          pea       @m68kus~1_8.L
08000282  1FAE      
08000284  4EB9 0800  370          jsr       _printf
08000288  13E6      
0800028A  584F       371          addq.w    #4,A7
                     372   ; initiateWriteSequence(0x1F000);
0800028C  4879 0001  373          pea       126976
08000290  F000      
08000292  4EB9 0800  374          jsr       _initiateWriteSequence
08000296  02DA      
08000298  584F       375          addq.w    #4,A7
                     376   ; TXR = c;            // send 1 byte of data
0800029A  13EE 000B  377          move.b    11(A6),4227078
0800029E  0040 8006 
                     378   ; CR = Write;
080002A2  13FC 0010  379          move.b    #16,4227080
080002A6  0040 8008 
                     380   ; WaitForTXByte();
080002AA  4EB9 0800  381          jsr       _WaitForTXByte
080002AE  078C      
                     382   ; if(!CheckForACK())
080002B0  4EB9 0800  383          jsr       _CheckForACK
080002B4  07B2      
080002B6  4A80       384          tst.l     D0
080002B8  660E       385          bne.s     WriteByteToChip_1
                     386   ; printf("No ACK returned\r\n");
080002BA  4879 0800  387          pea       @m68kus~1_9.L
080002BE  1FC8      
080002C0  4EB9 0800  388          jsr       _printf
080002C4  13E6      
080002C6  584F       389          addq.w    #4,A7
                     390   WriteByteToChip_1:
                     391   ; CR = stop;
080002C8  13FC 0040  392          move.b    #64,4227080
080002CC  0040 8008 
                     393   ; WaitForWriteCycle();
080002D0  4EB9 0800  394          jsr       _WaitForWriteCycle
080002D4  0392      
080002D6  4E5E       395          unlk      A6
080002D8  4E75       396          rts
                     397   ; }
                     398   ; /*********************************************************************************************
                     399   ; **  Write Page to EEPROM Chip
                     400   ; *********************************************************************************************/
                     401   ; void initiateWriteSequence(long address){
                     402   _initiateWriteSequence:
080002DA  4E56 FFFC  403          link      A6,#-4
080002DE  48E7 2038  404          movem.l   D2/A2/A3/A4,-(A7)
080002E2  45F9 0800  405          lea       _WaitForTXByte.L,A2
080002E6  078C      
080002E8  47F9 0800  406          lea       _printf.L,A3
080002EC  13E6      
080002EE  49F9 0800  407          lea       _CheckForACK.L,A4
080002F2  07B2      
080002F4  242E 0008  408          move.l    8(A6),D2
                     409   ; unsigned char writeControlByte = 0, unusedControlByte = 0;
080002F8  422E FFFE  410          clr.b     -2(A6)
080002FC  422E FFFF  411          clr.b     -1(A6)
                     412   ; BlockDecode(&writeControlByte, &unusedControlByte, address);
08000300  2F02       413          move.l    D2,-(A7)
08000302  486E FFFF  414          pea       -1(A6)
08000306  486E FFFE  415          pea       -2(A6)
0800030A  4EB9 0800  416          jsr       _BlockDecode
0800030E  0756      
08000310  DEFC 000C  417          add.w     #12,A7
                     418   ; // Ensure TX is ready before sending control byte
                     419   ; WaitForTXByte();
08000314  4E92       420          jsr       (A2)
                     421   ; TXR = writeControlByte;     // Write Control Byte (1010 0000)
08000316  13EE FFFE  422          move.b    -2(A6),4227078
0800031A  0040 8006 
                     423   ; CR = startWrite;            // Set STA bit, set WR bit
0800031E  13FC 0090  424          move.b    #144,4227080
08000322  0040 8008 
                     425   ; WaitForTXByte();
08000326  4E92       426          jsr       (A2)
                     427   ; if(!CheckForACK())
08000328  4E94       428          jsr       (A4)
0800032A  4A80       429          tst.l     D0
0800032C  660A       430          bne.s     initiateWriteSequence_1
                     431   ; printf("No ACK returned\r\n");
0800032E  4879 0800  432          pea       @m68kus~1_9.L
08000332  1FC8      
08000334  4E93       433          jsr       (A3)
08000336  584F       434          addq.w    #4,A7
                     435   initiateWriteSequence_1:
                     436   ; TXR = (address >> 8) & 0xFF;    // Address Byte 1
08000338  2002       437          move.l    D2,D0
0800033A  E080       438          asr.l     #8,D0
0800033C  C0BC 0000  439          and.l     #255,D0
08000340  00FF      
08000342  13C0 0040  440          move.b    D0,4227078
08000346  8006      
                     441   ; CR = Write;                 // Set WR bit
08000348  13FC 0010  442          move.b    #16,4227080
0800034C  0040 8008 
                     443   ; WaitForTXByte();
08000350  4E92       444          jsr       (A2)
                     445   ; if(!CheckForACK())
08000352  4E94       446          jsr       (A4)
08000354  4A80       447          tst.l     D0
08000356  660A       448          bne.s     initiateWriteSequence_3
                     449   ; printf("No ACK returned\r\n");
08000358  4879 0800  450          pea       @m68kus~1_9.L
0800035C  1FC8      
0800035E  4E93       451          jsr       (A3)
08000360  584F       452          addq.w    #4,A7
                     453   initiateWriteSequence_3:
                     454   ; TXR = address & 0xFF;       // Address Byte 2
08000362  2002       455          move.l    D2,D0
08000364  C0BC 0000  456          and.l     #255,D0
08000368  00FF      
0800036A  13C0 0040  457          move.b    D0,4227078
0800036E  8006      
                     458   ; CR = Write;                 // Set WR bit
08000370  13FC 0010  459          move.b    #16,4227080
08000374  0040 8008 
                     460   ; WaitForTXByte();
08000378  4E92       461          jsr       (A2)
                     462   ; if(!CheckForACK())
0800037A  4E94       463          jsr       (A4)
0800037C  4A80       464          tst.l     D0
0800037E  660A       465          bne.s     initiateWriteSequence_5
                     466   ; printf("No ACK returned\r\n");
08000380  4879 0800  467          pea       @m68kus~1_9.L
08000384  1FC8      
08000386  4E93       468          jsr       (A3)
08000388  584F       469          addq.w    #4,A7
                     470   initiateWriteSequence_5:
                     471   ; return;
0800038A  4CDF 1C04  472          movem.l   (A7)+,D2/A2/A3/A4
0800038E  4E5E       473          unlk      A6
08000390  4E75       474          rts
                     475   ; }
                     476   ; /*********************************************************************************************
                     477   ; ** Wait For EEPROM to complete internal Write Cycle
                     478   ; *********************************************************************************************/
                     479   ; void WaitForWriteCycle(void){
                     480   _WaitForWriteCycle:
                     481   ; do
                     482   ; {
                     483   WaitForWriteCycle_1:
                     484   ; TXR = 0xA0; // Write Control Byte (1010 0000)
08000392  13FC 00A0  485          move.b    #160,4227078
08000396  0040 8006 
                     486   ; CR = start;
0800039A  13FC 0080  487          move.b    #128,4227080
0800039E  0040 8008 
                     488   ; printf("Waiting for Internal Write!\r\n");
080003A2  4879 0800  489          pea       @m68kus~1_10.L
080003A6  1FDA      
080003A8  4EB9 0800  490          jsr       _printf
080003AC  13E6      
080003AE  584F       491          addq.w    #4,A7
080003B0  41F9 0800  492          lea       _CheckForACK.L,A0
080003B4  07B2      
080003B6  2008       493          move.l    A0,D0
080003B8  67D8       494          beq       WaitForWriteCycle_1
                     495   ; } while (!CheckForACK);
                     496   ; printf("Internal Write Complete!\r\n");
080003BA  4879 0800  497          pea       @m68kus~1_11.L
080003BE  1FF8      
080003C0  4EB9 0800  498          jsr       _printf
080003C4  13E6      
080003C6  584F       499          addq.w    #4,A7
                     500   ; return;
080003C8  4E75       501          rts
                     502   ; }
                     503   ; /*********************************************************************************************
                     504   ; **  Read Block from EEPROM flash
                     505   ; *********************************************************************************************/
                     506   ; void SequentialBlockRead(long address, long sizeOfBlock, char expectedByte){
                     507   _SequentialBlockRead:
080003CA  4E56 0000  508          link      A6,#0
080003CE  48E7 3820  509          movem.l   D2/D3/D4/A2,-(A7)
080003D2  45F9 0800  510          lea       _printf.L,A2
080003D6  13E6      
080003D8  282E 0008  511          move.l    8(A6),D4
                     512   ; long endAddress = (address + sizeOfBlock) - 1;
080003DC  2004       513          move.l    D4,D0
080003DE  D0AE 000C  514          add.l     12(A6),D0
080003E2  5380       515          subq.l    #1,D0
080003E4  2400       516          move.l    D0,D2
                     517   ; long overflowEndAddress = 0;
080003E6  4283       518          clr.l     D3
                     519   ; // Safety check
                     520   ; if (sizeOfBlock > 0x1FFFF){
080003E8  202E 000C  521          move.l    12(A6),D0
080003EC  0C80 0001  522          cmp.l     #131071,D0
080003F0  FFFF      
080003F2  6F0E       523          ble.s     SequentialBlockRead_1
                     524   ; printf("SequentialBlockRead: Size of Input Data Block cannot exceed 128kBytes\r\n");
080003F4  4879 0800  525          pea       @m68kus~1_12.L
080003F8  2014      
080003FA  4E92       526          jsr       (A2)
080003FC  584F       527          addq.w    #4,A7
                     528   ; return;
080003FE  6000 00B0  529          bra       SequentialBlockRead_3
                     530   SequentialBlockRead_1:
                     531   ; }
                     532   ; if (address > 0x1FFFF){
08000402  0C84 0001  533          cmp.l     #131071,D4
08000406  FFFF      
08000408  6F0E       534          ble.s     SequentialBlockRead_4
                     535   ; printf("SequentialBlockRead: Entered Address Out of Range\r\n");
0800040A  4879 0800  536          pea       @m68kus~1_13.L
0800040E  205C      
08000410  4E92       537          jsr       (A2)
08000412  584F       538          addq.w    #4,A7
                     539   ; return;
08000414  6000 009A  540          bra       SequentialBlockRead_3
                     541   SequentialBlockRead_4:
                     542   ; }
                     543   ; // Wrap-Around check
                     544   ; if (endAddress > 0x1FFFF){
08000418  0C82 0001  545          cmp.l     #131071,D2
0800041C  FFFF      
0800041E  6F10       546          ble.s     SequentialBlockRead_6
                     547   ; overflowEndAddress = endAddress - 0x20000;
08000420  2002       548          move.l    D2,D0
08000422  0480 0002  549          sub.l     #131072,D0
08000426  0000      
08000428  2600       550          move.l    D0,D3
                     551   ; endAddress = 0x1FFFF;
0800042A  243C 0001  552          move.l    #131071,D2
0800042E  FFFF      
                     553   SequentialBlockRead_6:
                     554   ; }
                     555   ; printf("Starting Sequential Block Read...\r\n");
08000430  4879 0800  556          pea       @m68kus~1_14.L
08000434  2090      
08000436  4E92       557          jsr       (A2)
08000438  584F       558          addq.w    #4,A7
                     559   ; initiateReadSequence(address);
0800043A  2F04       560          move.l    D4,-(A7)
0800043C  4EB9 0800  561          jsr       _initiateReadSequence
08000440  067C      
08000442  584F       562          addq.w    #4,A7
                     563   ; if(!utilSequentialBlockRead(address, endAddress, expectedByte)){
08000444  122E 0013  564          move.b    19(A6),D1
08000448  4881       565          ext.w     D1
0800044A  48C1       566          ext.l     D1
0800044C  2F01       567          move.l    D1,-(A7)
0800044E  2F02       568          move.l    D2,-(A7)
08000450  2F04       569          move.l    D4,-(A7)
08000452  4EB9 0800  570          jsr       _utilSequentialBlockRead
08000456  04B8      
08000458  DEFC 000C  571          add.w     #12,A7
0800045C  4A80       572          tst.l     D0
0800045E  660E       573          bne.s     SequentialBlockRead_8
                     574   ; printf("Sequential Block Read Failed!\r\n");
08000460  4879 0800  575          pea       @m68kus~1_15.L
08000464  20B4      
08000466  4E92       576          jsr       (A2)
08000468  584F       577          addq.w    #4,A7
                     578   ; return;
0800046A  6000 0044  579          bra       SequentialBlockRead_3
                     580   SequentialBlockRead_8:
                     581   ; }
                     582   ; if (overflowEndAddress){
0800046E  4A83       583          tst.l     D3
08000470  6700 0034  584          beq       SequentialBlockRead_12
                     585   ; initiateReadSequence(0x00000);
08000474  42A7       586          clr.l     -(A7)
08000476  4EB9 0800  587          jsr       _initiateReadSequence
0800047A  067C      
0800047C  584F       588          addq.w    #4,A7
                     589   ; if(!utilSequentialBlockRead(0x00000, overflowEndAddress, expectedByte)){
0800047E  122E 0013  590          move.b    19(A6),D1
08000482  4881       591          ext.w     D1
08000484  48C1       592          ext.l     D1
08000486  2F01       593          move.l    D1,-(A7)
08000488  2F03       594          move.l    D3,-(A7)
0800048A  42A7       595          clr.l     -(A7)
0800048C  4EB9 0800  596          jsr       _utilSequentialBlockRead
08000490  04B8      
08000492  DEFC 000C  597          add.w     #12,A7
08000496  4A80       598          tst.l     D0
08000498  660C       599          bne.s     SequentialBlockRead_12
                     600   ; printf("Sequential Block Read Failed!\r\n");
0800049A  4879 0800  601          pea       @m68kus~1_15.L
0800049E  20B4      
080004A0  4E92       602          jsr       (A2)
080004A2  584F       603          addq.w    #4,A7
                     604   ; return;
080004A4  600A       605          bra.s     SequentialBlockRead_3
                     606   SequentialBlockRead_12:
                     607   ; }
                     608   ; }
                     609   ; printf("Sequential Block Read successful!\r\n");
080004A6  4879 0800  610          pea       @m68kus~1_16.L
080004AA  20D4      
080004AC  4E92       611          jsr       (A2)
080004AE  584F       612          addq.w    #4,A7
                     613   SequentialBlockRead_3:
080004B0  4CDF 041C  614          movem.l   (A7)+,D2/D3/D4/A2
080004B4  4E5E       615          unlk      A6
080004B6  4E75       616          rts
                     617   ; }
                     618   ; int utilSequentialBlockRead(long utilAddress, long utilEndAddress, char expectedByte){
                     619   _utilSequentialBlockRead:
080004B8  4E56 FFFC  620          link      A6,#-4
080004BC  48E7 3000  621          movem.l   D2/D3,-(A7)
080004C0  242E 0008  622          move.l    8(A6),D2
080004C4  262E 000C  623          move.l    12(A6),D3
                     624   ; char receivedByte;
                     625   ; while (utilAddress <= utilEndAddress){
                     626   utilSequentialBlockRead_1:
080004C8  B483       627          cmp.l     D3,D2
080004CA  6E00 009E  628          bgt       utilSequentialBlockRead_3
                     629   ; if (utilAddress == utilEndAddress || utilAddress == 0x0FFFF)
080004CE  B483       630          cmp.l     D3,D2
080004D0  6708       631          beq.s     utilSequentialBlockRead_6
080004D2  0C82 0000  632          cmp.l     #65535,D2
080004D6  FFFF      
080004D8  660A       633          bne.s     utilSequentialBlockRead_4
                     634   utilSequentialBlockRead_6:
                     635   ; CR = ReadNACKIACK;
080004DA  13FC 0029  636          move.b    #41,4227080
080004DE  0040 8008 
080004E2  6008       637          bra.s     utilSequentialBlockRead_5
                     638   utilSequentialBlockRead_4:
                     639   ; else CR = ReadIACK;
080004E4  13FC 0021  640          move.b    #33,4227080
080004E8  0040 8008 
                     641   utilSequentialBlockRead_5:
                     642   ; WaitForReceivedByte();
080004EC  4EB9 0800  643          jsr       _WaitForReceivedByte
080004F0  07A2      
                     644   ; receivedByte = RXR;
080004F2  1D79 0040  645          move.b    4227078,-1(A6)
080004F6  8006 FFFF 
                     646   ; if ((utilAddress != utilEndAddress && utilAddress != 0xFFFF) && !CheckForACK())
080004FA  B483       647          cmp.l     D3,D2
080004FC  6722       648          beq.s     utilSequentialBlockRead_7
080004FE  0C82 0000  649          cmp.l     #65535,D2
08000502  FFFF      
08000504  671A       650          beq.s     utilSequentialBlockRead_7
08000506  4EB9 0800  651          jsr       _CheckForACK
0800050A  07B2      
0800050C  4A80       652          tst.l     D0
0800050E  6610       653          bne.s     utilSequentialBlockRead_7
                     654   ; printf("No ACK returned for read at address: 0x%X\r\n", utilAddress);
08000510  2F02       655          move.l    D2,-(A7)
08000512  4879 0800  656          pea       @m68kus~1_17.L
08000516  20F8      
08000518  4EB9 0800  657          jsr       _printf
0800051C  13E6      
0800051E  504F       658          addq.w    #8,A7
                     659   utilSequentialBlockRead_7:
                     660   ; if (receivedByte != expectedByte){
08000520  102E FFFF  661          move.b    -1(A6),D0
08000524  B02E 0013  662          cmp.b     19(A6),D0
08000528  671C       663          beq.s     utilSequentialBlockRead_9
                     664   ; printf("Sequential Read Error at address: 0x%X\r\n", utilAddress);
0800052A  2F02       665          move.l    D2,-(A7)
0800052C  4879 0800  666          pea       @m68kus~1_18.L
08000530  2124      
08000532  4EB9 0800  667          jsr       _printf
08000536  13E6      
08000538  504F       668          addq.w    #8,A7
                     669   ; CR = stop;
0800053A  13FC 0040  670          move.b    #64,4227080
0800053E  0040 8008 
                     671   ; return 0;
08000542  4280       672          clr.l     D0
08000544  602E       673          bra.s     utilSequentialBlockRead_11
                     674   utilSequentialBlockRead_9:
                     675   ; }
                     676   ; if (utilAddress == 0x0FFFF){ // Stop and Start Read from 2nd bank
08000546  0C82 0000  677          cmp.l     #65535,D2
0800054A  FFFF      
0800054C  6616       678          bne.s     utilSequentialBlockRead_12
                     679   ; CR = stop;
0800054E  13FC 0040  680          move.b    #64,4227080
08000552  0040 8008 
                     681   ; initiateReadSequence(utilAddress+1);
08000556  2202       682          move.l    D2,D1
08000558  5281       683          addq.l    #1,D1
0800055A  2F01       684          move.l    D1,-(A7)
0800055C  4EB9 0800  685          jsr       _initiateReadSequence
08000560  067C      
08000562  584F       686          addq.w    #4,A7
                     687   utilSequentialBlockRead_12:
                     688   ; }
                     689   ; utilAddress ++;
08000564  5282       690          addq.l    #1,D2
08000566  6000 FF60  691          bra       utilSequentialBlockRead_1
                     692   utilSequentialBlockRead_3:
                     693   ; }
                     694   ; CR = stop;
0800056A  13FC 0040  695          move.b    #64,4227080
0800056E  0040 8008 
                     696   ; return 1;
08000572  7001       697          moveq     #1,D0
                     698   utilSequentialBlockRead_11:
08000574  4CDF 000C  699          movem.l   (A7)+,D2/D3
08000578  4E5E       700          unlk      A6
0800057A  4E75       701          rts
                     702   ; }
                     703   ; /*********************************************************************************************
                     704   ; **  Read Page from EEPROM flash
                     705   ; *********************************************************************************************/
                     706   ; void ReadPageFromChip(void){
                     707   _ReadPageFromChip:
0800057C  4E56 FFFC  708          link      A6,#-4
08000580  48E7 2020  709          movem.l   D2/A2,-(A7)
08000584  45F9 0800  710          lea       _printf.L,A2
08000588  13E6      
                     711   ; int i = 0;
0800058A  4282       712          clr.l     D2
                     713   ; char receivedByte;
                     714   ; printf("Reading Page from EEPROM \r\n");
0800058C  4879 0800  715          pea       @m68kus~1_19.L
08000590  214E      
08000592  4E92       716          jsr       (A2)
08000594  584F       717          addq.w    #4,A7
                     718   ; initiateReadSequence(0x12000);
08000596  4879 0001  719          pea       73728
0800059A  2000      
0800059C  4EB9 0800  720          jsr       _initiateReadSequence
080005A0  067C      
080005A2  584F       721          addq.w    #4,A7
                     722   ; for (i=0; i<128; i++){
080005A4  4282       723          clr.l     D2
                     724   ReadPageFromChip_1:
080005A6  0C82 0000  725          cmp.l     #128,D2
080005AA  0080      
080005AC  6C00 006E  726          bge       ReadPageFromChip_3
                     727   ; if (i != 127)
080005B0  0C82 0000  728          cmp.l     #127,D2
080005B4  007F      
080005B6  670A       729          beq.s     ReadPageFromChip_4
                     730   ; CR = ReadIACK;
080005B8  13FC 0021  731          move.b    #33,4227080
080005BC  0040 8008 
080005C0  6008       732          bra.s     ReadPageFromChip_5
                     733   ReadPageFromChip_4:
                     734   ; else  CR = ReadNACKIACK;
080005C2  13FC 0029  735          move.b    #41,4227080
080005C6  0040 8008 
                     736   ReadPageFromChip_5:
                     737   ; WaitForReceivedByte();
080005CA  4EB9 0800  738          jsr       _WaitForReceivedByte
080005CE  07A2      
                     739   ; receivedByte = RXR;
080005D0  1D79 0040  740          move.b    4227078,-1(A6)
080005D4  8006 FFFF 
                     741   ; if (i != 127 && !CheckForACK())
080005D8  0C82 0000  742          cmp.l     #127,D2
080005DC  007F      
080005DE  6716       743          beq.s     ReadPageFromChip_6
080005E0  4EB9 0800  744          jsr       _CheckForACK
080005E4  07B2      
080005E6  4A80       745          tst.l     D0
080005E8  660C       746          bne.s     ReadPageFromChip_6
                     747   ; printf("No ACK returned for byte #%d\r\n", i);
080005EA  2F02       748          move.l    D2,-(A7)
080005EC  4879 0800  749          pea       @m68kus~1_7.L
080005F0  1F8E      
080005F2  4E92       750          jsr       (A2)
080005F4  504F       751          addq.w    #8,A7
                     752   ReadPageFromChip_6:
                     753   ; if (receivedByte != i){
080005F6  102E FFFF  754          move.b    -1(A6),D0
080005FA  4880       755          ext.w     D0
080005FC  48C0       756          ext.l     D0
080005FE  B082       757          cmp.l     D2,D0
08000600  6716       758          beq.s     ReadPageFromChip_8
                     759   ; printf("Page Read Failed at Byte #%d\r\n", i);
08000602  2F02       760          move.l    D2,-(A7)
08000604  4879 0800  761          pea       @m68kus~1_20.L
08000608  216A      
0800060A  4E92       762          jsr       (A2)
0800060C  504F       763          addq.w    #8,A7
                     764   ; CR = stop;
0800060E  13FC 0040  765          move.b    #64,4227080
08000612  0040 8008 
                     766   ; return;
08000616  6016       767          bra.s     ReadPageFromChip_10
                     768   ReadPageFromChip_8:
08000618  5282       769          addq.l    #1,D2
0800061A  608A       770          bra       ReadPageFromChip_1
                     771   ReadPageFromChip_3:
                     772   ; }
                     773   ; }
                     774   ; CR = stop;
0800061C  13FC 0040  775          move.b    #64,4227080
08000620  0040 8008 
                     776   ; printf("Page Read Successful\r\n");
08000624  4879 0800  777          pea       @m68kus~1_21.L
08000628  218A      
0800062A  4E92       778          jsr       (A2)
0800062C  584F       779          addq.w    #4,A7
                     780   ReadPageFromChip_10:
0800062E  4CDF 0404  781          movem.l   (A7)+,D2/A2
08000632  4E5E       782          unlk      A6
08000634  4E75       783          rts
                     784   ; }
                     785   ; /*********************************************************************************************
                     786   ; **  Read Byte from EEPROM flash
                     787   ; *********************************************************************************************/
                     788   ; char ReadByteFromChip(void){
                     789   _ReadByteFromChip:
08000636  4E56 FFFC  790          link      A6,#-4
                     791   ; char receivedByte;
                     792   ; printf("Reading Byte from EEPROM \r\n");
0800063A  4879 0800  793          pea       @m68kus~1_22.L
0800063E  21A2      
08000640  4EB9 0800  794          jsr       _printf
08000644  13E6      
08000646  584F       795          addq.w    #4,A7
                     796   ; initiateReadSequence(0x1F000);
08000648  4879 0001  797          pea       126976
0800064C  F000      
0800064E  4EB9 0800  798          jsr       _initiateReadSequence
08000652  067C      
08000654  584F       799          addq.w    #4,A7
                     800   ; CR = ReadNACKIACK;
08000656  13FC 0029  801          move.b    #41,4227080
0800065A  0040 8008 
                     802   ; WaitForReceivedByte();
0800065E  4EB9 0800  803          jsr       _WaitForReceivedByte
08000662  07A2      
                     804   ; receivedByte = RXR;
08000664  1D79 0040  805          move.b    4227078,-1(A6)
08000668  8006 FFFF 
                     806   ; CR = stop;
0800066C  13FC 0040  807          move.b    #64,4227080
08000670  0040 8008 
                     808   ; return receivedByte;
08000674  102E FFFF  809          move.b    -1(A6),D0
08000678  4E5E       810          unlk      A6
0800067A  4E75       811          rts
                     812   ; }
                     813   ; /*********************************************************************************************
                     814   ; **  Initiate Read Command to EEPROM
                     815   ; *********************************************************************************************/
                     816   ; void initiateReadSequence(long address){
                     817   _initiateReadSequence:
0800067C  4E56 FFFC  818          link      A6,#-4
08000680  48E7 2038  819          movem.l   D2/A2/A3/A4,-(A7)
08000684  45F9 0800  820          lea       _WaitForTXByte.L,A2
08000688  078C      
0800068A  47F9 0800  821          lea       _printf.L,A3
0800068E  13E6      
08000690  49F9 0800  822          lea       _CheckForACK.L,A4
08000694  07B2      
08000696  242E 0008  823          move.l    8(A6),D2
                     824   ; unsigned char writeControlByte = 0, readControlByte = 0;
0800069A  422E FFFE  825          clr.b     -2(A6)
0800069E  422E FFFF  826          clr.b     -1(A6)
                     827   ; // Decode Address to determine bank
                     828   ; BlockDecode(&writeControlByte, &readControlByte, address);
080006A2  2F02       829          move.l    D2,-(A7)
080006A4  486E FFFF  830          pea       -1(A6)
080006A8  486E FFFE  831          pea       -2(A6)
080006AC  4EB9 0800  832          jsr       _BlockDecode
080006B0  0756      
080006B2  DEFC 000C  833          add.w     #12,A7
                     834   ; // Ensure TX is ready before transmission
                     835   ; WaitForTXByte();
080006B6  4E92       836          jsr       (A2)
                     837   ; TXR = writeControlByte;         // Write Control Byte
080006B8  13EE FFFE  838          move.b    -2(A6),4227078
080006BC  0040 8006 
                     839   ; CR = startWrite;                // set STA bit
080006C0  13FC 0090  840          move.b    #144,4227080
080006C4  0040 8008 
                     841   ; WaitForTXByte();
080006C8  4E92       842          jsr       (A2)
                     843   ; if(!CheckForACK())
080006CA  4E94       844          jsr       (A4)
080006CC  4A80       845          tst.l     D0
080006CE  660A       846          bne.s     initiateReadSequence_1
                     847   ; printf("No ACK returned\r\n");
080006D0  4879 0800  848          pea       @m68kus~1_9.L
080006D4  1FC8      
080006D6  4E93       849          jsr       (A3)
080006D8  584F       850          addq.w    #4,A7
                     851   initiateReadSequence_1:
                     852   ; TXR = (address >> 8) & 0xFF;    // Address Byte 1
080006DA  2002       853          move.l    D2,D0
080006DC  E080       854          asr.l     #8,D0
080006DE  C0BC 0000  855          and.l     #255,D0
080006E2  00FF      
080006E4  13C0 0040  856          move.b    D0,4227078
080006E8  8006      
                     857   ; CR = Write;                     // set WR bit
080006EA  13FC 0010  858          move.b    #16,4227080
080006EE  0040 8008 
                     859   ; WaitForTXByte();
080006F2  4E92       860          jsr       (A2)
                     861   ; if(!CheckForACK())
080006F4  4E94       862          jsr       (A4)
080006F6  4A80       863          tst.l     D0
080006F8  660A       864          bne.s     initiateReadSequence_3
                     865   ; printf("No ACK returned\r\n");
080006FA  4879 0800  866          pea       @m68kus~1_9.L
080006FE  1FC8      
08000700  4E93       867          jsr       (A3)
08000702  584F       868          addq.w    #4,A7
                     869   initiateReadSequence_3:
                     870   ; TXR = address & 0xFF;           // Address Byte 2
08000704  2002       871          move.l    D2,D0
08000706  C0BC 0000  872          and.l     #255,D0
0800070A  00FF      
0800070C  13C0 0040  873          move.b    D0,4227078
08000710  8006      
                     874   ; CR = Write;                     // set WR bit
08000712  13FC 0010  875          move.b    #16,4227080
08000716  0040 8008 
                     876   ; WaitForTXByte();
0800071A  4E92       877          jsr       (A2)
                     878   ; if(!CheckForACK())
0800071C  4E94       879          jsr       (A4)
0800071E  4A80       880          tst.l     D0
08000720  660A       881          bne.s     initiateReadSequence_5
                     882   ; printf("No ACK returned\r\n");
08000722  4879 0800  883          pea       @m68kus~1_9.L
08000726  1FC8      
08000728  4E93       884          jsr       (A3)
0800072A  584F       885          addq.w    #4,A7
                     886   initiateReadSequence_5:
                     887   ; TXR = readControlByte;          // Read Control Byte
0800072C  13EE FFFF  888          move.b    -1(A6),4227078
08000730  0040 8006 
                     889   ; CR = startWrite;                // Set STA bit, WR bit
08000734  13FC 0090  890          move.b    #144,4227080
08000738  0040 8008 
                     891   ; WaitForTXByte();
0800073C  4E92       892          jsr       (A2)
                     893   ; if(!CheckForACK())
0800073E  4E94       894          jsr       (A4)
08000740  4A80       895          tst.l     D0
08000742  660A       896          bne.s     initiateReadSequence_7
                     897   ; printf("No ACK returned\r\n");
08000744  4879 0800  898          pea       @m68kus~1_9.L
08000748  1FC8      
0800074A  4E93       899          jsr       (A3)
0800074C  584F       900          addq.w    #4,A7
                     901   initiateReadSequence_7:
0800074E  4CDF 1C04  902          movem.l   (A7)+,D2/A2/A3/A4
08000752  4E5E       903          unlk      A6
08000754  4E75       904          rts
                     905   ; }
                     906   ; /*********************************************************************************************
                     907   ; **  Decode Bank from address
                     908   ; *********************************************************************************************/
                     909   ; void BlockDecode(char * writeControlByte, char * readControlByte, long address){
                     910   _BlockDecode:
08000756  4E56 FFFC  911          link      A6,#-4
                     912   ; char bank;
                     913   ; // Block Decoder
                     914   ; if (address < 0x10000){
0800075A  202E 0010  915          move.l    16(A6),D0
0800075E  0C80 0001  916          cmp.l     #65536,D0
08000762  0000      
08000764  6C12       917          bge.s     BlockDecode_1
                     918   ; *writeControlByte = 0xA0;
08000766  206E 0008  919          move.l    8(A6),A0
0800076A  10BC 00A0  920          move.b    #160,(A0)
                     921   ; *readControlByte = 0xA1;
0800076E  206E 000C  922          move.l    12(A6),A0
08000772  10BC 00A1  923          move.b    #161,(A0)
08000776  6010       924          bra.s     BlockDecode_2
                     925   BlockDecode_1:
                     926   ; }
                     927   ; else {
                     928   ; *writeControlByte = 0xA8;
08000778  206E 0008  929          move.l    8(A6),A0
0800077C  10BC 00A8  930          move.b    #168,(A0)
                     931   ; *readControlByte = 0xA9;
08000780  206E 000C  932          move.l    12(A6),A0
08000784  10BC 00A9  933          move.b    #169,(A0)
                     934   BlockDecode_2:
08000788  4E5E       935          unlk      A6
0800078A  4E75       936          rts
                     937   ; }
                     938   ; }
                     939   ; /*********************************************************************************************
                     940   ; ** Probe SR register to check if TIP bit is clear
                     941   ; *********************************************************************************************/
                     942   ; void WaitForTXByte(void){
                     943   _WaitForTXByte:
                     944   ; while ((SR & 0x02) >> 1 == 1);
                     945   WaitForTXByte_1:
0800078C  1039 0040  946          move.b    4227080,D0
08000790  8008      
08000792  C03C 0002  947          and.b     #2,D0
08000796  E208       948          lsr.b     #1,D0
08000798  0C00 0001  949          cmp.b     #1,D0
0800079C  6602       950          bne.s     WaitForTXByte_3
0800079E  60EC       951          bra       WaitForTXByte_1
                     952   WaitForTXByte_3:
080007A0  4E75       953          rts
                     954   ; }
                     955   ; /*********************************************************************************************
                     956   ; ** Probe RX register to check if it has received data from slave
                     957   ; *********************************************************************************************/
                     958   ; void WaitForReceivedByte(void){
                     959   _WaitForReceivedByte:
                     960   ; while ((SR & 0x01) == 0);
                     961   WaitForReceivedByte_1:
080007A2  1039 0040  962          move.b    4227080,D0
080007A6  8008      
080007A8  C03C 0001  963          and.b     #1,D0
080007AC  6602       964          bne.s     WaitForReceivedByte_3
080007AE  60F2       965          bra       WaitForReceivedByte_1
                     966   WaitForReceivedByte_3:
080007B0  4E75       967          rts
                     968   ; }
                     969   ; /*********************************************************************************************
                     970   ; ** Probe Status Register to check if slave has ACKed
                     971   ; Returns 0 of not ACKed and 1 if ACKed
                     972   ; *********************************************************************************************/
                     973   ; int CheckForACK(void){
                     974   _CheckForACK:
                     975   ; if ((SR & 0x80)>> 7 == 1)
080007B2  1039 0040  976          move.b    4227080,D0
080007B6  8008      
080007B8  C07C 00FF  977          and.w     #255,D0
080007BC  C07C 0080  978          and.w     #128,D0
080007C0  EE40       979          asr.w     #7,D0
080007C2  0C40 0001  980          cmp.w     #1,D0
080007C6  6604       981          bne.s     CheckForACK_1
                     982   ; return 0;
080007C8  4280       983          clr.l     D0
080007CA  6002       984          bra.s     CheckForACK_3
                     985   CheckForACK_1:
                     986   ; else return 1;
080007CC  7001       987          moveq     #1,D0
                     988   CheckForACK_3:
080007CE  4E75       989          rts
                     990   ; }
                     991   ; /*********************************************************************************************
                     992   ; ** Initialize IIC Communication
                     993   ; *********************************************************************************************/
                     994   ; void IIC_Init(void){
                     995   _IIC_Init:
                     996   ; // Set Clock Frequency to 100kHz as per page 7 of in IIC controller Document
                     997   ; CTR = 0x00; // Clear EN bit to set clock value first
080007D0  4239 0040  998          clr.b     4227076
080007D4  8004      
                     999   ; PRERlo = 0x31;
080007D6  13FC 0031 1000          move.b    #49,4227072
080007DA  0040 8000 
                    1001   ; PRERhi = 0x00;
080007DE  4239 0040 1002          clr.b     4227074
080007E2  8002      
                    1003   ; // Enable EN bit (core is disable) & Disable IEN bit (interrupts disable)
                    1004   ; CTR = 0x80;
080007E4  13FC 0080 1005          move.b    #128,4227076
080007E8  0040 8004 
080007EC  4E75      1006          rts
                    1007   ; }
                    1008   ; /*********************************************************************************************
                    1009   ; ** Generate ADC Output
                    1010   ; *********************************************************************************************/
                    1011   ; void GenerateADCOutput(void){
                    1012   _GenerateADCOutput:
080007EE  48E7 2038 1013          movem.l   D2/A2/A3/A4,-(A7)
080007F2  45F9 0800 1014          lea       _WaitForTXByte.L,A2
080007F6  078C      
080007F8  47F9 0800 1015          lea       _printf.L,A3
080007FC  13E6      
080007FE  49F9 0800 1016          lea       _CheckForACK.L,A4
08000802  07B2      
                    1017   ; char i=0;
08000804  4202      1018          clr.b     D2
                    1019   ; printf("Writing continuous data to ADC\r\n");
08000806  4879 0800 1020          pea       @m68kus~1_23.L
0800080A  21BE      
0800080C  4E93      1021          jsr       (A3)
0800080E  584F      1022          addq.w    #4,A7
                    1023   ; // Ensure TX is ready before sending control byte
                    1024   ; WaitForTXByte();
08000810  4E92      1025          jsr       (A2)
                    1026   ; TXR = 0x9E;         //AddresByte
08000812  13FC 009E 1027          move.b    #158,4227078
08000816  0040 8006 
                    1028   ; CR = startWrite;    // Set STA bit, set WR bit
0800081A  13FC 0090 1029          move.b    #144,4227080
0800081E  0040 8008 
                    1030   ; WaitForTXByte();
08000822  4E92      1031          jsr       (A2)
                    1032   ; if(!CheckForACK())
08000824  4E94      1033          jsr       (A4)
08000826  4A80      1034          tst.l     D0
08000828  660A      1035          bne.s     GenerateADCOutput_1
                    1036   ; printf("no ACK returned");
0800082A  4879 0800 1037          pea       @m68kus~1_24.L
0800082E  21E0      
08000830  4E93      1038          jsr       (A3)
08000832  584F      1039          addq.w    #4,A7
                    1040   GenerateADCOutput_1:
                    1041   ; TXR = 0x60;         // ControlByte
08000834  13FC 0060 1042          move.b    #96,4227078
08000838  0040 8006 
                    1043   ; CR = Write;         // Set WR bit
0800083C  13FC 0010 1044          move.b    #16,4227080
08000840  0040 8008 
                    1045   ; WaitForTXByte();
08000844  4E92      1046          jsr       (A2)
                    1047   ; if(!CheckForACK())
08000846  4E94      1048          jsr       (A4)
08000848  4A80      1049          tst.l     D0
0800084A  660A      1050          bne.s     GenerateADCOutput_3
                    1051   ; printf("no ACK returned");
0800084C  4879 0800 1052          pea       @m68kus~1_24.L
08000850  21E0      
08000852  4E93      1053          jsr       (A3)
08000854  584F      1054          addq.w    #4,A7
                    1055   GenerateADCOutput_3:
                    1056   ; while(1)
                    1057   GenerateADCOutput_5:
                    1058   ; {
                    1059   ; if(i==0)
08000856  4A02      1060          tst.b     D2
08000858  6626      1061          bne.s     GenerateADCOutput_8
                    1062   ; {            
                    1063   ; TXR = i;         // Send 0V
0800085A  13C2 0040 1064          move.b    D2,4227078
0800085E  8006      
                    1065   ; CR = Write;         // Set WR bit
08000860  13FC 0010 1066          move.b    #16,4227080
08000864  0040 8008 
                    1067   ; WaitForTXByte();
08000868  4E92      1068          jsr       (A2)
                    1069   ; if(!CheckForACK())
0800086A  4E94      1070          jsr       (A4)
0800086C  4A80      1071          tst.l     D0
0800086E  660A      1072          bne.s     GenerateADCOutput_10
                    1073   ; printf("no ACK returned");
08000870  4879 0800 1074          pea       @m68kus~1_24.L
08000874  21E0      
08000876  4E93      1075          jsr       (A3)
08000878  584F      1076          addq.w    #4,A7
                    1077   GenerateADCOutput_10:
                    1078   ; i=255;          //set i high 
0800087A  143C 00FF 1079          move.b    #255,D2
0800087E  6022      1080          bra.s     GenerateADCOutput_9
                    1081   GenerateADCOutput_8:
                    1082   ; }
                    1083   ; else
                    1084   ; {
                    1085   ; TXR = i;         // Send 5V
08000880  13C2 0040 1086          move.b    D2,4227078
08000884  8006      
                    1087   ; CR = Write;         // Set WR bit
08000886  13FC 0010 1088          move.b    #16,4227080
0800088A  0040 8008 
                    1089   ; WaitForTXByte();
0800088E  4E92      1090          jsr       (A2)
                    1091   ; if(!CheckForACK())
08000890  4E94      1092          jsr       (A4)
08000892  4A80      1093          tst.l     D0
08000894  660A      1094          bne.s     GenerateADCOutput_12
                    1095   ; printf("no ACK returned");
08000896  4879 0800 1096          pea       @m68kus~1_24.L
0800089A  21E0      
0800089C  4E93      1097          jsr       (A3)
0800089E  584F      1098          addq.w    #4,A7
                    1099   GenerateADCOutput_12:
                    1100   ; i=0;            //set i low
080008A0  4202      1101          clr.b     D2
                    1102   GenerateADCOutput_9:
080008A2  60B2      1103          bra       GenerateADCOutput_5
                    1104   ; }
                    1105   ; }
                    1106   ; }
                    1107   ; /*********************************************************************************************
                    1108   ; ** Digital Value of input channel
                    1109   ; *********************************************************************************************/
                    1110   ; void DValueOfAInput(void){
                    1111   _DValueOfAInput:
080008A4  4E56 FFFC 1112          link      A6,#-4
080008A8  2F0A      1113          move.l    A2,-(A7)
080008AA  45F9 0800 1114          lea       _printf.L,A2
080008AE  13E6      
                    1115   ; int DecimalRx;
                    1116   ; printf("Generating digital value for analong input on pin AIN0 \r\n");
080008B0  4879 0800 1117          pea       @m68kus~1_25.L
080008B4  21F0      
080008B6  4E92      1118          jsr       (A2)
080008B8  584F      1119          addq.w    #4,A7
                    1120   ; // Ensure TX is ready before sending control byte
                    1121   ; WaitForTXByte();
080008BA  4EB9 0800 1122          jsr       _WaitForTXByte
080008BE  078C      
                    1123   ; TXR = 0x9F;         //AddresByte
080008C0  13FC 009F 1124          move.b    #159,4227078
080008C4  0040 8006 
                    1125   ; CR = startWrite;    // Set STA bit, set WR bit
080008C8  13FC 0090 1126          move.b    #144,4227080
080008CC  0040 8008 
                    1127   ; WaitForTXByte();
080008D0  4EB9 0800 1128          jsr       _WaitForTXByte
080008D4  078C      
                    1129   ; if(!CheckForACK())
080008D6  4EB9 0800 1130          jsr       _CheckForACK
080008DA  07B2      
080008DC  4A80      1131          tst.l     D0
080008DE  660A      1132          bne.s     DValueOfAInput_1
                    1133   ; printf("no ACK returned");
080008E0  4879 0800 1134          pea       @m68kus~1_24.L
080008E4  21E0      
080008E6  4E92      1135          jsr       (A2)
080008E8  584F      1136          addq.w    #4,A7
                    1137   DValueOfAInput_1:
                    1138   ; // ControlByte
                    1139   ; CR = ReadIACK;
080008EA  13FC 0021 1140          move.b    #33,4227080
080008EE  0040 8008 
                    1141   ; WaitForReceivedByte();
080008F2  4EB9 0800 1142          jsr       _WaitForReceivedByte
080008F6  07A2      
                    1143   ; DecimalRx = (int) RXR;
080008F8  1039 0040 1144          move.b    4227078,D0
080008FC  8006      
080008FE  C0BC 0000 1145          and.l     #255,D0
08000902  00FF      
08000904  2D40 FFFC 1146          move.l    D0,-4(A6)
                    1147   ; if(DecimalRx<100)
08000908  202E FFFC 1148          move.l    -4(A6),D0
0800090C  0C80 0000 1149          cmp.l     #100,D0
08000910  0064      
08000912  6C0C      1150          bge.s     DValueOfAInput_3
                    1151   ; printf("The digital value on pin Ain0 is: 0 V \r\n");
08000914  4879 0800 1152          pea       @m68kus~1_26.L
08000918  222A      
0800091A  4E92      1153          jsr       (A2)
0800091C  584F      1154          addq.w    #4,A7
0800091E  6022      1155          bra.s     DValueOfAInput_4
                    1156   DValueOfAInput_3:
                    1157   ; else    
                    1158   ; printf("The digital value on pin Ain0 is: %d V \r\n",(RXR/46));
08000920  1239 0040 1159          move.b    4227078,D1
08000924  8006      
08000926  C2BC 0000 1160          and.l     #65535,D1
0800092A  FFFF      
0800092C  82FC 002E 1161          divu.w    #46,D1
08000930  C2BC 0000 1162          and.l     #255,D1
08000934  00FF      
08000936  2F01      1163          move.l    D1,-(A7)
08000938  4879 0800 1164          pea       @m68kus~1_27.L
0800093C  2254      
0800093E  4E92      1165          jsr       (A2)
08000940  504F      1166          addq.w    #8,A7
                    1167   DValueOfAInput_4:
                    1168   ; CR = stop;
08000942  13FC 0040 1169          move.b    #64,4227080
08000946  0040 8008 
0800094A  245F      1170          move.l    (A7)+,A2
0800094C  4E5E      1171          unlk      A6
0800094E  4E75      1172          rts
                    1173   ; }
                    1174   ; void main(void)
                    1175   ; {
                    1176   _main:
08000950  4E56 FFFC 1177          link      A6,#-4
08000954  48E7 2020 1178          movem.l   D2/A2,-(A7)
08000958  45F9 0800 1179          lea       _printf.L,A2
0800095C  13E6      
                    1180   ; char sendByte = 0x78;
0800095E  7478      1181          moveq     #120,D2
                    1182   ; char recievedByte;
                    1183   ; scanflush();     // flush any text that may have been typed ahead
08000960  4EB9 0800 1184          jsr       _scanflush
08000964  0D64      
                    1185   ; printf("\r\nHello IIC Lab\r\n\r\n");
08000966  4879 0800 1186          pea       @m68kus~1_28.L
0800096A  227E      
0800096C  4E92      1187          jsr       (A2)
0800096E  584F      1188          addq.w    #4,A7
                    1189   ; IIC_Init();
08000970  4EB9 0800 1190          jsr       _IIC_Init
08000974  07D0      
                    1191   ; SequentialBlockWrite(0x1FFF0, 0x1FFFF, sendByte);
08000976  4882      1192          ext.w     D2
08000978  48C2      1193          ext.l     D2
0800097A  2F02      1194          move.l    D2,-(A7)
0800097C  4879 0001 1195          pea       131071
08000980  FFFF      
08000982  4879 0001 1196          pea       131056
08000986  FFF0      
08000988  4EB9 0800 1197          jsr       _SequentialBlockWrite
0800098C  0098      
0800098E  DEFC 000C 1198          add.w     #12,A7
                    1199   ; SequentialBlockRead(0x1FFF0, 0x1FFFF, sendByte);
08000992  4882      1200          ext.w     D2
08000994  48C2      1201          ext.l     D2
08000996  2F02      1202          move.l    D2,-(A7)
08000998  4879 0001 1203          pea       131071
0800099C  FFFF      
0800099E  4879 0001 1204          pea       131056
080009A2  FFF0      
080009A4  4EB9 0800 1205          jsr       _SequentialBlockRead
080009A8  03CA      
080009AA  DEFC 000C 1206          add.w     #12,A7
                    1207   ; printf("\r\n");
080009AE  4879 0800 1208          pea       @m68kus~1_29.L
080009B2  2292      
080009B4  4E92      1209          jsr       (A2)
080009B6  584F      1210          addq.w    #4,A7
                    1211   ; WritePageToChip();
080009B8  4EB9 0800 1212          jsr       _WritePageToChip
080009BC  020C      
                    1213   ; ReadPageFromChip();
080009BE  4EB9 0800 1214          jsr       _ReadPageFromChip
080009C2  057C      
                    1215   ; printf("\r\n");
080009C4  4879 0800 1216          pea       @m68kus~1_29.L
080009C8  2292      
080009CA  4E92      1217          jsr       (A2)
080009CC  584F      1218          addq.w    #4,A7
                    1219   ; WriteByteToChip(sendByte);
080009CE  4882      1220          ext.w     D2
080009D0  48C2      1221          ext.l     D2
080009D2  2F02      1222          move.l    D2,-(A7)
080009D4  4EB9 0800 1223          jsr       _WriteByteToChip
080009D8  027A      
080009DA  584F      1224          addq.w    #4,A7
                    1225   ; recievedByte = ReadByteFromChip();
080009DC  4EB9 0800 1226          jsr       _ReadByteFromChip
080009E0  0636      
080009E2  1D40 FFFF 1227          move.b    D0,-1(A6)
                    1228   ; printf("Sent Byte: 0x%X & Recieved Byte: 0x%X\r\n\r\n", sendByte, recievedByte);
080009E6  122E FFFF 1229          move.b    -1(A6),D1
080009EA  4881      1230          ext.w     D1
080009EC  48C1      1231          ext.l     D1
080009EE  2F01      1232          move.l    D1,-(A7)
080009F0  4882      1233          ext.w     D2
080009F2  48C2      1234          ext.l     D2
080009F4  2F02      1235          move.l    D2,-(A7)
080009F6  4879 0800 1236          pea       @m68kus~1_30.L
080009FA  2296      
080009FC  4E92      1237          jsr       (A2)
080009FE  DEFC 000C 1238          add.w     #12,A7
                    1239   ; // GenerateADCOutput();
                    1240   ; // DValueOfAInput();
                    1241   ; while(1);
                    1242   main_1:
08000A02  60FE      1243          bra       main_1
                    1244   ; // programs should NOT exit as there is nothing to Exit TO !!!!!!
                    1245   ; // There is no OS - just press the reset button to end program and call debug
                    1246   ; }
                    1247   ULDIV:
08000A04  4E56 0000 1248          link    A6,#0
08000A08  48E7 C000 1249          movem.l D0/D1,-(A7)
08000A0C  222E 0008 1250          move.l  8(A6),D1
08000A10  202E 000C 1251          move.l  12(A6),D0
08000A14  6036      1252          bra.s   ldiv_3
                    1253   LDIV:
08000A16  4E56 0000 1254          link    A6,#0
08000A1A  48E7 C000 1255          movem.l D0/D1,-(A7)
08000A1E  222E 0008 1256          move.l  8(A6),D1
08000A22  202E 000C 1257          move.l  12(A6),D0
08000A26  4A80      1258          tst.l   D0
08000A28  6A0E      1259          bpl.s   ldiv_1
08000A2A  4480      1260          neg.l   D0
08000A2C  4A81      1261          tst.l   D1
08000A2E  6A14      1262          bpl.s   ldiv_2
08000A30  4481      1263          neg.l   D1
08000A32  612A      1264          bsr.s   dodiv
08000A34  4481      1265          neg.l   D1
08000A36  6016      1266          bra.s   ldiv_4
                    1267   ldiv_1:
08000A38  4A81      1268          tst.l   D1
08000A3A  6A10      1269          bpl.s   ldiv_3
08000A3C  4481      1270          neg.l   D1
08000A3E  611E      1271          bsr.s   dodiv
08000A40  4480      1272          neg.l   D0
08000A42  600A      1273          bra.s   ldiv_4
                    1274   ldiv_2:
08000A44  6118      1275          bsr.s   dodiv
08000A46  4480      1276          neg.l   D0
08000A48  4481      1277          neg.l   D1
08000A4A  6002      1278          bra.s   ldiv_4
                    1279   ldiv_3:
08000A4C  6110      1280          bsr.s   dodiv
                    1281   ldiv_4:
08000A4E  2D40 0008 1282          move.l  D0,8(A6)
08000A52  2D41 000C 1283          move.l  D1,12(A6)
08000A56  4CDF 0003 1284          movem.l (A7)+,D0/D1
08000A5A  4E5E      1285          unlk    A6
08000A5C  4E75      1286          rts
                    1287   dodiv:
08000A5E  0C81 0000 1288          cmpi.l  #$FFFF,D1
08000A62  FFFF      
08000A64  6236      1289          bhi.s   dodiv_2
08000A66  0C80 0000 1290          cmpi.l  #$FFFF,D0
08000A6A  FFFF      
08000A6C  6210      1291          bhi.s   dodiv_1
08000A6E  80C1      1292          divu    D1,D0
08000A70  2200      1293          move.l  D0,D1
08000A72  4241      1294          clr.w   D1
08000A74  4841      1295          swap    D1
08000A76  0280 0000 1296          andi.l  #$FFFF,D0
08000A7A  FFFF      
08000A7C  4E75      1297          rts
                    1298   dodiv_1:
08000A7E  48A7 A000 1299          movem.w D0/D2,-(A7)
08000A82  4240      1300          clr.w   D0
08000A84  4840      1301          swap    D0
08000A86  80C1      1302          divu    D1,D0
08000A88  3400      1303          move.w  D0,D2
08000A8A  301F      1304          move.w  (A7)+,D0
08000A8C  80C1      1305          divu    D1,D0
08000A8E  4840      1306          swap    D0
08000A90  4281      1307          clr.l   D1
08000A92  3200      1308          move.w  D0,D1
08000A94  3002      1309          move.w  D2,D0
08000A96  4840      1310          swap    D0
08000A98  341F      1311          move.w  (A7)+,D2
08000A9A  4E75      1312          rts
                    1313   dodiv_2:
08000A9C  48E7 3800 1314          movem.l D2/D3/D4,-(A7)
08000AA0  2401      1315          move.l  D1,D2
08000AA2  4242      1316          clr.w   D2
08000AA4  4842      1317          swap    D2
08000AA6  5282      1318          addq.l  #1,D2
08000AA8  2600      1319          move.l  D0,D3
08000AAA  2801      1320          move.l  D1,D4
08000AAC  2202      1321          move.l  D2,D1
08000AAE  61CE      1322          bsr.s   dodiv_1
08000AB0  2204      1323          move.l  D4,D1
08000AB2  82C2      1324          divu    D2,D1
08000AB4  80C1      1325          divu    D1,D0
08000AB6  0280 0000 1326          andi.l  #$FFFF,D0
08000ABA  FFFF      
                    1327   dodiv_3:
08000ABC  2204      1328          move.l  D4,D1
08000ABE  2404      1329          move.l  D4,D2
08000AC0  4842      1330          swap    D2
08000AC2  C2C0      1331          mulu    D0,D1
08000AC4  C4C0      1332          mulu    D0,D2
08000AC6  4842      1333          swap    D2
08000AC8  D282      1334          add.l   D2,D1
08000ACA  9283      1335          sub.l   D3,D1
08000ACC  620A      1336          bhi.s   dodiv_4
08000ACE  4481      1337          neg.l   D1
08000AD0  B881      1338          cmp.l   D1,D4
08000AD2  6208      1339          bhi.s   dodiv_5
08000AD4  5280      1340          addq.l  #1,D0
08000AD6  60E4      1341          bra.s   dodiv_3
                    1342   dodiv_4:
08000AD8  5380      1343          subq.l  #1,D0
08000ADA  60E0      1344          bra.s   dodiv_3
                    1345   dodiv_5:
08000ADC  4CDF 001C 1346          movem.l (A7)+,D2/D3/D4
08000AE0  4E75      1347          rts
                    1348   @doscan_read:
08000AE2  4E56 FFFC 1349          link      A6,#-4
08000AE6  2F0A      1350          move.l    A2,-(A7)
08000AE8  45F9 0800 1351          lea       @doscan_lpbuf.L,A2
08000AEC  23DC      
08000AEE  4AAE 0008 1352          tst.l     8(A6)
08000AF2  6700 0032 1353          beq       @doscan_read_1
08000AF6  206E 0008 1354          move.l    8(A6),A0
08000AFA  58AE 0008 1355          addq.l    #4,8(A6)
08000AFE  2050      1356          move.l    (A0),A0
08000B00  1010      1357          move.b    (A0),D0
08000B02  4880      1358          ext.w     D0
08000B04  48C0      1359          ext.l     D0
08000B06  2D40 FFFC 1360          move.l    D0,-4(A6)
08000B0A  4201      1361          clr.b     D1
08000B0C  C2BC 0000 1362          and.l     #255,D1
08000B10  00FF      
08000B12  B081      1363          cmp.l     D1,D0
08000B14  6706      1364          beq.s     @doscan_read_3
08000B16  202E FFFC 1365          move.l    -4(A6),D0
08000B1A  6006      1366          bra.s     @doscan_read_4
                    1367   @doscan_read_3:
08000B1C  70FF      1368          moveq     #-1,D0
08000B1E  4880      1369          ext.w     D0
08000B20  48C0      1370          ext.l     D0
                    1371   @doscan_read_4:
08000B22  6000 0036 1372          bra       @doscan_read_5
                    1373   @doscan_read_1:
08000B26  2052      1374          move.l    (A2),A0
08000B28  1010      1375          move.b    (A0),D0
08000B2A  6624      1376          bne.s     @doscan_read_6
08000B2C  4879 0800 1377          pea       @doscan_buf.L
08000B30  23E0      
08000B32  4EB9 0800 1378          jsr       _gets
08000B36  14B6      
08000B38  584F      1379          addq.w    #4,A7
08000B3A  2480      1380          move.l    D0,(A2)
08000B3C  4879 0800 1381          pea       @doscan_1.L
08000B40  22C0      
08000B42  4879 0800 1382          pea       @doscan_buf.L
08000B46  23E0      
08000B48  4EB9 0800 1383          jsr       _strcat
08000B4C  1548      
08000B4E  504F      1384          addq.w    #8,A7
                    1385   @doscan_read_6:
08000B50  2052      1386          move.l    (A2),A0
08000B52  5292      1387          addq.l    #1,(A2)
08000B54  1010      1388          move.b    (A0),D0
08000B56  4880      1389          ext.w     D0
08000B58  48C0      1390          ext.l     D0
                    1391   @doscan_read_5:
08000B5A  245F      1392          move.l    (A7)+,A2
08000B5C  4E5E      1393          unlk      A6
08000B5E  4E75      1394          rts
                    1395   @doscan_putback:
08000B60  4E56 0000 1396          link      A6,#0
08000B64  48E7 3000 1397          movem.l   D2/D3,-(A7)
08000B68  242E 000C 1398          move.l    12(A6),D2
08000B6C  262E 0008 1399          move.l    8(A6),D3
08000B70  6718      1400          beq.s     @doscan_putback_1
08000B72  0C82 FFFF 1401          cmp.l     #-1,D2
08000B76  FFFF      
08000B78  670A      1402          beq.s     @doscan_putback_3
08000B7A  5983      1403          subq.l    #4,D3
08000B7C  2043      1404          move.l    D3,A0
08000B7E  2050      1405          move.l    (A0),A0
08000B80  1082      1406          move.b    D2,(A0)
08000B82  6004      1407          bra.s     @doscan_putback_4
                    1408   @doscan_putback_3:
08000B84  2043      1409          move.l    D3,A0
08000B86  5390      1410          subq.l    #1,(A0)
                    1411   @doscan_putback_4:
08000B88  6030      1412          bra.s     @doscan_putback_6
                    1413   @doscan_putback_1:
08000B8A  41F9 0800 1414          lea       @doscan_buf.L,A0
08000B8E  23E0      
08000B90  2008      1415          move.l    A0,D0
08000B92  B0B9 0800 1416          cmp.l     @doscan_lpbuf.L,D0
08000B96  23DC      
08000B98  6612      1417          bne.s     @doscan_putback_5
08000B9A  4239 0800 1418          clr.b     @doscan_buf.L
08000B9E  23E0      
08000BA0  2F02      1419          move.l    D2,-(A7)
08000BA2  4EB9 0800 1420          jsr       _ungetch
08000BA6  157A      
08000BA8  584F      1421          addq.w    #4,A7
08000BAA  600E      1422          bra.s     @doscan_putback_6
                    1423   @doscan_putback_5:
08000BAC  53B9 0800 1424          subq.l    #1,@doscan_lpbuf.L
08000BB0  23DC      
08000BB2  2079 0800 1425          move.l    @doscan_lpbuf.L,A0
08000BB6  23DC      
08000BB8  1082      1426          move.b    D2,(A0)
                    1427   @doscan_putback_6:
08000BBA  2002      1428          move.l    D2,D0
08000BBC  4CDF 000C 1429          movem.l   (A7)+,D2/D3
08000BC0  4E5E      1430          unlk      A6
08000BC2  4E75      1431          rts
                    1432   @doscan_space:
08000BC4  4E56 0000 1433          link      A6,#0
08000BC8  2F02      1434          move.l    D2,-(A7)
                    1435   @doscan_space_1:
08000BCA  2F2E 0008 1436          move.l    8(A6),-(A7)
08000BCE  4EB9 0800 1437          jsr       @doscan_read
08000BD2  0AE2      
08000BD4  584F      1438          addq.w    #4,A7
08000BD6  2400      1439          move.l    D0,D2
08000BD8  206E 000C 1440          move.l    12(A6),A0
08000BDC  5290      1441          addq.l    #1,(A0)
08000BDE  2002      1442          move.l    D2,D0
08000BE0  5280      1443          addq.l    #1,D0
08000BE2  41F9 0800 1444          lea       __ctype.L,A0
08000BE6  22C2      
08000BE8  1030 0800 1445          move.b    0(A0,D0.L),D0
08000BEC  C03C 0010 1446          and.b     #16,D0
08000BF0  66D8      1447          bne       @doscan_space_1
08000BF2  2002      1448          move.l    D2,D0
08000BF4  241F      1449          move.l    (A7)+,D2
08000BF6  4E5E      1450          unlk      A6
08000BF8  4E75      1451          rts
                    1452   @doscan_select:
08000BFA  4E56 0000 1453          link      A6,#0
08000BFE  48E7 3F20 1454          movem.l   D2/D3/D4/D5/D6/D7/A2,-(A7)
08000C02  262E 000C 1455          move.l    12(A6),D3
08000C06  2C2E 0018 1456          move.l    24(A6),D6
08000C0A  2E2E 0014 1457          move.l    20(A6),D7
08000C0E  2043      1458          move.l    D3,A0
08000C10  1010      1459          move.b    (A0),D0
08000C12  0C00 005E 1460          cmp.b     #94,D0
08000C16  6608      1461          bne.s     @doscan_select_1
08000C18  347C 0001 1462          move.w    #1,A2
08000C1C  5283      1463          addq.l    #1,D3
08000C1E  6004      1464          bra.s     @doscan_select_2
                    1465   @doscan_select_1:
08000C20  347C 0000 1466          move.w    #0,A2
                    1467   @doscan_select_2:
08000C24  202E 0010 1468          move.l    16(A6),D0
08000C28  53AE 0010 1469          subq.l    #1,16(A6)
08000C2C  4A80      1470          tst.l     D0
08000C2E  6700 00F6 1471          beq       @doscan_select_5
08000C32  2F2E 0008 1472          move.l    8(A6),-(A7)
08000C36  4EB9 0800 1473          jsr       @doscan_read
08000C3A  0AE2      
08000C3C  584F      1474          addq.w    #4,A7
08000C3E  2800      1475          move.l    D0,D4
08000C40  0C84 FFFF 1476          cmp.l     #-1,D4
08000C44  FFFF      
08000C46  6604      1477          bne.s     @doscan_select_6
08000C48  6000 00DC 1478          bra       @doscan_select_5
                    1479   @doscan_select_6:
08000C4C  206E 001C 1480          move.l    28(A6),A0
08000C50  5290      1481          addq.l    #1,(A0)
08000C52  4285      1482          clr.l     D5
08000C54  4282      1483          clr.l     D2
                    1484   @doscan_select_8:
08000C56  2043      1485          move.l    D3,A0
08000C58  1030 2800 1486          move.b    0(A0,D2.L),D0
08000C5C  0C00 005D 1487          cmp.b     #93,D0
08000C60  6700 0086 1488          beq       @doscan_select_10
08000C64  4A82      1489          tst.l     D2
08000C66  6710      1490          beq.s     @doscan_select_11
08000C68  2043      1491          move.l    D3,A0
08000C6A  1030 2800 1492          move.b    0(A0,D2.L),D0
08000C6E  0C00 005D 1493          cmp.b     #93,D0
08000C72  6604      1494          bne.s     @doscan_select_11
08000C74  6000 0072 1495          bra       @doscan_select_10
                    1496   @doscan_select_11:
08000C78  4A82      1497          tst.l     D2
08000C7A  6700 0056 1498          beq       @doscan_select_15
08000C7E  2043      1499          move.l    D3,A0
08000C80  1030 2800 1500          move.b    0(A0,D2.L),D0
08000C84  0C00 002D 1501          cmp.b     #45,D0
08000C88  6600 0048 1502          bne       @doscan_select_15
08000C8C  2043      1503          move.l    D3,A0
08000C8E  2002      1504          move.l    D2,D0
08000C90  5380      1505          subq.l    #1,D0
08000C92  2243      1506          move.l    D3,A1
08000C94  2202      1507          move.l    D2,D1
08000C96  5281      1508          addq.l    #1,D1
08000C98  2F00      1509          move.l    D0,-(A7)
08000C9A  1030 0800 1510          move.b    0(A0,D0.L),D0
08000C9E  B031 1800 1511          cmp.b     0(A1,D1.L),D0
08000CA2  6C00 002E 1512          bge       @doscan_select_15
08000CA6  201F      1513          move.l    (A7)+,D0
08000CA8  2043      1514          move.l    D3,A0
08000CAA  2002      1515          move.l    D2,D0
08000CAC  5380      1516          subq.l    #1,D0
08000CAE  1030 0800 1517          move.b    0(A0,D0.L),D0
08000CB2  4880      1518          ext.w     D0
08000CB4  48C0      1519          ext.l     D0
08000CB6  B880      1520          cmp.l     D0,D4
08000CB8  6D14      1521          blt.s     @doscan_select_17
08000CBA  2043      1522          move.l    D3,A0
08000CBC  2002      1523          move.l    D2,D0
08000CBE  5280      1524          addq.l    #1,D0
08000CC0  1030 0800 1525          move.b    0(A0,D0.L),D0
08000CC4  4880      1526          ext.w     D0
08000CC6  48C0      1527          ext.l     D0
08000CC8  B880      1528          cmp.l     D0,D4
08000CCA  6E02      1529          bgt.s     @doscan_select_17
08000CCC  601A      1530          bra.s     @doscan_select_10
                    1531   @doscan_select_17:
08000CCE  5282      1532          addq.l    #1,D2
08000CD0  6010      1533          bra.s     @doscan_select_19
                    1534   @doscan_select_15:
08000CD2  2043      1535          move.l    D3,A0
08000CD4  1030 2800 1536          move.b    0(A0,D2.L),D0
08000CD8  4880      1537          ext.w     D0
08000CDA  48C0      1538          ext.l     D0
08000CDC  B880      1539          cmp.l     D0,D4
08000CDE  6602      1540          bne.s     @doscan_select_19
08000CE0  6006      1541          bra.s     @doscan_select_10
                    1542   @doscan_select_19:
08000CE2  5282      1543          addq.l    #1,D2
08000CE4  6000 FF70 1544          bra       @doscan_select_8
                    1545   @doscan_select_10:
08000CE8  4A82      1546          tst.l     D2
08000CEA  670C      1547          beq.s     @doscan_select_23
08000CEC  2043      1548          move.l    D3,A0
08000CEE  1030 2800 1549          move.b    0(A0,D2.L),D0
08000CF2  0C00 005D 1550          cmp.b     #93,D0
08000CF6  6702      1551          beq.s     @doscan_select_21
                    1552   @doscan_select_23:
08000CF8  7A01      1553          moveq     #1,D5
                    1554   @doscan_select_21:
08000CFA  200A      1555          move.l    A2,D0
08000CFC  6712      1556          beq.s     @doscan_select_24
08000CFE  4A85      1557          tst.l     D5
08000D00  660C      1558          bne.s     @doscan_select_26
08000D02  4A87      1559          tst.l     D7
08000D04  6606      1560          bne.s     @doscan_select_28
08000D06  2046      1561          move.l    D6,A0
08000D08  5286      1562          addq.l    #1,D6
08000D0A  1084      1563          move.b    D4,(A0)
                    1564   @doscan_select_28:
08000D0C  6014      1565          bra.s     @doscan_select_4
                    1566   @doscan_select_26:
08000D0E  6016      1567          bra.s     @doscan_select_5
                    1568   @doscan_select_24:
08000D10  4A85      1569          tst.l     D5
08000D12  670C      1570          beq.s     @doscan_select_30
08000D14  4A87      1571          tst.l     D7
08000D16  6606      1572          bne.s     @doscan_select_32
08000D18  2046      1573          move.l    D6,A0
08000D1A  5286      1574          addq.l    #1,D6
08000D1C  1084      1575          move.b    D4,(A0)
                    1576   @doscan_select_32:
08000D1E  6002      1577          bra.s     @doscan_select_4
                    1578   @doscan_select_30:
08000D20  6004      1579          bra.s     @doscan_select_5
                    1580   @doscan_select_4:
08000D22  6000 FF00 1581          bra       @doscan_select_2
                    1582   @doscan_select_5:
08000D26  0C84 FFFF 1583          cmp.l     #-1,D4
08000D2A  FFFF      
08000D2C  6714      1584          beq.s     @doscan_select_34
08000D2E  2F04      1585          move.l    D4,-(A7)
08000D30  2F2E 0008 1586          move.l    8(A6),-(A7)
08000D34  4EB9 0800 1587          jsr       @doscan_putback
08000D38  0B60      
08000D3A  504F      1588          addq.w    #8,A7
08000D3C  206E 001C 1589          move.l    28(A6),A0
08000D40  5390      1590          subq.l    #1,(A0)
                    1591   @doscan_select_34:
08000D42  4A87      1592          tst.l     D7
08000D44  6604      1593          bne.s     @doscan_select_36
08000D46  2046      1594          move.l    D6,A0
08000D48  4210      1595          clr.b     (A0)
                    1596   @doscan_select_36:
08000D4A  5283      1597          addq.l    #1,D3
08000D4C  2043      1598          move.l    D3,A0
08000D4E  1010      1599          move.b    (A0),D0
08000D50  0C00 005D 1600          cmp.b     #93,D0
08000D54  6702      1601          beq.s     @doscan_select_40
08000D56  60F2      1602          bra       @doscan_select_36
                    1603   @doscan_select_40:
08000D58  5283      1604          addq.l    #1,D3
08000D5A  2003      1605          move.l    D3,D0
08000D5C  4CDF 04FC 1606          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2
08000D60  4E5E      1607          unlk      A6
08000D62  4E75      1608          rts
                    1609   _scanflush:
08000D64  41F9 0800 1610          lea       @doscan_buf.L,A0
08000D68  23E0      
08000D6A  23C8 0800 1611          move.l    A0,@doscan_lpbuf.L
08000D6E  23DC      
08000D70  4239 0800 1612          clr.b     @doscan_buf.L
08000D74  23E0      
08000D76  4878 FFFF 1613          pea       -1
08000D7A  4EB9 0800 1614          jsr       _ungetch
08000D7E  157A      
08000D80  584F      1615          addq.w    #4,A7
08000D82  4E75      1616          rts
                    1617   _doscan:
08000D84  4E56 FF88 1618          link      A6,#-120
08000D88  48E7 3F3C 1619          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000D8C  47F9 0800 1620          lea       @doscan_read.L,A3
08000D90  0AE2      
08000D92  4AAE 0008 1621          tst.l     8(A6)
08000D96  6706      1622          beq.s     doscan_1
08000D98  41EE 0008 1623          lea       8(A6),A0
08000D9C  6008      1624          bra.s     doscan_2
                    1625   doscan_1:
08000D9E  4200      1626          clr.b     D0
08000DA0  4880      1627          ext.w     D0
08000DA2  48C0      1628          ext.l     D0
08000DA4  2040      1629          move.l    D0,A0
                    1630   doscan_2:
08000DA6  2A08      1631          move.l    A0,D5
08000DA8  42AE FFE4 1632          clr.l     -28(A6)
08000DAC  4284      1633          clr.l     D4
                    1634   doscan_3:
08000DAE  206E 000C 1635          move.l    12(A6),A0
08000DB2  52AE 000C 1636          addq.l    #1,12(A6)
08000DB6  1010      1637          move.b    (A0),D0
08000DB8  4880      1638          ext.w     D0
08000DBA  48C0      1639          ext.l     D0
08000DBC  2600      1640          move.l    D0,D3
08000DBE  4201      1641          clr.b     D1
08000DC0  C2BC 0000 1642          and.l     #255,D1
08000DC4  00FF      
08000DC6  B081      1643          cmp.l     D1,D0
08000DC8  6700 0612 1644          beq       doscan_5
08000DCC  4286      1645          clr.l     D6
08000DCE  387C 0000 1646          move.w    #0,A4
08000DD2  0C83 0000 1647          cmp.l     #32,D3
08000DD6  0020      
08000DD8  6712      1648          beq.s     doscan_8
08000DDA  0C83 0000 1649          cmp.l     #9,D3
08000DDE  0009      
08000DE0  670A      1650          beq.s     doscan_8
08000DE2  0C83 0000 1651          cmp.l     #10,D3
08000DE6  000A      
08000DE8  6600 0050 1652          bne       doscan_6
                    1653   doscan_8:
08000DEC  2F05      1654          move.l    D5,-(A7)
08000DEE  4E93      1655          jsr       (A3)
08000DF0  584F      1656          addq.w    #4,A7
08000DF2  2400      1657          move.l    D0,D2
08000DF4  52AE FFE4 1658          addq.l    #1,-28(A6)
08000DF8  0C82 FFFF 1659          cmp.l     #-1,D2
08000DFC  FFFF      
08000DFE  6612      1660          bne.s     doscan_11
08000E00  4A84      1661          tst.l     D4
08000E02  6704      1662          beq.s     doscan_13
08000E04  2004      1663          move.l    D4,D0
08000E06  6006      1664          bra.s     doscan_14
                    1665   doscan_13:
08000E08  70FF      1666          moveq     #-1,D0
08000E0A  4880      1667          ext.w     D0
08000E0C  48C0      1668          ext.l     D0
                    1669   doscan_14:
08000E0E  6000 05CE 1670          bra       doscan_15
                    1671   doscan_11:
08000E12  2002      1672          move.l    D2,D0
08000E14  5280      1673          addq.l    #1,D0
08000E16  41F9 0800 1674          lea       __ctype.L,A0
08000E1A  22C2      
08000E1C  1030 0800 1675          move.b    0(A0,D0.L),D0
08000E20  C03C 0010 1676          and.b     #16,D0
08000E24  66C6      1677          bne       doscan_8
08000E26  53AE FFE4 1678          subq.l    #1,-28(A6)
08000E2A  2F02      1679          move.l    D2,-(A7)
08000E2C  2F05      1680          move.l    D5,-(A7)
08000E2E  4EB9 0800 1681          jsr       @doscan_putback
08000E32  0B60      
08000E34  504F      1682          addq.w    #8,A7
08000E36  6000 05A0 1683          bra       doscan_141
                    1684   doscan_6:
08000E3A  0C83 0000 1685          cmp.l     #37,D3
08000E3E  0025      
08000E40  6600 055A 1686          bne       doscan_129
08000E44  206E 000C 1687          move.l    12(A6),A0
08000E48  52AE 000C 1688          addq.l    #1,12(A6)
08000E4C  1010      1689          move.b    (A0),D0
08000E4E  4880      1690          ext.w     D0
08000E50  48C0      1691          ext.l     D0
08000E52  2600      1692          move.l    D0,D3
08000E54  42AE FFEC 1693          clr.l     -20(A6)
08000E58  4286      1694          clr.l     D6
08000E5A  42AE FFE8 1695          clr.l     -24(A6)
08000E5E  347C 7FFF 1696          move.w    #32767,A2
08000E62  0C83 0000 1697          cmp.l     #42,D3
08000E66  002A      
08000E68  6612      1698          bne.s     doscan_18
08000E6A  7C01      1699          moveq     #1,D6
08000E6C  206E 000C 1700          move.l    12(A6),A0
08000E70  52AE 000C 1701          addq.l    #1,12(A6)
08000E74  1010      1702          move.b    (A0),D0
08000E76  4880      1703          ext.w     D0
08000E78  48C0      1704          ext.l     D0
08000E7A  2600      1705          move.l    D0,D3
                    1706   doscan_18:
08000E7C  2003      1707          move.l    D3,D0
08000E7E  5280      1708          addq.l    #1,D0
08000E80  41F9 0800 1709          lea       __ctype.L,A0
08000E84  22C2      
08000E86  1030 0800 1710          move.b    0(A0,D0.L),D0
08000E8A  C03C 0004 1711          and.b     #4,D0
08000E8E  6700 004C 1712          beq       doscan_24
08000E92  2003      1713          move.l    D3,D0
08000E94  0480 0000 1714          sub.l     #48,D0
08000E98  0030      
08000E9A  2440      1715          move.l    D0,A2
                    1716   doscan_22:
08000E9C  206E 000C 1717          move.l    12(A6),A0
08000EA0  52AE 000C 1718          addq.l    #1,12(A6)
08000EA4  1010      1719          move.b    (A0),D0
08000EA6  4880      1720          ext.w     D0
08000EA8  48C0      1721          ext.l     D0
08000EAA  2600      1722          move.l    D0,D3
08000EAC  5280      1723          addq.l    #1,D0
08000EAE  41F9 0800 1724          lea       __ctype.L,A0
08000EB2  22C2      
08000EB4  1030 0800 1725          move.b    0(A0,D0.L),D0
08000EB8  C03C 0004 1726          and.b     #4,D0
08000EBC  671E      1727          beq.s     doscan_24
08000EBE  2F0A      1728          move.l    A2,-(A7)
08000EC0  4878 000A 1729          pea       10
08000EC4  4EB9 0800 1730          jsr       LMUL
08000EC8  1428      
08000ECA  2017      1731          move.l    (A7),D0
08000ECC  504F      1732          addq.w    #8,A7
08000ECE  2203      1733          move.l    D3,D1
08000ED0  0481 0000 1734          sub.l     #48,D1
08000ED4  0030      
08000ED6  D081      1735          add.l     D1,D0
08000ED8  2440      1736          move.l    D0,A2
08000EDA  60C0      1737          bra       doscan_22
                    1738   doscan_24:
08000EDC  0C83 0000 1739          cmp.l     #108,D3
08000EE0  006C      
08000EE2  6708      1740          beq.s     doscan_27
08000EE4  0C83 0000 1741          cmp.l     #76,D3
08000EE8  004C      
08000EEA  661A      1742          bne.s     doscan_25
                    1743   doscan_27:
08000EEC  2D7C 0000 1744          move.l    #1,-24(A6)
08000EF0  0001 FFE8 
08000EF4  206E 000C 1745          move.l    12(A6),A0
08000EF8  52AE 000C 1746          addq.l    #1,12(A6)
08000EFC  1010      1747          move.b    (A0),D0
08000EFE  4880      1748          ext.w     D0
08000F00  48C0      1749          ext.l     D0
08000F02  2600      1750          move.l    D0,D3
08000F04  6020      1751          bra.s     doscan_28
                    1752   doscan_25:
08000F06  0C83 0000 1753          cmp.l     #104,D3
08000F0A  0068      
08000F0C  6618      1754          bne.s     doscan_28
08000F0E  2D7C 0000 1755          move.l    #1,-20(A6)
08000F12  0001 FFEC 
08000F16  206E 000C 1756          move.l    12(A6),A0
08000F1A  52AE 000C 1757          addq.l    #1,12(A6)
08000F1E  1010      1758          move.b    (A0),D0
08000F20  4880      1759          ext.w     D0
08000F22  48C0      1760          ext.l     D0
08000F24  2600      1761          move.l    D0,D3
                    1762   doscan_28:
08000F26  0C83 0000 1763          cmp.l     #91,D3
08000F2A  005B      
08000F2C  6600 0038 1764          bne       doscan_30
08000F30  4A86      1765          tst.l     D6
08000F32  660A      1766          bne.s     doscan_32
08000F34  206E 0010 1767          move.l    16(A6),A0
08000F38  58AE 0010 1768          addq.l    #4,16(A6)
08000F3C  2E10      1769          move.l    (A0),D7
                    1770   doscan_32:
08000F3E  486E FFE4 1771          pea       -28(A6)
08000F42  2F07      1772          move.l    D7,-(A7)
08000F44  2F06      1773          move.l    D6,-(A7)
08000F46  2F0A      1774          move.l    A2,-(A7)
08000F48  2F2E 000C 1775          move.l    12(A6),-(A7)
08000F4C  2F05      1776          move.l    D5,-(A7)
08000F4E  4EB9 0800 1777          jsr       @doscan_select
08000F52  0BFA      
08000F54  DEFC 0018 1778          add.w     #24,A7
08000F58  2D40 000C 1779          move.l    D0,12(A6)
08000F5C  4A86      1780          tst.l     D6
08000F5E  6602      1781          bne.s     doscan_34
08000F60  5284      1782          addq.l    #1,D4
                    1783   doscan_34:
08000F62  6000 0474 1784          bra       doscan_141
                    1785   doscan_30:
08000F66  0C83 0000 1786          cmp.l     #110,D3
08000F6A  006E      
08000F6C  661A      1787          bne.s     doscan_36
08000F6E  4A86      1788          tst.l     D6
08000F70  6612      1789          bne.s     doscan_38
08000F72  206E 0010 1790          move.l    16(A6),A0
08000F76  58AE 0010 1791          addq.l    #4,16(A6)
08000F7A  2E10      1792          move.l    (A0),D7
08000F7C  2047      1793          move.l    D7,A0
08000F7E  20AE FFE4 1794          move.l    -28(A6),(A0)
08000F82  5284      1795          addq.l    #1,D4
                    1796   doscan_38:
08000F84  6000 0452 1797          bra       doscan_141
                    1798   doscan_36:
08000F88  0C83 0000 1799          cmp.l     #115,D3
08000F8C  0073      
08000F8E  6600 00C4 1800          bne       doscan_40
08000F92  486E FFE4 1801          pea       -28(A6)
08000F96  2F05      1802          move.l    D5,-(A7)
08000F98  4EB9 0800 1803          jsr       @doscan_space
08000F9C  0BC4      
08000F9E  504F      1804          addq.w    #8,A7
08000FA0  2400      1805          move.l    D0,D2
08000FA2  4A86      1806          tst.l     D6
08000FA4  660A      1807          bne.s     doscan_42
08000FA6  206E 0010 1808          move.l    16(A6),A0
08000FAA  58AE 0010 1809          addq.l    #4,16(A6)
08000FAE  2E10      1810          move.l    (A0),D7
                    1811   doscan_42:
08000FB0  52AE FFE4 1812          addq.l    #1,-28(A6)
                    1813   doscan_44:
08000FB4  200A      1814          move.l    A2,D0
08000FB6  534A      1815          subq.w    #1,A2
08000FB8  4A80      1816          tst.l     D0
08000FBA  6700 0048 1817          beq       doscan_46
08000FBE  2002      1818          move.l    D2,D0
08000FC0  5280      1819          addq.l    #1,D0
08000FC2  41F9 0800 1820          lea       __ctype.L,A0
08000FC6  22C2      
08000FC8  1030 0800 1821          move.b    0(A0,D0.L),D0
08000FCC  C03C 0010 1822          and.b     #16,D0
08000FD0  6604      1823          bne.s     doscan_47
08000FD2  7001      1824          moveq     #1,D0
08000FD4  6002      1825          bra.s     doscan_48
                    1826   doscan_47:
08000FD6  4280      1827          clr.l     D0
                    1828   doscan_48:
08000FD8  C0BC 0000 1829          and.l     #255,D0
08000FDC  00FF      
08000FDE  6724      1830          beq.s     doscan_46
08000FE0  0C82 FFFF 1831          cmp.l     #-1,D2
08000FE4  FFFF      
08000FE6  671C      1832          beq.s     doscan_46
08000FE8  387C 0001 1833          move.w    #1,A4
08000FEC  4A86      1834          tst.l     D6
08000FEE  6606      1835          bne.s     doscan_49
08000FF0  2047      1836          move.l    D7,A0
08000FF2  5287      1837          addq.l    #1,D7
08000FF4  1082      1838          move.b    D2,(A0)
                    1839   doscan_49:
08000FF6  2F05      1840          move.l    D5,-(A7)
08000FF8  4E93      1841          jsr       (A3)
08000FFA  584F      1842          addq.w    #4,A7
08000FFC  2400      1843          move.l    D0,D2
08000FFE  52AE FFE4 1844          addq.l    #1,-28(A6)
08001002  60B0      1845          bra       doscan_44
                    1846   doscan_46:
08001004  4A86      1847          tst.l     D6
08001006  660A      1848          bne.s     doscan_53
08001008  2047      1849          move.l    D7,A0
0800100A  4210      1850          clr.b     (A0)
0800100C  200C      1851          move.l    A4,D0
0800100E  6702      1852          beq.s     doscan_53
08001010  5284      1853          addq.l    #1,D4
                    1854   doscan_53:
08001012  0C82 FFFF 1855          cmp.l     #-1,D2
08001016  FFFF      
08001018  6708      1856          beq.s     doscan_57
0800101A  4A86      1857          tst.l     D6
0800101C  6622      1858          bne.s     doscan_55
0800101E  200C      1859          move.l    A4,D0
08001020  661E      1860          bne.s     doscan_55
                    1861   doscan_57:
08001022  4A84      1862          tst.l     D4
08001024  6704      1863          beq.s     doscan_58
08001026  2004      1864          move.l    D4,D0
08001028  6012      1865          bra.s     doscan_61
                    1866   doscan_58:
0800102A  0C82 FFFF 1867          cmp.l     #-1,D2
0800102E  FFFF      
08001030  6608      1868          bne.s     doscan_60
08001032  70FF      1869          moveq     #-1,D0
08001034  4880      1870          ext.w     D0
08001036  48C0      1871          ext.l     D0
08001038  6002      1872          bra.s     doscan_61
                    1873   doscan_60:
0800103A  2004      1874          move.l    D4,D0
                    1875   doscan_61:
0800103C  6000 03A0 1876          bra       doscan_15
                    1877   doscan_55:
08001040  53AE FFE4 1878          subq.l    #1,-28(A6)
08001044  2F02      1879          move.l    D2,-(A7)
08001046  2F05      1880          move.l    D5,-(A7)
08001048  4EB9 0800 1881          jsr       @doscan_putback
0800104C  0B60      
0800104E  504F      1882          addq.w    #8,A7
08001050  6000 0386 1883          bra       doscan_141
                    1884   doscan_40:
08001054  0C83 0000 1885          cmp.l     #99,D3
08001058  0063      
0800105A  6600 0094 1886          bne       doscan_62
0800105E  4A86      1887          tst.l     D6
08001060  660A      1888          bne.s     doscan_64
08001062  206E 0010 1889          move.l    16(A6),A0
08001066  58AE 0010 1890          addq.l    #4,16(A6)
0800106A  2E10      1891          move.l    (A0),D7
                    1892   doscan_64:
0800106C  2F05      1893          move.l    D5,-(A7)
0800106E  4E93      1894          jsr       (A3)
08001070  584F      1895          addq.w    #4,A7
08001072  2400      1896          move.l    D0,D2
08001074  52AE FFE4 1897          addq.l    #1,-28(A6)
08001078  200A      1898          move.l    A2,D0
0800107A  0C80 0000 1899          cmp.l     #32767,D0
0800107E  7FFF      
08001080  6604      1900          bne.s     doscan_66
08001082  347C 0001 1901          move.w    #1,A2
                    1902   doscan_66:
08001086  0C82 FFFF 1903          cmp.l     #-1,D2
0800108A  FFFF      
0800108C  6606      1904          bne.s     doscan_68
0800108E  4A86      1905          tst.l     D6
08001090  6602      1906          bne.s     doscan_68
08001092  5384      1907          subq.l    #1,D4
                    1908   doscan_68:
08001094  200A      1909          move.l    A2,D0
08001096  534A      1910          subq.w    #1,A2
08001098  4A80      1911          tst.l     D0
0800109A  6720      1912          beq.s     doscan_72
0800109C  0C82 FFFF 1913          cmp.l     #-1,D2
080010A0  FFFF      
080010A2  6718      1914          beq.s     doscan_72
080010A4  4A86      1915          tst.l     D6
080010A6  6606      1916          bne.s     doscan_73
080010A8  2047      1917          move.l    D7,A0
080010AA  5287      1918          addq.l    #1,D7
080010AC  1082      1919          move.b    D2,(A0)
                    1920   doscan_73:
080010AE  2F05      1921          move.l    D5,-(A7)
080010B0  4E93      1922          jsr       (A3)
080010B2  584F      1923          addq.w    #4,A7
080010B4  2400      1924          move.l    D0,D2
080010B6  52AE FFE4 1925          addq.l    #1,-28(A6)
080010BA  60D8      1926          bra       doscan_68
                    1927   doscan_72:
080010BC  0C82 FFFF 1928          cmp.l     #-1,D2
080010C0  FFFF      
080010C2  6612      1929          bne.s     doscan_75
080010C4  4A84      1930          tst.l     D4
080010C6  6704      1931          beq.s     doscan_77
080010C8  2004      1932          move.l    D4,D0
080010CA  6006      1933          bra.s     doscan_78
                    1934   doscan_77:
080010CC  70FF      1935          moveq     #-1,D0
080010CE  4880      1936          ext.w     D0
080010D0  48C0      1937          ext.l     D0
                    1938   doscan_78:
080010D2  6000 030A 1939          bra       doscan_15
                    1940   doscan_75:
080010D6  4A86      1941          tst.l     D6
080010D8  6602      1942          bne.s     doscan_79
080010DA  5284      1943          addq.l    #1,D4
                    1944   doscan_79:
080010DC  53AE FFE4 1945          subq.l    #1,-28(A6)
080010E0  2F02      1946          move.l    D2,-(A7)
080010E2  2F05      1947          move.l    D5,-(A7)
080010E4  4EB9 0800 1948          jsr       @doscan_putback
080010E8  0B60      
080010EA  504F      1949          addq.w    #8,A7
080010EC  6000 02EA 1950          bra       doscan_141
                    1951   doscan_62:
080010F0  0C83 0000 1952          cmp.l     #105,D3
080010F4  0069      
080010F6  6600 0068 1953          bne       doscan_84
080010FA  486E FFE4 1954          pea       -28(A6)
080010FE  2F05      1955          move.l    D5,-(A7)
08001100  4EB9 0800 1956          jsr       @doscan_space
08001104  0BC4      
08001106  504F      1957          addq.w    #8,A7
08001108  2400      1958          move.l    D0,D2
0800110A  0C82 0000 1959          cmp.l     #48,D2
0800110E  0030      
08001110  6600 003C 1960          bne       doscan_83
08001114  387C 0001 1961          move.w    #1,A4
08001118  2F05      1962          move.l    D5,-(A7)
0800111A  4E93      1963          jsr       (A3)
0800111C  584F      1964          addq.w    #4,A7
0800111E  2400      1965          move.l    D0,D2
08001120  2F02      1966          move.l    D2,-(A7)
08001122  4EB9 0800 1967          jsr       _tolower
08001126  152C      
08001128  584F      1968          addq.w    #4,A7
0800112A  0C80 0000 1969          cmp.l     #120,D0
0800112E  0078      
08001130  6604      1970          bne.s     doscan_85
08001132  7678      1971          moveq     #120,D3
08001134  6012      1972          bra.s     doscan_86
                    1973   doscan_85:
08001136  53AE FFE4 1974          subq.l    #1,-28(A6)
0800113A  2F02      1975          move.l    D2,-(A7)
0800113C  2F05      1976          move.l    D5,-(A7)
0800113E  4EB9 0800 1977          jsr       @doscan_putback
08001142  0B60      
08001144  504F      1978          addq.w    #8,A7
08001146  766F      1979          moveq     #111,D3
                    1980   doscan_86:
08001148  52AE FFE4 1981          addq.l    #1,-28(A6)
0800114C  6012      1982          bra.s     doscan_84
                    1983   doscan_83:
0800114E  53AE FFE4 1984          subq.l    #1,-28(A6)
08001152  2F02      1985          move.l    D2,-(A7)
08001154  2F05      1986          move.l    D5,-(A7)
08001156  4EB9 0800 1987          jsr       @doscan_putback
0800115A  0B60      
0800115C  504F      1988          addq.w    #8,A7
0800115E  7664      1989          moveq     #100,D3
                    1990   doscan_84:
08001160  0C83 0000 1991          cmp.l     #100,D3
08001164  0064      
08001166  671A      1992          beq.s     doscan_89
08001168  0C83 0000 1993          cmp.l     #117,D3
0800116C  0075      
0800116E  6712      1994          beq.s     doscan_89
08001170  0C83 0000 1995          cmp.l     #120,D3
08001174  0078      
08001176  670A      1996          beq.s     doscan_89
08001178  0C83 0000 1997          cmp.l     #111,D3
0800117C  006F      
0800117E  6600 01CE 1998          bne       doscan_87
                    1999   doscan_89:
08001182  486E FFE4 2000          pea       -28(A6)
08001186  2F05      2001          move.l    D5,-(A7)
08001188  4EB9 0800 2002          jsr       @doscan_space
0800118C  0BC4      
0800118E  504F      2003          addq.w    #8,A7
08001190  2400      2004          move.l    D0,D2
08001192  2D7C 0000 2005          move.l    #10,-4(A6)
08001196  000A FFFC 
0800119A  0C83 0000 2006          cmp.l     #120,D3
0800119E  0078      
080011A0  6608      2007          bne.s     doscan_90
080011A2  2D7C 0000 2008          move.l    #16,-4(A6)
080011A6  0010 FFFC 
                    2009   doscan_90:
080011AA  0C83 0000 2010          cmp.l     #111,D3
080011AE  006F      
080011B0  6608      2011          bne.s     doscan_92
080011B2  2D7C 0000 2012          move.l    #8,-4(A6)
080011B6  0008 FFFC 
                    2013   doscan_92:
080011BA  4A86      2014          tst.l     D6
080011BC  660A      2015          bne.s     doscan_94
080011BE  206E 0010 2016          move.l    16(A6),A0
080011C2  58AE 0010 2017          addq.l    #4,16(A6)
080011C6  2E10      2018          move.l    (A0),D7
                    2019   doscan_94:
080011C8  42AE FFE0 2020          clr.l     -32(A6)
080011CC  52AE FFE4 2021          addq.l    #1,-28(A6)
080011D0  0C83 0000 2022          cmp.l     #117,D3
080011D4  0075      
080011D6  6720      2023          beq.s     doscan_96
080011D8  0C82 0000 2024          cmp.l     #45,D2
080011DC  002D      
080011DE  6618      2025          bne.s     doscan_96
080011E0  2F05      2026          move.l    D5,-(A7)
080011E2  4E93      2027          jsr       (A3)
080011E4  584F      2028          addq.w    #4,A7
080011E6  2400      2029          move.l    D0,D2
080011E8  52AE FFE4 2030          addq.l    #1,-28(A6)
080011EC  2D7C 0000 2031          move.l    #1,-32(A6)
080011F0  0001 FFE0 
080011F4  387C 0001 2032          move.w    #1,A4
                    2033   doscan_96:
080011F8  3A7C 0000 2034          move.w    #0,A5
080011FC  0C82 FFFF 2035          cmp.l     #-1,D2
08001200  FFFF      
08001202  6612      2036          bne.s     doscan_98
08001204  4A84      2037          tst.l     D4
08001206  6704      2038          beq.s     doscan_100
08001208  2004      2039          move.l    D4,D0
0800120A  6006      2040          bra.s     doscan_101
                    2041   doscan_100:
0800120C  70FF      2042          moveq     #-1,D0
0800120E  4880      2043          ext.w     D0
08001210  48C0      2044          ext.l     D0
                    2045   doscan_101:
08001212  6000 01CA 2046          bra       doscan_15
                    2047   doscan_98:
08001216  200A      2048          move.l    A2,D0
08001218  534A      2049          subq.w    #1,A2
0800121A  4A80      2050          tst.l     D0
0800121C  6700 00AA 2051          beq       doscan_104
08001220  0C83 0000 2052          cmp.l     #120,D3
08001224  0078      
08001226  6624      2053          bne.s     doscan_106
08001228  2F02      2054          move.l    D2,-(A7)
0800122A  4EB9 0800 2055          jsr       _toupper
0800122E  155E      
08001230  584F      2056          addq.w    #4,A7
08001232  0C80 0000 2057          cmp.l     #65,D0
08001236  0041      
08001238  6D12      2058          blt.s     doscan_106
0800123A  2F02      2059          move.l    D2,-(A7)
0800123C  4EB9 0800 2060          jsr       _toupper
08001240  155E      
08001242  584F      2061          addq.w    #4,A7
08001244  0C80 0000 2062          cmp.l     #70,D0
08001248  0046      
0800124A  6F1C      2063          ble.s     doscan_105
                    2064   doscan_106:
0800124C  2002      2065          move.l    D2,D0
0800124E  5280      2066          addq.l    #1,D0
08001250  41F9 0800 2067          lea       __ctype.L,A0
08001254  22C2      
08001256  1030 0800 2068          move.b    0(A0,D0.L),D0
0800125A  C03C 0004 2069          and.b     #4,D0
0800125E  C0BC 0000 2070          and.l     #255,D0
08001262  00FF      
08001264  6700 0062 2071          beq       doscan_104
                    2072   doscan_105:
08001268  2002      2073          move.l    D2,D0
0800126A  5280      2074          addq.l    #1,D0
0800126C  41F9 0800 2075          lea       __ctype.L,A0
08001270  22C2      
08001272  1030 0800 2076          move.b    0(A0,D0.L),D0
08001276  C03C 0004 2077          and.b     #4,D0
0800127A  661E      2078          bne.s     doscan_107
0800127C  2F02      2079          move.l    D2,-(A7)
0800127E  4EB9 0800 2080          jsr       _toupper
08001282  155E      
08001284  584F      2081          addq.w    #4,A7
08001286  0480 0000 2082          sub.l     #65,D0
0800128A  0041      
0800128C  0680 0000 2083          add.l     #10,D0
08001290  000A      
08001292  0680 0000 2084          add.l     #48,D0
08001296  0030      
08001298  2400      2085          move.l    D0,D2
                    2086   doscan_107:
0800129A  2F0D      2087          move.l    A5,-(A7)
0800129C  2F2E FFFC 2088          move.l    -4(A6),-(A7)
080012A0  4EB9 0800 2089          jsr       LMUL
080012A4  1428      
080012A6  2017      2090          move.l    (A7),D0
080012A8  504F      2091          addq.w    #8,A7
080012AA  D082      2092          add.l     D2,D0
080012AC  0480 0000 2093          sub.l     #48,D0
080012B0  0030      
080012B2  2A40      2094          move.l    D0,A5
080012B4  2F05      2095          move.l    D5,-(A7)
080012B6  4E93      2096          jsr       (A3)
080012B8  584F      2097          addq.w    #4,A7
080012BA  2400      2098          move.l    D0,D2
080012BC  52AE FFE4 2099          addq.l    #1,-28(A6)
080012C0  387C 0001 2100          move.w    #1,A4
080012C4  6000 FF50 2101          bra       doscan_98
                    2102   doscan_104:
080012C8  0C82 FFFF 2103          cmp.l     #-1,D2
080012CC  FFFF      
080012CE  671C      2104          beq.s     doscan_109
080012D0  2F02      2105          move.l    D2,-(A7)
080012D2  2F05      2106          move.l    D5,-(A7)
080012D4  4EB9 0800 2107          jsr       @doscan_putback
080012D8  0B60      
080012DA  504F      2108          addq.w    #8,A7
080012DC  53AE FFE4 2109          subq.l    #1,-28(A6)
080012E0  200C      2110          move.l    A4,D0
080012E2  6606      2111          bne.s     doscan_111
080012E4  2004      2112          move.l    D4,D0
080012E6  6000 00F6 2113          bra       doscan_15
                    2114   doscan_111:
080012EA  6016      2115          bra.s     doscan_113
                    2116   doscan_109:
080012EC  200C      2117          move.l    A4,D0
080012EE  6612      2118          bne.s     doscan_113
080012F0  4A84      2119          tst.l     D4
080012F2  6704      2120          beq.s     doscan_115
080012F4  2004      2121          move.l    D4,D0
080012F6  6006      2122          bra.s     doscan_116
                    2123   doscan_115:
080012F8  70FF      2124          moveq     #-1,D0
080012FA  4880      2125          ext.w     D0
080012FC  48C0      2126          ext.l     D0
                    2127   doscan_116:
080012FE  6000 00DE 2128          bra       doscan_15
                    2129   doscan_113:
08001302  4AAE FFE0 2130          tst.l     -32(A6)
08001306  6706      2131          beq.s     doscan_117
08001308  200D      2132          move.l    A5,D0
0800130A  4480      2133          neg.l     D0
0800130C  2A40      2134          move.l    D0,A5
                    2135   doscan_117:
0800130E  4A86      2136          tst.l     D6
08001310  661E      2137          bne.s     doscan_119
08001312  4AAE FFE8 2138          tst.l     -24(A6)
08001316  6706      2139          beq.s     doscan_121
08001318  2047      2140          move.l    D7,A0
0800131A  208D      2141          move.l    A5,(A0)
0800131C  6010      2142          bra.s     doscan_124
                    2143   doscan_121:
0800131E  4AAE FFEC 2144          tst.l     -20(A6)
08001322  6706      2145          beq.s     doscan_123
08001324  2047      2146          move.l    D7,A0
08001326  308D      2147          move.w    A5,(A0)
08001328  6004      2148          bra.s     doscan_124
                    2149   doscan_123:
0800132A  2047      2150          move.l    D7,A0
0800132C  208D      2151          move.l    A5,(A0)
                    2152   doscan_124:
0800132E  5284      2153          addq.l    #1,D4
                    2154   doscan_119:
08001330  0C82 FFFF 2155          cmp.l     #-1,D2
08001334  FFFF      
08001336  6612      2156          bne.s     doscan_125
08001338  4A84      2157          tst.l     D4
0800133A  6704      2158          beq.s     doscan_127
0800133C  2004      2159          move.l    D4,D0
0800133E  6006      2160          bra.s     doscan_128
                    2161   doscan_127:
08001340  70FF      2162          moveq     #-1,D0
08001342  4880      2163          ext.w     D0
08001344  48C0      2164          ext.l     D0
                    2165   doscan_128:
08001346  6000 0096 2166          bra       doscan_15
                    2167   doscan_125:
0800134A  6000 008C 2168          bra       doscan_141
                    2169   doscan_87:
0800134E  0C83 0000 2170          cmp.l     #37,D3
08001352  0025      
08001354  6600 0046 2171          bne       doscan_129
08001358  2F05      2172          move.l    D5,-(A7)
0800135A  4E93      2173          jsr       (A3)
0800135C  584F      2174          addq.w    #4,A7
0800135E  2400      2175          move.l    D0,D2
08001360  0C82 FFFF 2176          cmp.l     #-1,D2
08001364  FFFF      
08001366  6612      2177          bne.s     doscan_131
08001368  4A84      2178          tst.l     D4
0800136A  6704      2179          beq.s     doscan_133
0800136C  2004      2180          move.l    D4,D0
0800136E  6006      2181          bra.s     doscan_134
                    2182   doscan_133:
08001370  70FF      2183          moveq     #-1,D0
08001372  4880      2184          ext.w     D0
08001374  48C0      2185          ext.l     D0
                    2186   doscan_134:
08001376  6000 0066 2187          bra       doscan_15
                    2188   doscan_131:
0800137A  52AE FFE4 2189          addq.l    #1,-28(A6)
0800137E  B483      2190          cmp.l     D3,D2
08001380  6716      2191          beq.s     doscan_135
08001382  2F02      2192          move.l    D2,-(A7)
08001384  2F05      2193          move.l    D5,-(A7)
08001386  4EB9 0800 2194          jsr       @doscan_putback
0800138A  0B60      
0800138C  504F      2195          addq.w    #8,A7
0800138E  53AE FFE4 2196          subq.l    #1,-28(A6)
08001392  2004      2197          move.l    D4,D0
08001394  6000 0048 2198          bra       doscan_15
                    2199   doscan_135:
08001398  6000 003E 2200          bra       doscan_141
                    2201   doscan_129:
0800139C  2F05      2202          move.l    D5,-(A7)
0800139E  4E93      2203          jsr       (A3)
080013A0  584F      2204          addq.w    #4,A7
080013A2  2400      2205          move.l    D0,D2
080013A4  52AE FFE4 2206          addq.l    #1,-28(A6)
080013A8  0C82 FFFF 2207          cmp.l     #-1,D2
080013AC  FFFF      
080013AE  6610      2208          bne.s     doscan_137
080013B0  4A84      2209          tst.l     D4
080013B2  6704      2210          beq.s     doscan_139
080013B4  2004      2211          move.l    D4,D0
080013B6  6006      2212          bra.s     doscan_140
                    2213   doscan_139:
080013B8  70FF      2214          moveq     #-1,D0
080013BA  4880      2215          ext.w     D0
080013BC  48C0      2216          ext.l     D0
                    2217   doscan_140:
080013BE  601E      2218          bra.s     doscan_15
                    2219   doscan_137:
080013C0  B483      2220          cmp.l     D3,D2
080013C2  6714      2221          beq.s     doscan_141
080013C4  2F02      2222          move.l    D2,-(A7)
080013C6  2F05      2223          move.l    D5,-(A7)
080013C8  4EB9 0800 2224          jsr       @doscan_putback
080013CC  0B60      
080013CE  504F      2225          addq.w    #8,A7
080013D0  53AE FFE4 2226          subq.l    #1,-28(A6)
080013D4  2004      2227          move.l    D4,D0
080013D6  6006      2228          bra.s     doscan_15
                    2229   doscan_141:
080013D8  6000 F9D4 2230          bra       doscan_3
                    2231   doscan_5:
080013DC  2004      2232          move.l    D4,D0
                    2233   doscan_15:
080013DE  4CDF 3CFC 2234          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
080013E2  4E5E      2235          unlk      A6
080013E4  4E75      2236          rts
                    2237   _printf:
080013E6  4E56 FFFC 2238          link      A6,#-4
080013EA  2F02      2239          move.l    D2,-(A7)
080013EC  41EE 0008 2240          lea       8(A6),A0
080013F0  5848      2241          addq.w    #4,A0
080013F2  2408      2242          move.l    A0,D2
080013F4  2F02      2243          move.l    D2,-(A7)
080013F6  2F2E 0008 2244          move.l    8(A6),-(A7)
080013FA  42A7      2245          clr.l     -(A7)
080013FC  4EB9 0800 2246          jsr       _doprint
08001400  1636      
08001402  DEFC 000C 2247          add.w     #12,A7
08001406  2D40 FFFC 2248          move.l    D0,-4(A6)
0800140A  4282      2249          clr.l     D2
0800140C  202E FFFC 2250          move.l    -4(A6),D0
08001410  241F      2251          move.l    (A7)+,D2
08001412  4E5E      2252          unlk      A6
08001414  4E75      2253          rts
                    2254   ULMUL:
08001416  4E56 0000 2255          link    A6,#0
0800141A  48E7 C000 2256          movem.l D0/D1,-(A7)
0800141E  222E 0008 2257          move.l  8(A6),D1
08001422  202E 000C 2258          move.l  12(A6),D0
08001426  602C      2259          bra.s   lmul_3
                    2260   LMUL:
08001428  4E56 0000 2261          link    A6,#0
0800142C  48E7 C000 2262          movem.l D0/D1,-(A7)
08001430  222E 0008 2263          move.l  8(A6),D1
08001434  202E 000C 2264          move.l  12(A6),D0
08001438  4A80      2265          tst.l   D0
0800143A  6A0A      2266          bpl.s   lmul_1
0800143C  4480      2267          neg.l   D0
0800143E  4A81      2268          tst.l   D1
08001440  6A0A      2269          bpl.s   lmul_2
08001442  4481      2270          neg.l   D1
08001444  600E      2271          bra.s   lmul_3
                    2272   lmul_1:
08001446  4A81      2273          tst.l   D1
08001448  6A0A      2274          bpl.s   lmul_3
0800144A  4481      2275          neg.l   D1
                    2276   lmul_2:
0800144C  6114      2277          bsr.s   domul
0800144E  4481      2278          neg.l   D1
08001450  4080      2279          negx.l  D0
08001452  6002      2280          bra.s   lmul_4
                    2281   lmul_3:
08001454  610C      2282          bsr.s   domul
                    2283   lmul_4:
08001456  2D41 0008 2284          move.l  D1,8(A6)
0800145A  4CDF 0003 2285          movem.l (A7)+,D0/D1
0800145E  4E5E      2286          unlk    A6
08001460  4E75      2287          rts
                    2288   domul:
08001462  0C81 0000 2289          cmpi.l  #$FFFF,D1
08001466  FFFF      
08001468  620C      2290          bhi.s   domul_1
0800146A  0C80 0000 2291          cmpi.l  #$FFFF,D0
0800146E  FFFF      
08001470  620E      2292          bhi.s   domul_2
08001472  C2C0      2293          mulu    D0,D1
08001474  4E75      2294          rts
                    2295   domul_1:
08001476  0C80 0000 2296          cmpi.l  #$FFFF,D0
0800147A  FFFF      
0800147C  6218      2297          bhi.s   domul_4
0800147E  6002      2298          bra.s   domul_3
                    2299   domul_2
08001480  C141      2300          exg     D0,D1
                    2301   domul_3:
08001482  2F02      2302          move.l  D2,-(A7)
08001484  2401      2303          move.l  D1,D2
08001486  4842      2304          swap    D2
08001488  C2C0      2305          mulu    D0,D1
0800148A  C4C0      2306          mulu    D0,D2
0800148C  4842      2307          swap    D2
0800148E  4242      2308          clr.w   D2
08001490  D282      2309          add.l   D2,D1
08001492  241F      2310          move.l  (A7)+,D2
08001494  4E75      2311          rts
                    2312   domul_4:
08001496  48E7 3000 2313          movem.l D2/D3,-(A7)
0800149A  2401      2314          move.l  D1,D2
0800149C  2601      2315          move.l  D1,D3
0800149E  C2C0      2316          mulu    D0,D1
080014A0  4842      2317          swap    D2
080014A2  C4C0      2318          mulu    D0,D2
080014A4  4840      2319          swap    D0
080014A6  C6C0      2320          mulu    D0,D3
080014A8  D483      2321          add.l   D3,D2
080014AA  4842      2322          swap    D2
080014AC  4242      2323          clr.w   D2
080014AE  D282      2324          add.l   D2,D1
080014B0  4CDF 000C 2325          movem.l (A7)+,D2/D3
080014B4  4E75      2326          rts
                    2327   _gets:
080014B6  4E56 0000 2328          link      A6,#0
080014BA  48E7 3820 2329          movem.l   D2/D3/D4/A2,-(A7)
080014BE  45F9 0800 2330          lea       _putch.L,A2
080014C2  1C66      
080014C4  282E 0008 2331          move.l    8(A6),D4
080014C8  2404      2332          move.l    D4,D2
                    2333   gets_1:
080014CA  4EB9 0800 2334          jsr       _getch
080014CE  1C96      
080014D0  2600      2335          move.l    D0,D3
080014D2  0C80 0000 2336          cmp.l     #10,D0
080014D6  000A      
080014D8  6700 003C 2337          beq       gets_3
080014DC  0C83 0000 2338          cmp.l     #8,D3
080014E0  0008      
080014E2  6712      2339          beq.s     gets_4
080014E4  2042      2340          move.l    D2,A0
080014E6  5282      2341          addq.l    #1,D2
080014E8  1083      2342          move.b    D3,(A0)
080014EA  4883      2343          ext.w     D3
080014EC  48C3      2344          ext.l     D3
080014EE  2F03      2345          move.l    D3,-(A7)
080014F0  4E92      2346          jsr       (A2)
080014F2  584F      2347          addq.w    #4,A7
080014F4  601E      2348          bra.s     gets_6
                    2349   gets_4:
080014F6  B484      2350          cmp.l     D4,D2
080014F8  631A      2351          bls.s     gets_6
080014FA  4878 0008 2352          pea       8
080014FE  4E92      2353          jsr       (A2)
08001500  584F      2354          addq.w    #4,A7
08001502  4878 0020 2355          pea       32
08001506  4E92      2356          jsr       (A2)
08001508  584F      2357          addq.w    #4,A7
0800150A  4878 0008 2358          pea       8
0800150E  4E92      2359          jsr       (A2)
08001510  584F      2360          addq.w    #4,A7
08001512  5382      2361          subq.l    #1,D2
                    2362   gets_6:
08001514  60B4      2363          bra       gets_1
                    2364   gets_3:
08001516  4878 000A 2365          pea       10
0800151A  4E92      2366          jsr       (A2)
0800151C  584F      2367          addq.w    #4,A7
0800151E  2042      2368          move.l    D2,A0
08001520  4210      2369          clr.b     (A0)
08001522  2004      2370          move.l    D4,D0
08001524  4CDF 041C 2371          movem.l   (A7)+,D2/D3/D4/A2
08001528  4E5E      2372          unlk      A6
0800152A  4E75      2373          rts
                    2374   _tolower:
0800152C  202F 0004 2375          move.l    4(A7),D0
08001530  0C80 0000 2376          cmp.l     #'A',D0
08001534  0041      
08001536  6D0E      2377          blt.s     tolower_1
08001538  0C80 0000 2378          cmp.l     #'Z',D0
0800153C  005A      
0800153E  6E06      2379          bgt.s     tolower_1
08001540  0680 0000 2380          add.l     #$20,D0
08001544  0020      
                    2381   tolower_1:
08001546  4E75      2382          rts
                    2383   _strcat:
08001548  206F 0004 2384          move.l    (4,A7),A0
0800154C  226F 0008 2385          move.l    (8,A7),A1
08001550  2008      2386          move.l    A0,D0
                    2387   strcat_1:
08001552  4A18      2388          tst.b     (A0)+
08001554  66FC      2389          bne.s     strcat_1
08001556  5388      2390          subq.l    #1,A0
                    2391   strcat_2:
08001558  10D9      2392          move.b    (A1)+,(A0)+
0800155A  66FC      2393          bne.s     strcat_2
0800155C  4E75      2394          rts
                    2395   _toupper:
0800155E  202F 0004 2396          move.l    4(A7),D0
08001562  0C80 0000 2397          cmp.l     #'a',D0
08001566  0061      
08001568  6D0E      2398          blt.s     toupper_1
0800156A  0C80 0000 2399          cmp.l     #'z',D0
0800156E  007A      
08001570  6E06      2400          bgt.s     toupper_1
08001572  0480 0000 2401          sub.l     #$20,D0
08001576  0020      
                    2402   toupper_1:
08001578  4E75      2403          rts
                    2404   _ungetch:
0800157A  4E56 0000 2405          link      A6,#0
0800157E  23EE 0008 2406          move.l    8(A6),__ungetbuf.L
08001582  0800 23D0 
08001586  202E 0008 2407          move.l    8(A6),D0
0800158A  4E5E      2408          unlk      A6
0800158C  4E75      2409          rts
                    2410   @doprint_copy:
0800158E  4E56 0000 2411          link      A6,#0
08001592  206E 0008 2412          move.l    8(A6),A0
08001596  4A90      2413          tst.l     (A0)
08001598  6710      2414          beq.s     @doprint_copy_1
0800159A  202E 000C 2415          move.l    12(A6),D0
0800159E  206E 0008 2416          move.l    8(A6),A0
080015A2  2250      2417          move.l    (A0),A1
080015A4  5290      2418          addq.l    #1,(A0)
080015A6  1280      2419          move.b    D0,(A1)
080015A8  600C      2420          bra.s     @doprint_copy_2
                    2421   @doprint_copy_1:
080015AA  2F2E 000C 2422          move.l    12(A6),-(A7)
080015AE  4EB9 0800 2423          jsr       _putch
080015B2  1C66      
080015B4  584F      2424          addq.w    #4,A7
                    2425   @doprint_copy_2:
080015B6  4E5E      2426          unlk      A6
080015B8  4E75      2427          rts
                    2428   @doprint_getval:
080015BA  4E56 0000 2429          link      A6,#0
080015BE  48E7 3000 2430          movem.l   D2/D3,-(A7)
080015C2  262E 0008 2431          move.l    8(A6),D3
080015C6  4282      2432          clr.l     D2
080015C8  2043      2433          move.l    D3,A0
080015CA  2050      2434          move.l    (A0),A0
080015CC  1010      2435          move.b    (A0),D0
080015CE  0C00 002A 2436          cmp.b     #42,D0
080015D2  6612      2437          bne.s     @doprint_getval_1
080015D4  206E 000C 2438          move.l    12(A6),A0
080015D8  2250      2439          move.l    (A0),A1
080015DA  5890      2440          addq.l    #4,(A0)
080015DC  2411      2441          move.l    (A1),D2
080015DE  2043      2442          move.l    D3,A0
080015E0  5290      2443          addq.l    #1,(A0)
080015E2  6000 0048 2444          bra       @doprint_getval_5
                    2445   @doprint_getval_1:
080015E6  7001      2446          moveq     #1,D0
080015E8  2043      2447          move.l    D3,A0
080015EA  2050      2448          move.l    (A0),A0
080015EC  1210      2449          move.b    (A0),D1
080015EE  4881      2450          ext.w     D1
080015F0  48C1      2451          ext.l     D1
080015F2  D081      2452          add.l     D1,D0
080015F4  41F9 0800 2453          lea       __ctype.L,A0
080015F8  22C2      
080015FA  1030 0800 2454          move.b    0(A0,D0.L),D0
080015FE  C03C 0004 2455          and.b     #4,D0
08001602  6728      2456          beq.s     @doprint_getval_5
08001604  2F02      2457          move.l    D2,-(A7)
08001606  4878 000A 2458          pea       10
0800160A  4EB9 0800 2459          jsr       LMUL
0800160E  1428      
08001610  2017      2460          move.l    (A7),D0
08001612  504F      2461          addq.w    #8,A7
08001614  2043      2462          move.l    D3,A0
08001616  2250      2463          move.l    (A0),A1
08001618  5290      2464          addq.l    #1,(A0)
0800161A  1211      2465          move.b    (A1),D1
0800161C  4881      2466          ext.w     D1
0800161E  48C1      2467          ext.l     D1
08001620  D081      2468          add.l     D1,D0
08001622  0480 0000 2469          sub.l     #48,D0
08001626  0030      
08001628  2400      2470          move.l    D0,D2
0800162A  60BA      2471          bra       @doprint_getval_1
                    2472   @doprint_getval_5:
0800162C  2002      2473          move.l    D2,D0
0800162E  4CDF 000C 2474          movem.l   (A7)+,D2/D3
08001632  4E5E      2475          unlk      A6
08001634  4E75      2476          rts
                    2477   _doprint:
08001636  4E56 FFCC 2478          link      A6,#-52
0800163A  48E7 3F3C 2479          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
0800163E  45EE 0008 2480          lea       8(A6),A2
08001642  47F9 0800 2481          lea       @doprint_copy.L,A3
08001646  158E      
08001648  49F9 0800 2482          lea       _ultoa.L,A4
0800164C  1DDA      
0800164E  4286      2483          clr.l     D6
                    2484   doprint_1:
08001650  206E 000C 2485          move.l    12(A6),A0
08001654  4A10      2486          tst.b     (A0)
08001656  6700 05F0 2487          beq       doprint_3
0800165A  206E 000C 2488          move.l    12(A6),A0
0800165E  1010      2489          move.b    (A0),D0
08001660  0C00 0025 2490          cmp.b     #37,D0
08001664  671C      2491          beq.s     doprint_4
08001666  206E 000C 2492          move.l    12(A6),A0
0800166A  52AE 000C 2493          addq.l    #1,12(A6)
0800166E  1210      2494          move.b    (A0),D1
08001670  4881      2495          ext.w     D1
08001672  48C1      2496          ext.l     D1
08001674  2F01      2497          move.l    D1,-(A7)
08001676  2F0A      2498          move.l    A2,-(A7)
08001678  4E93      2499          jsr       (A3)
0800167A  504F      2500          addq.w    #8,A7
0800167C  5286      2501          addq.l    #1,D6
0800167E  6000 05C4 2502          bra       doprint_2
                    2503   doprint_4:
08001682  52AE 000C 2504          addq.l    #1,12(A6)
08001686  422E FFD3 2505          clr.b     -45(A6)
0800168A  422E FFD2 2506          clr.b     -46(A6)
0800168E  422E FFD0 2507          clr.b     -48(A6)
08001692  422E FFCF 2508          clr.b     -49(A6)
08001696  422E FFCE 2509          clr.b     -50(A6)
0800169A  422E FFCD 2510          clr.b     -51(A6)
0800169E  42AE FFFC 2511          clr.l     -4(A6)
080016A2  7AFF      2512          moveq     #-1,D5
080016A4  41EE FFDC 2513          lea       -36(A6),A0
080016A8  2608      2514          move.l    A0,D3
080016AA  2408      2515          move.l    A0,D2
                    2516   doprint_6:
080016AC  206E 000C 2517          move.l    12(A6),A0
080016B0  1010      2518          move.b    (A0),D0
080016B2  4880      2519          ext.w     D0
080016B4  48C0      2520          ext.l     D0
080016B6  0C80 0000 2521          cmp.l     #43,D0
080016BA  002B      
080016BC  6730      2522          beq.s     doprint_12
080016BE  6E18      2523          bgt.s     doprint_15
080016C0  0C80 0000 2524          cmp.l     #35,D0
080016C4  0023      
080016C6  6700 003E 2525          beq       doprint_14
080016CA  6E00 0046 2526          bgt       doprint_9
080016CE  0C80 0000 2527          cmp.l     #32,D0
080016D2  0020      
080016D4  6724      2528          beq.s     doprint_13
080016D6  603A      2529          bra.s     doprint_9
                    2530   doprint_15:
080016D8  0C80 0000 2531          cmp.l     #45,D0
080016DC  002D      
080016DE  6702      2532          beq.s     doprint_11
080016E0  6030      2533          bra.s     doprint_9
                    2534   doprint_11:
080016E2  1D7C 0001 2535          move.b    #1,-51(A6)
080016E6  FFCD      
080016E8  52AE 000C 2536          addq.l    #1,12(A6)
080016EC  6026      2537          bra.s     doprint_7
                    2538   doprint_12:
080016EE  1D7C 0001 2539          move.b    #1,-50(A6)
080016F2  FFCE      
080016F4  52AE 000C 2540          addq.l    #1,12(A6)
080016F8  601A      2541          bra.s     doprint_7
                    2542   doprint_13:
080016FA  1D7C 0001 2543          move.b    #1,-49(A6)
080016FE  FFCF      
08001700  52AE 000C 2544          addq.l    #1,12(A6)
08001704  600E      2545          bra.s     doprint_7
                    2546   doprint_14:
08001706  1D7C 0001 2547          move.b    #1,-48(A6)
0800170A  FFD0      
0800170C  52AE 000C 2548          addq.l    #1,12(A6)
08001710  6002      2549          bra.s     doprint_7
                    2550   doprint_9:
08001712  6002      2551          bra.s     doprint_8
                    2552   doprint_7:
08001714  6096      2553          bra       doprint_6
                    2554   doprint_8:
08001716  206E 000C 2555          move.l    12(A6),A0
0800171A  1010      2556          move.b    (A0),D0
0800171C  0C00 0030 2557          cmp.b     #48,D0
08001720  660A      2558          bne.s     doprint_16
08001722  52AE 000C 2559          addq.l    #1,12(A6)
08001726  1D7C 0001 2560          move.b    #1,-46(A6)
0800172A  FFD2      
                    2561   doprint_16:
0800172C  486E 0010 2562          pea       16(A6)
08001730  486E 000C 2563          pea       12(A6)
08001734  4EB9 0800 2564          jsr       @doprint_getval
08001738  15BA      
0800173A  504F      2565          addq.w    #8,A7
0800173C  2A40      2566          move.l    D0,A5
0800173E  206E 000C 2567          move.l    12(A6),A0
08001742  1010      2568          move.b    (A0),D0
08001744  0C00 002E 2569          cmp.b     #46,D0
08001748  6616      2570          bne.s     doprint_18
0800174A  52AE 000C 2571          addq.l    #1,12(A6)
0800174E  486E 0010 2572          pea       16(A6)
08001752  486E 000C 2573          pea       12(A6)
08001756  4EB9 0800 2574          jsr       @doprint_getval
0800175A  15BA      
0800175C  504F      2575          addq.w    #8,A7
0800175E  2A00      2576          move.l    D0,D5
                    2577   doprint_18:
08001760  206E 000C 2578          move.l    12(A6),A0
08001764  1010      2579          move.b    (A0),D0
08001766  0C00 006C 2580          cmp.b     #108,D0
0800176A  660A      2581          bne.s     doprint_20
0800176C  52AE 000C 2582          addq.l    #1,12(A6)
08001770  1D7C 0001 2583          move.b    #1,-45(A6)
08001774  FFD3      
                    2584   doprint_20:
08001776  206E 000C 2585          move.l    12(A6),A0
0800177A  1010      2586          move.b    (A0),D0
0800177C  4880      2587          ext.w     D0
0800177E  48C0      2588          ext.l     D0
08001780  0C80 0000 2589          cmp.l     #111,D0
08001784  006F      
08001786  6700 00D8 2590          beq       doprint_27
0800178A  6E34      2591          bgt.s     doprint_33
0800178C  0C80 0000 2592          cmp.l     #100,D0
08001790  0064      
08001792  6700 0054 2593          beq       doprint_24
08001796  6E1C      2594          bgt.s     doprint_34
08001798  0C80 0000 2595          cmp.l     #99,D0
0800179C  0063      
0800179E  6700 0130 2596          beq       doprint_30
080017A2  6E00 0174 2597          bgt       doprint_22
080017A6  0C80 0000 2598          cmp.l     #88,D0
080017AA  0058      
080017AC  6700 00EA 2599          beq       doprint_28
080017B0  6000 0166 2600          bra       doprint_22
                    2601   doprint_34:
080017B4  0C80 0000 2602          cmp.l     #105,D0
080017B8  0069      
080017BA  672C      2603          beq.s     doprint_24
080017BC  6000 015A 2604          bra       doprint_22
                    2605   doprint_33:
080017C0  0C80 0000 2606          cmp.l     #117,D0
080017C4  0075      
080017C6  6700 0060 2607          beq       doprint_26
080017CA  6E0E      2608          bgt.s     doprint_35
080017CC  0C80 0000 2609          cmp.l     #115,D0
080017D0  0073      
080017D2  6700 0124 2610          beq       doprint_31
080017D6  6000 0140 2611          bra       doprint_22
                    2612   doprint_35:
080017DA  0C80 0000 2613          cmp.l     #120,D0
080017DE  0078      
080017E0  6700 00B6 2614          beq       doprint_28
080017E4  6000 0132 2615          bra       doprint_22
                    2616   doprint_24:
080017E8  4A2E FFD3 2617          tst.b     -45(A6)
080017EC  671C      2618          beq.s     doprint_36
080017EE  4878 000A 2619          pea       10
080017F2  2F03      2620          move.l    D3,-(A7)
080017F4  206E 0010 2621          move.l    16(A6),A0
080017F8  58AE 0010 2622          addq.l    #4,16(A6)
080017FC  2F10      2623          move.l    (A0),-(A7)
080017FE  4EB9 0800 2624          jsr       _ltoa
08001802  1D52      
08001804  DEFC 000C 2625          add.w     #12,A7
08001808  601A      2626          bra.s     doprint_37
                    2627   doprint_36:
0800180A  4878 000A 2628          pea       10
0800180E  2F03      2629          move.l    D3,-(A7)
08001810  206E 0010 2630          move.l    16(A6),A0
08001814  58AE 0010 2631          addq.l    #4,16(A6)
08001818  2F10      2632          move.l    (A0),-(A7)
0800181A  4EB9 0800 2633          jsr       _ltoa
0800181E  1D52      
08001820  DEFC 000C 2634          add.w     #12,A7
                    2635   doprint_37:
08001824  6000 0100 2636          bra       doprint_23
                    2637   doprint_26:
08001828  4A2E FFD3 2638          tst.b     -45(A6)
0800182C  6718      2639          beq.s     doprint_38
0800182E  4878 000A 2640          pea       10
08001832  2F03      2641          move.l    D3,-(A7)
08001834  206E 0010 2642          move.l    16(A6),A0
08001838  58AE 0010 2643          addq.l    #4,16(A6)
0800183C  2F10      2644          move.l    (A0),-(A7)
0800183E  4E94      2645          jsr       (A4)
08001840  DEFC 000C 2646          add.w     #12,A7
08001844  6016      2647          bra.s     doprint_39
                    2648   doprint_38:
08001846  4878 000A 2649          pea       10
0800184A  2F03      2650          move.l    D3,-(A7)
0800184C  206E 0010 2651          move.l    16(A6),A0
08001850  58AE 0010 2652          addq.l    #4,16(A6)
08001854  2F10      2653          move.l    (A0),-(A7)
08001856  4E94      2654          jsr       (A4)
08001858  DEFC 000C 2655          add.w     #12,A7
                    2656   doprint_39:
0800185C  6000 00C8 2657          bra       doprint_23
                    2658   doprint_27:
08001860  4A2E FFD3 2659          tst.b     -45(A6)
08001864  6718      2660          beq.s     doprint_40
08001866  4878 0008 2661          pea       8
0800186A  2F03      2662          move.l    D3,-(A7)
0800186C  206E 0010 2663          move.l    16(A6),A0
08001870  58AE 0010 2664          addq.l    #4,16(A6)
08001874  2F10      2665          move.l    (A0),-(A7)
08001876  4E94      2666          jsr       (A4)
08001878  DEFC 000C 2667          add.w     #12,A7
0800187C  6016      2668          bra.s     doprint_41
                    2669   doprint_40:
0800187E  4878 0008 2670          pea       8
08001882  2F03      2671          move.l    D3,-(A7)
08001884  206E 0010 2672          move.l    16(A6),A0
08001888  58AE 0010 2673          addq.l    #4,16(A6)
0800188C  2F10      2674          move.l    (A0),-(A7)
0800188E  4E94      2675          jsr       (A4)
08001890  DEFC 000C 2676          add.w     #12,A7
                    2677   doprint_41:
08001894  6000 0090 2678          bra       doprint_23
                    2679   doprint_28:
08001898  4A2E FFD3 2680          tst.b     -45(A6)
0800189C  6718      2681          beq.s     doprint_42
0800189E  4878 0010 2682          pea       16
080018A2  2F03      2683          move.l    D3,-(A7)
080018A4  206E 0010 2684          move.l    16(A6),A0
080018A8  58AE 0010 2685          addq.l    #4,16(A6)
080018AC  2F10      2686          move.l    (A0),-(A7)
080018AE  4E94      2687          jsr       (A4)
080018B0  DEFC 000C 2688          add.w     #12,A7
080018B4  6016      2689          bra.s     doprint_43
                    2690   doprint_42:
080018B6  4878 0010 2691          pea       16
080018BA  2F03      2692          move.l    D3,-(A7)
080018BC  206E 0010 2693          move.l    16(A6),A0
080018C0  58AE 0010 2694          addq.l    #4,16(A6)
080018C4  2F10      2695          move.l    (A0),-(A7)
080018C6  4E94      2696          jsr       (A4)
080018C8  DEFC 000C 2697          add.w     #12,A7
                    2698   doprint_43:
080018CC  6000 0058 2699          bra       doprint_23
                    2700   doprint_30:
080018D0  206E 0010 2701          move.l    16(A6),A0
080018D4  58AE 0010 2702          addq.l    #4,16(A6)
080018D8  2010      2703          move.l    (A0),D0
080018DA  2042      2704          move.l    D2,A0
080018DC  5282      2705          addq.l    #1,D2
080018DE  1080      2706          move.b    D0,(A0)
080018E0  2042      2707          move.l    D2,A0
080018E2  4210      2708          clr.b     (A0)
080018E4  200D      2709          move.l    A5,D0
080018E6  6704      2710          beq.s     doprint_44
080018E8  200D      2711          move.l    A5,D0
080018EA  6006      2712          bra.s     doprint_45
                    2713   doprint_44:
080018EC  7001      2714          moveq     #1,D0
080018EE  4880      2715          ext.w     D0
080018F0  48C0      2716          ext.l     D0
                    2717   doprint_45:
080018F2  2A00      2718          move.l    D0,D5
080018F4  6000 0030 2719          bra       doprint_23
                    2720   doprint_31:
080018F8  206E 0010 2721          move.l    16(A6),A0
080018FC  58AE 0010 2722          addq.l    #4,16(A6)
08001900  2610      2723          move.l    (A0),D3
08001902  0C85 FFFF 2724          cmp.l     #-1,D5
08001906  FFFF      
08001908  660C      2725          bne.s     doprint_46
0800190A  2F03      2726          move.l    D3,-(A7)
0800190C  4EB9 0800 2727          jsr       _strlen
08001910  1E40      
08001912  584F      2728          addq.w    #4,A7
08001914  2A00      2729          move.l    D0,D5
                    2730   doprint_46:
08001916  600E      2731          bra.s     doprint_23
                    2732   doprint_22:
08001918  206E 000C 2733          move.l    12(A6),A0
0800191C  2242      2734          move.l    D2,A1
0800191E  5282      2735          addq.l    #1,D2
08001920  1290      2736          move.b    (A0),(A1)
08001922  2042      2737          move.l    D2,A0
08001924  4210      2738          clr.b     (A0)
                    2739   doprint_23:
08001926  2F03      2740          move.l    D3,-(A7)
08001928  4EB9 0800 2741          jsr       _strlen
0800192C  1E40      
0800192E  584F      2742          addq.w    #4,A7
08001930  1800      2743          move.b    D0,D4
08001932  206E 000C 2744          move.l    12(A6),A0
08001936  1010      2745          move.b    (A0),D0
08001938  0C00 0073 2746          cmp.b     #115,D0
0800193C  661C      2747          bne.s     doprint_48
0800193E  0C85 0000 2748          cmp.l     #0,D5
08001942  0000      
08001944  6D14      2749          blt.s     doprint_48
08001946  4884      2750          ext.w     D4
08001948  48C4      2751          ext.l     D4
0800194A  B885      2752          cmp.l     D5,D4
0800194C  6F04      2753          ble.s     doprint_50
0800194E  2005      2754          move.l    D5,D0
08001950  6006      2755          bra.s     doprint_51
                    2756   doprint_50:
08001952  1004      2757          move.b    D4,D0
08001954  4880      2758          ext.w     D0
08001956  48C0      2759          ext.l     D0
                    2760   doprint_51:
08001958  1800      2761          move.b    D0,D4
                    2762   doprint_48:
0800195A  206E 000C 2763          move.l    12(A6),A0
0800195E  1010      2764          move.b    (A0),D0
08001960  0C00 0058 2765          cmp.b     #88,D0
08001964  6600 0028 2766          bne       doprint_56
08001968  41EE FFDC 2767          lea       -36(A6),A0
0800196C  2408      2768          move.l    A0,D2
                    2769   doprint_54:
0800196E  2042      2770          move.l    D2,A0
08001970  4A10      2771          tst.b     (A0)
08001972  671A      2772          beq.s     doprint_56
08001974  2042      2773          move.l    D2,A0
08001976  1210      2774          move.b    (A0),D1
08001978  4881      2775          ext.w     D1
0800197A  48C1      2776          ext.l     D1
0800197C  2F01      2777          move.l    D1,-(A7)
0800197E  4EB9 0800 2778          jsr       _toupper
08001982  155E      
08001984  584F      2779          addq.w    #4,A7
08001986  2042      2780          move.l    D2,A0
08001988  1080      2781          move.b    D0,(A0)
0800198A  5282      2782          addq.l    #1,D2
0800198C  60E0      2783          bra       doprint_54
                    2784   doprint_56:
0800198E  7E00      2785          moveq     #0,D7
08001990  41EE FFD4 2786          lea       -44(A6),A0
08001994  2408      2787          move.l    A0,D2
08001996  206E 000C 2788          move.l    12(A6),A0
0800199A  1010      2789          move.b    (A0),D0
0800199C  0C00 0064 2790          cmp.b     #100,D0
080019A0  670E      2791          beq.s     doprint_59
080019A2  206E 000C 2792          move.l    12(A6),A0
080019A6  1010      2793          move.b    (A0),D0
080019A8  0C00 0069 2794          cmp.b     #105,D0
080019AC  6600 0068 2795          bne       doprint_65
                    2796   doprint_59:
080019B0  102E FFCE 2797          move.b    -50(A6),D0
080019B4  4880      2798          ext.w     D0
080019B6  48C0      2799          ext.l     D0
080019B8  4A80      2800          tst.l     D0
080019BA  660C      2801          bne.s     doprint_62
080019BC  2043      2802          move.l    D3,A0
080019BE  1010      2803          move.b    (A0),D0
080019C0  0C00 002D 2804          cmp.b     #45,D0
080019C4  6600 0028 2805          bne       doprint_60
                    2806   doprint_62:
080019C8  2043      2807          move.l    D3,A0
080019CA  1010      2808          move.b    (A0),D0
080019CC  0C00 002D 2809          cmp.b     #45,D0
080019D0  660E      2810          bne.s     doprint_63
080019D2  2043      2811          move.l    D3,A0
080019D4  5283      2812          addq.l    #1,D3
080019D6  2242      2813          move.l    D2,A1
080019D8  5282      2814          addq.l    #1,D2
080019DA  1290      2815          move.b    (A0),(A1)
080019DC  5304      2816          subq.b    #1,D4
080019DE  6008      2817          bra.s     doprint_64
                    2818   doprint_63:
080019E0  2042      2819          move.l    D2,A0
080019E2  5282      2820          addq.l    #1,D2
080019E4  10BC 002B 2821          move.b    #43,(A0)
                    2822   doprint_64:
080019E8  5287      2823          addq.l    #1,D7
080019EA  6000 002A 2824          bra       doprint_65
                    2825   doprint_60:
080019EE  4A2E FFCF 2826          tst.b     -49(A6)
080019F2  6722      2827          beq.s     doprint_65
080019F4  2043      2828          move.l    D3,A0
080019F6  1010      2829          move.b    (A0),D0
080019F8  0C00 002D 2830          cmp.b     #45,D0
080019FC  660E      2831          bne.s     doprint_67
080019FE  2043      2832          move.l    D3,A0
08001A00  5283      2833          addq.l    #1,D3
08001A02  2242      2834          move.l    D2,A1
08001A04  5282      2835          addq.l    #1,D2
08001A06  1290      2836          move.b    (A0),(A1)
08001A08  5304      2837          subq.b    #1,D4
08001A0A  6008      2838          bra.s     doprint_68
                    2839   doprint_67:
08001A0C  2042      2840          move.l    D2,A0
08001A0E  5282      2841          addq.l    #1,D2
08001A10  10BC 0020 2842          move.b    #32,(A0)
                    2843   doprint_68:
08001A14  5287      2844          addq.l    #1,D7
                    2845   doprint_65:
08001A16  4A2E FFD0 2846          tst.b     -48(A6)
08001A1A  6700 005A 2847          beq       doprint_77
08001A1E  206E 000C 2848          move.l    12(A6),A0
08001A22  1010      2849          move.b    (A0),D0
08001A24  4880      2850          ext.w     D0
08001A26  48C0      2851          ext.l     D0
08001A28  0C80 0000 2852          cmp.l     #111,D0
08001A2C  006F      
08001A2E  671A      2853          beq.s     doprint_73
08001A30  6E0C      2854          bgt.s     doprint_76
08001A32  0C80 0000 2855          cmp.l     #88,D0
08001A36  0058      
08001A38  6710      2856          beq.s     doprint_73
08001A3A  6000 003A 2857          bra       doprint_77
                    2858   doprint_76:
08001A3E  0C80 0000 2859          cmp.l     #120,D0
08001A42  0078      
08001A44  6704      2860          beq.s     doprint_73
08001A46  6000 002E 2861          bra       doprint_77
                    2862   doprint_73:
08001A4A  2042      2863          move.l    D2,A0
08001A4C  5282      2864          addq.l    #1,D2
08001A4E  10BC 0030 2865          move.b    #48,(A0)
08001A52  5287      2866          addq.l    #1,D7
08001A54  206E 000C 2867          move.l    12(A6),A0
08001A58  1010      2868          move.b    (A0),D0
08001A5A  0C00 0078 2869          cmp.b     #120,D0
08001A5E  670C      2870          beq.s     doprint_79
08001A60  206E 000C 2871          move.l    12(A6),A0
08001A64  1010      2872          move.b    (A0),D0
08001A66  0C00 0058 2873          cmp.b     #88,D0
08001A6A  660A      2874          bne.s     doprint_77
                    2875   doprint_79:
08001A6C  2042      2876          move.l    D2,A0
08001A6E  5282      2877          addq.l    #1,D2
08001A70  10BC 0078 2878          move.b    #120,(A0)
08001A74  5287      2879          addq.l    #1,D7
                    2880   doprint_77:
08001A76  2042      2881          move.l    D2,A0
08001A78  4210      2882          clr.b     (A0)
08001A7A  206E 000C 2883          move.l    12(A6),A0
08001A7E  1010      2884          move.b    (A0),D0
08001A80  4880      2885          ext.w     D0
08001A82  48C0      2886          ext.l     D0
08001A84  0C80 0000 2887          cmp.l     #105,D0
08001A88  0069      
08001A8A  6700 0076 2888          beq       doprint_82
08001A8E  6E42      2889          bgt.s     doprint_93
08001A90  0C80 0000 2890          cmp.l     #99,D0
08001A94  0063      
08001A96  6700 0084 2891          beq       doprint_96
08001A9A  6E1C      2892          bgt.s     doprint_94
08001A9C  0C80 0000 2893          cmp.l     #88,D0
08001AA0  0058      
08001AA2  6700 005E 2894          beq       doprint_82
08001AA6  6E00 0184 2895          bgt       doprint_80
08001AAA  0C80 0000 2896          cmp.l     #69,D0
08001AAE  0045      
08001AB0  6700 0050 2897          beq       doprint_82
08001AB4  6000 0176 2898          bra       doprint_80
                    2899   doprint_94:
08001AB8  0C80 0000 2900          cmp.l     #101,D0
08001ABC  0065      
08001ABE  6700 0042 2901          beq       doprint_82
08001AC2  6E00 0168 2902          bgt       doprint_80
08001AC6  0C80 0000 2903          cmp.l     #100,D0
08001ACA  0064      
08001ACC  6734      2904          beq.s     doprint_82
08001ACE  6000 015C 2905          bra       doprint_80
                    2906   doprint_93:
08001AD2  0C80 0000 2907          cmp.l     #117,D0
08001AD6  0075      
08001AD8  6728      2908          beq.s     doprint_82
08001ADA  6E1A      2909          bgt.s     doprint_95
08001ADC  0C80 0000 2910          cmp.l     #115,D0
08001AE0  0073      
08001AE2  6700 0038 2911          beq       doprint_96
08001AE6  6E00 0144 2912          bgt       doprint_80
08001AEA  0C80 0000 2913          cmp.l     #111,D0
08001AEE  006F      
08001AF0  6710      2914          beq.s     doprint_82
08001AF2  6000 0138 2915          bra       doprint_80
                    2916   doprint_95:
08001AF6  0C80 0000 2917          cmp.l     #120,D0
08001AFA  0078      
08001AFC  6704      2918          beq.s     doprint_82
08001AFE  6000 012C 2919          bra       doprint_80
                    2920   doprint_82:
08001B02  4A2E FFD2 2921          tst.b     -46(A6)
08001B06  6714      2922          beq.s     doprint_96
08001B08  4A2E FFCD 2923          tst.b     -51(A6)
08001B0C  660E      2924          bne.s     doprint_96
08001B0E  200D      2925          move.l    A5,D0
08001B10  9087      2926          sub.l     D7,D0
08001B12  4884      2927          ext.w     D4
08001B14  48C4      2928          ext.l     D4
08001B16  9084      2929          sub.l     D4,D0
08001B18  2D40 FFFC 2930          move.l    D0,-4(A6)
                    2931   doprint_96:
08001B1C  202E FFFC 2932          move.l    -4(A6),D0
08001B20  0C80 0000 2933          cmp.l     #0,D0
08001B24  0000      
08001B26  6C04      2934          bge.s     doprint_98
08001B28  42AE FFFC 2935          clr.l     -4(A6)
                    2936   doprint_98:
08001B2C  4A2E FFCD 2937          tst.b     -51(A6)
08001B30  6600 0030 2938          bne       doprint_104
08001B34  1004      2939          move.b    D4,D0
08001B36  4880      2940          ext.w     D0
08001B38  48C0      2941          ext.l     D0
08001B3A  D0AE FFFC 2942          add.l     -4(A6),D0
08001B3E  D087      2943          add.l     D7,D0
08001B40  1D40 FFD1 2944          move.b    D0,-47(A6)
                    2945   doprint_102:
08001B44  102E FFD1 2946          move.b    -47(A6),D0
08001B48  4880      2947          ext.w     D0
08001B4A  48C0      2948          ext.l     D0
08001B4C  220D      2949          move.l    A5,D1
08001B4E  534D      2950          subq.w    #1,A5
08001B50  B081      2951          cmp.l     D1,D0
08001B52  6C0E      2952          bge.s     doprint_104
08001B54  4878 0020 2953          pea       32
08001B58  2F0A      2954          move.l    A2,-(A7)
08001B5A  4E93      2955          jsr       (A3)
08001B5C  504F      2956          addq.w    #8,A7
08001B5E  5286      2957          addq.l    #1,D6
08001B60  60E2      2958          bra       doprint_102
                    2959   doprint_104:
08001B62  41EE FFD4 2960          lea       -44(A6),A0
08001B66  2408      2961          move.l    A0,D2
                    2962   doprint_105:
08001B68  2042      2963          move.l    D2,A0
08001B6A  4A10      2964          tst.b     (A0)
08001B6C  6716      2965          beq.s     doprint_107
08001B6E  2042      2966          move.l    D2,A0
08001B70  5282      2967          addq.l    #1,D2
08001B72  1210      2968          move.b    (A0),D1
08001B74  4881      2969          ext.w     D1
08001B76  48C1      2970          ext.l     D1
08001B78  2F01      2971          move.l    D1,-(A7)
08001B7A  2F0A      2972          move.l    A2,-(A7)
08001B7C  4E93      2973          jsr       (A3)
08001B7E  504F      2974          addq.w    #8,A7
08001B80  5286      2975          addq.l    #1,D6
08001B82  60E4      2976          bra       doprint_105
                    2977   doprint_107:
08001B84  202E FFFC 2978          move.l    -4(A6),D0
08001B88  1D40 FFD1 2979          move.b    D0,-47(A6)
                    2980   doprint_108:
08001B8C  102E FFD1 2981          move.b    -47(A6),D0
08001B90  532E FFD1 2982          subq.b    #1,-47(A6)
08001B94  4A00      2983          tst.b     D0
08001B96  670E      2984          beq.s     doprint_110
08001B98  4878 0030 2985          pea       48
08001B9C  2F0A      2986          move.l    A2,-(A7)
08001B9E  4E93      2987          jsr       (A3)
08001BA0  504F      2988          addq.w    #8,A7
08001BA2  5286      2989          addq.l    #1,D6
08001BA4  60E6      2990          bra       doprint_108
                    2991   doprint_110:
08001BA6  2043      2992          move.l    D3,A0
08001BA8  4A10      2993          tst.b     (A0)
08001BAA  6700 0048 2994          beq       doprint_113
08001BAE  206E 000C 2995          move.l    12(A6),A0
08001BB2  1010      2996          move.b    (A0),D0
08001BB4  4880      2997          ext.w     D0
08001BB6  48C0      2998          ext.l     D0
08001BB8  0C80 0000 2999          cmp.l     #115,D0
08001BBC  0073      
08001BBE  670C      3000          beq.s     doprint_116
08001BC0  6E18      3001          bgt.s     doprint_119
08001BC2  0C80 0000 3002          cmp.l     #99,D0
08001BC6  0063      
08001BC8  6702      3003          beq.s     doprint_116
08001BCA  600E      3004          bra.s     doprint_119
                    3005   doprint_116:
08001BCC  2005      3006          move.l    D5,D0
08001BCE  5385      3007          subq.l    #1,D5
08001BD0  0C80 0000 3008          cmp.l     #0,D0
08001BD4  0000      
08001BD6  6E02      3009          bgt.s     doprint_119
08001BD8  6016      3010          bra.s     doprint_115
                    3011   doprint_119:
08001BDA  2043      3012          move.l    D3,A0
08001BDC  5283      3013          addq.l    #1,D3
08001BDE  1210      3014          move.b    (A0),D1
08001BE0  4881      3015          ext.w     D1
08001BE2  48C1      3016          ext.l     D1
08001BE4  2F01      3017          move.l    D1,-(A7)
08001BE6  2F0A      3018          move.l    A2,-(A7)
08001BE8  4E93      3019          jsr       (A3)
08001BEA  504F      3020          addq.w    #8,A7
08001BEC  5286      3021          addq.l    #1,D6
08001BEE  6002      3022          bra.s     doprint_112
                    3023   doprint_115:
08001BF0  6002      3024          bra.s     doprint_113
                    3025   doprint_112:
08001BF2  60B2      3026          bra       doprint_110
                    3027   doprint_113:
08001BF4  4A2E FFCD 3028          tst.b     -51(A6)
08001BF8  6700 0030 3029          beq       doprint_125
08001BFC  1004      3030          move.b    D4,D0
08001BFE  4880      3031          ext.w     D0
08001C00  48C0      3032          ext.l     D0
08001C02  D0AE FFFC 3033          add.l     -4(A6),D0
08001C06  D087      3034          add.l     D7,D0
08001C08  1D40 FFD1 3035          move.b    D0,-47(A6)
                    3036   doprint_123:
08001C0C  102E FFD1 3037          move.b    -47(A6),D0
08001C10  4880      3038          ext.w     D0
08001C12  48C0      3039          ext.l     D0
08001C14  220D      3040          move.l    A5,D1
08001C16  534D      3041          subq.w    #1,A5
08001C18  B081      3042          cmp.l     D1,D0
08001C1A  6C0E      3043          bge.s     doprint_125
08001C1C  4878 0020 3044          pea       32
08001C20  2F0A      3045          move.l    A2,-(A7)
08001C22  4E93      3046          jsr       (A3)
08001C24  504F      3047          addq.w    #8,A7
08001C26  5386      3048          subq.l    #1,D6
08001C28  60E2      3049          bra       doprint_123
                    3050   doprint_125:
08001C2A  6014      3051          bra.s     doprint_81
                    3052   doprint_80:
08001C2C  206E 000C 3053          move.l    12(A6),A0
08001C30  1210      3054          move.b    (A0),D1
08001C32  4881      3055          ext.w     D1
08001C34  48C1      3056          ext.l     D1
08001C36  2F01      3057          move.l    D1,-(A7)
08001C38  2F0A      3058          move.l    A2,-(A7)
08001C3A  4E93      3059          jsr       (A3)
08001C3C  504F      3060          addq.w    #8,A7
08001C3E  5286      3061          addq.l    #1,D6
                    3062   doprint_81:
08001C40  52AE 000C 3063          addq.l    #1,12(A6)
                    3064   doprint_2:
08001C44  6000 FA0A 3065          bra       doprint_1
                    3066   doprint_3:
08001C48  4A92      3067          tst.l     (A2)
08001C4A  6710      3068          beq.s     doprint_126
08001C4C  4201      3069          clr.b     D1
08001C4E  C2BC 0000 3070          and.l     #255,D1
08001C52  00FF      
08001C54  2F01      3071          move.l    D1,-(A7)
08001C56  2F0A      3072          move.l    A2,-(A7)
08001C58  4E93      3073          jsr       (A3)
08001C5A  504F      3074          addq.w    #8,A7
                    3075   doprint_126:
08001C5C  2006      3076          move.l    D6,D0
08001C5E  4CDF 3CFC 3077          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08001C62  4E5E      3078          unlk      A6
08001C64  4E75      3079          rts
                    3080   _putch:
08001C66  4E56 0000 3081          link      A6,#0
08001C6A  2F02      3082          move.l    D2,-(A7)
08001C6C  242E 0008 3083          move.l    8(A6),D2
08001C70  0C82 0000 3084          cmp.l     #10,D2
08001C74  000A      
08001C76  660C      3085          bne.s     putch_1
08001C78  4878 000D 3086          pea       13
08001C7C  4EB9 0800 3087          jsr       __putch
08001C80  006A      
08001C82  584F      3088          addq.w    #4,A7
                    3089   putch_1:
08001C84  2F02      3090          move.l    D2,-(A7)
08001C86  4EB9 0800 3091          jsr       __putch
08001C8A  006A      
08001C8C  584F      3092          addq.w    #4,A7
08001C8E  2002      3093          move.l    D2,D0
08001C90  241F      3094          move.l    (A7)+,D2
08001C92  4E5E      3095          unlk      A6
08001C94  4E75      3096          rts
                    3097   _getch:
08001C96  2F02      3098          move.l    D2,-(A7)
08001C98  2439 0800 3099          move.l    __ungetbuf.L,D2
08001C9C  23D0      
08001C9E  2039 0800 3100          move.l    __ungetbuf.L,D0
08001CA2  23D0      
08001CA4  0C80 FFFF 3101          cmp.l     #-1,D0
08001CA8  FFFF      
08001CAA  670C      3102          beq.s     getch_1
08001CAC  23FC FFFF 3103          move.l    #-1,__ungetbuf.L
08001CB0  FFFF 0800 
08001CB4  23D0      
08001CB6  6012      3104          bra.s     getch_3
                    3105   getch_1:
08001CB8  4EB9 0800 3106          jsr       __getch
08001CBC  003E      
08001CBE  2400      3107          move.l    D0,D2
08001CC0  0C80 0000 3108          cmp.l     #13,D0
08001CC4  000D      
08001CC6  6602      3109          bne.s     getch_3
08001CC8  740A      3110          moveq     #10,D2
                    3111   getch_3:
08001CCA  2002      3112          move.l    D2,D0
08001CCC  241F      3113          move.l    (A7)+,D2
08001CCE  4E75      3114          rts
                    3115   @itoa_convert:
08001CD0  4E56 0000 3116          link      A6,#0
08001CD4  48E7 3C00 3117          movem.l   D2/D3/D4/D5,-(A7)
08001CD8  242E 0008 3118          move.l    8(A6),D2
08001CDC  262E 0010 3119          move.l    16(A6),D3
08001CE0  2A2E 000C 3120          move.l    12(A6),D5
08001CE4  2F05      3121          move.l    D5,-(A7)
08001CE6  2F03      3122          move.l    D3,-(A7)
08001CE8  4EB9 0800 3123          jsr       ULDIV
08001CEC  0A04      
08001CEE  202F 0004 3124          move.l    4(A7),D0
08001CF2  504F      3125          addq.w    #8,A7
08001CF4  2800      3126          move.l    D0,D4
08001CF6  BA83      3127          cmp.l     D3,D5
08001CF8  6520      3128          blo.s     @itoa_convert_1
08001CFA  2F03      3129          move.l    D3,-(A7)
08001CFC  2F05      3130          move.l    D5,-(A7)
08001CFE  2F03      3131          move.l    D3,-(A7)
08001D00  4EB9 0800 3132          jsr       ULDIV
08001D04  0A04      
08001D06  2217      3133          move.l    (A7),D1
08001D08  504F      3134          addq.w    #8,A7
08001D0A  2F01      3135          move.l    D1,-(A7)
08001D0C  2F02      3136          move.l    D2,-(A7)
08001D0E  4EB9 0800 3137          jsr       @itoa_convert
08001D12  1CD0      
08001D14  DEFC 000C 3138          add.w     #12,A7
08001D18  2400      3139          move.l    D0,D2
                    3140   @itoa_convert_1:
08001D1A  0C84 0000 3141          cmp.l     #9,D4
08001D1E  0009      
08001D20  6E0E      3142          bgt.s     @itoa_convert_3
08001D22  2004      3143          move.l    D4,D0
08001D24  7230      3144          moveq     #48,D1
08001D26  C2BC 0000 3145          and.l     #255,D1
08001D2A  00FF      
08001D2C  D081      3146          add.l     D1,D0
08001D2E  6012      3147          bra.s     @itoa_convert_4
                    3148   @itoa_convert_3:
08001D30  2004      3149          move.l    D4,D0
08001D32  7261      3150          moveq     #97,D1
08001D34  C2BC 0000 3151          and.l     #255,D1
08001D38  00FF      
08001D3A  D081      3152          add.l     D1,D0
08001D3C  0480 0000 3153          sub.l     #10,D0
08001D40  000A      
                    3154   @itoa_convert_4:
08001D42  2042      3155          move.l    D2,A0
08001D44  1080      3156          move.b    D0,(A0)
08001D46  2002      3157          move.l    D2,D0
08001D48  5280      3158          addq.l    #1,D0
08001D4A  4CDF 003C 3159          movem.l   (A7)+,D2/D3/D4/D5
08001D4E  4E5E      3160          unlk      A6
08001D50  4E75      3161          rts
                    3162   _ltoa:
08001D52  4E56 0000 3163          link      A6,#0
08001D56  48E7 3C00 3164          movem.l   D2/D3/D4/D5,-(A7)
08001D5A  242E 0008 3165          move.l    8(A6),D2
08001D5E  262E 000C 3166          move.l    12(A6),D3
08001D62  2A2E 0010 3167          move.l    16(A6),D5
08001D66  2803      3168          move.l    D3,D4
08001D68  0C85 0000 3169          cmp.l     #2,D5
08001D6C  0002      
08001D6E  6D08      3170          blt.s     ltoa_3
08001D70  0C85 0000 3171          cmp.l     #36,D5
08001D74  0024      
08001D76  6F06      3172          ble.s     ltoa_1
                    3173   ltoa_3:
08001D78  2003      3174          move.l    D3,D0
08001D7A  6000 0056 3175          bra       ltoa_4
                    3176   ltoa_1:
08001D7E  0C85 0000 3177          cmp.l     #10,D5
08001D82  000A      
08001D84  6600 0034 3178          bne       ltoa_5
08001D88  0C82 0000 3179          cmp.l     #0,D2
08001D8C  0000      
08001D8E  6C2A      3180          bge.s     ltoa_5
08001D90  2002      3181          move.l    D2,D0
08001D92  4480      3182          neg.l     D0
08001D94  2400      3183          move.l    D0,D2
08001D96  0C82 0000 3184          cmp.l     #0,D2
08001D9A  0000      
08001D9C  6C14      3185          bge.s     ltoa_7
08001D9E  4879 0800 3186          pea       @itoa_1.L
08001DA2  23C4      
08001DA4  2F03      3187          move.l    D3,-(A7)
08001DA6  4EB9 0800 3188          jsr       _strcpy
08001DAA  1E52      
08001DAC  504F      3189          addq.w    #8,A7
08001DAE  2003      3190          move.l    D3,D0
08001DB0  6020      3191          bra.s     ltoa_4
                    3192   ltoa_7:
08001DB2  2044      3193          move.l    D4,A0
08001DB4  5284      3194          addq.l    #1,D4
08001DB6  10BC 002D 3195          move.b    #45,(A0)
                    3196   ltoa_5:
08001DBA  2F05      3197          move.l    D5,-(A7)
08001DBC  2F02      3198          move.l    D2,-(A7)
08001DBE  2F04      3199          move.l    D4,-(A7)
08001DC0  4EB9 0800 3200          jsr       @itoa_convert
08001DC4  1CD0      
08001DC6  DEFC 000C 3201          add.w     #12,A7
08001DCA  2800      3202          move.l    D0,D4
08001DCC  2044      3203          move.l    D4,A0
08001DCE  4210      3204          clr.b     (A0)
08001DD0  2003      3205          move.l    D3,D0
                    3206   ltoa_4:
08001DD2  4CDF 003C 3207          movem.l   (A7)+,D2/D3/D4/D5
08001DD6  4E5E      3208          unlk      A6
08001DD8  4E75      3209          rts
                    3210   _ultoa:
08001DDA  4E56 0000 3211          link      A6,#0
08001DDE  48E7 3800 3212          movem.l   D2/D3/D4,-(A7)
08001DE2  262E 0010 3213          move.l    16(A6),D3
08001DE6  282E 000C 3214          move.l    12(A6),D4
08001DEA  2404      3215          move.l    D4,D2
08001DEC  0C83 0000 3216          cmp.l     #2,D3
08001DF0  0002      
08001DF2  6D08      3217          blt.s     ultoa_3
08001DF4  0C83 0000 3218          cmp.l     #36,D3
08001DF8  0024      
08001DFA  6F04      3219          ble.s     ultoa_1
                    3220   ultoa_3:
08001DFC  2004      3221          move.l    D4,D0
08001DFE  601A      3222          bra.s     ultoa_4
                    3223   ultoa_1:
08001E00  2F03      3224          move.l    D3,-(A7)
08001E02  2F2E 0008 3225          move.l    8(A6),-(A7)
08001E06  2F02      3226          move.l    D2,-(A7)
08001E08  4EB9 0800 3227          jsr       @itoa_convert
08001E0C  1CD0      
08001E0E  DEFC 000C 3228          add.w     #12,A7
08001E12  2400      3229          move.l    D0,D2
08001E14  2042      3230          move.l    D2,A0
08001E16  4210      3231          clr.b     (A0)
08001E18  2004      3232          move.l    D4,D0
                    3233   ultoa_4:
08001E1A  4CDF 001C 3234          movem.l   (A7)+,D2/D3/D4
08001E1E  4E5E      3235          unlk      A6
08001E20  4E75      3236          rts
                    3237   _itoa:
08001E22  4E56 0000 3238          link      A6,#0
08001E26  2F2E 0010 3239          move.l    16(A6),-(A7)
08001E2A  2F2E 000C 3240          move.l    12(A6),-(A7)
08001E2E  2F2E 0008 3241          move.l    8(A6),-(A7)
08001E32  4EB9 0800 3242          jsr       _ltoa
08001E36  1D52      
08001E38  DEFC 000C 3243          add.w     #12,A7
08001E3C  4E5E      3244          unlk      A6
08001E3E  4E75      3245          rts
                    3246   _strlen:
08001E40  206F 0004 3247          move.l    (4,A7),A0
08001E44  2248      3248          move.l    A0,A1
                    3249   strlen_1:
08001E46  4A19      3250          tst.b     (A1)+
08001E48  66FC      3251          bne       strlen_1
08001E4A  2009      3252          move.l    A1,D0
08001E4C  9088      3253          sub.l     A0,D0
08001E4E  5380      3254          subq.l    #1,D0
08001E50  4E75      3255          rts
                    3256   _strcpy:
08001E52  206F 0004 3257          move.l    (4,A7),A0
08001E56  226F 0008 3258          move.l    (8,A7),A1
08001E5A  2008      3259          move.l    A0,D0
                    3260   strcpy_1:
08001E5C  10D9      3261          move.b    (A1)+,(A0)+
08001E5E  66FC      3262          bne.s     strcpy_1
08001E60  4E75      3263          rts
                    3264          section   const
08001E62            3265                   align
                    3266   
                    3267   
                    3268   @m68kus~1_1:
08001E62  5365 7175 3269          dc.b      83,101,113,117,101,110,116,105,97,108,66,108
08001E66  656E 7469 
08001E6A  616C 426C 
08001E6E  6F63 6B57 3270          dc.b      111,99,107,87,114,105,116,101,58,32,83,105,122
08001E72  7269 7465 
08001E76  3A20 5369 
08001E7A  7A        
08001E7B  6520 6F66 3271          dc.b      101,32,111,102,32,73,110,112,117,116,32,68,97
08001E7F  2049 6E70 
08001E83  7574 2044 
08001E87  61        
08001E88  7461 2042 3272          dc.b      116,97,32,66,108,111,99,107,32,99,97,110,110
08001E8C  6C6F 636B 
08001E90  2063 616E 
08001E94  6E        
08001E95  6F74 2065 3273          dc.b      111,116,32,101,120,99,101,101,100,32,49,50,56
08001E99  7863 6565 
08001E9D  6420 3132 
08001EA1  38        
08001EA2  6B42 7974 3274          dc.b      107,66,121,116,101,115,13,10,0
08001EA6  6573 0D0A 
08001EAA  00        
                    3275   @m68kus~1_2:
08001EAC  5365 7175 3276          dc.b      83,101,113,117,101,110,116,105,97,108,66,108
08001EB0  656E 7469 
08001EB4  616C 426C 
08001EB8  6F63 6B57 3277          dc.b      111,99,107,87,114,105,116,101,58,32,69,110,116
08001EBC  7269 7465 
08001EC0  3A20 456E 
08001EC4  74        
08001EC5  6572 6564 3278          dc.b      101,114,101,100,32,65,100,100,114,101,115,115
08001EC9  2041 6464 
08001ECD  7265 7373 
08001ED1  204F 7574 3279          dc.b      32,79,117,116,32,111,102,32,82,97,110,103,101
08001ED5  206F 6620 
08001ED9  5261 6E67 
08001EDD  65        
08001EDE  0D0A 00   3280          dc.b      13,10,0
                    3281   @m68kus~1_3:
08001EE2  5065 7266 3282          dc.b      80,101,114,102,111,114,109,105,110,103,32,83
08001EE6  6F72 6D69 
08001EEA  6E67 2053 
08001EEE  6571 7565 3283          dc.b      101,113,117,101,110,116,105,97,108,32,66,108
08001EF2  6E74 6961 
08001EF6  6C20 426C 
08001EFA  6F63 6B20 3284          dc.b      111,99,107,32,87,114,105,116,101,32,116,111
08001EFE  5772 6974 
08001F02  6520 746F 
08001F06  2045 4550 3285          dc.b      32,69,69,80,82,79,77,13,10,0
08001F0A  524F 4D0D 
08001F0E  0A00      
                    3286   @m68kus~1_4:
08001F10  5365 7175 3287          dc.b      83,101,113,117,101,110,116,105,97,108,32,66
08001F14  656E 7469 
08001F18  616C 2042 
08001F1C  6C6F 636B 3288          dc.b      108,111,99,107,32,87,114,105,116,101,32,67,111
08001F20  2057 7269 
08001F24  7465 2043 
08001F28  6F        
08001F29  6D70 6C65 3289          dc.b      109,112,108,101,116,101,100,33,13,10,13,10,0
08001F2D  7465 6421 
08001F31  0D0A 0D0A 
08001F35  00        
                    3290   @m68kus~1_5:
08001F36  5574 696C 3291          dc.b      85,116,105,108,83,101,113,117,101,110,116,105
08001F3A  5365 7175 
08001F3E  656E 7469 
08001F42  616C 426C 3292          dc.b      97,108,66,108,111,99,107,87,114,105,116,101
08001F46  6F63 6B57 
08001F4A  7269 7465 
08001F4E  3A20 4E6F 3293          dc.b      58,32,78,111,32,65,67,75,32,114,101,116,117
08001F52  2041 434B 
08001F56  2072 6574 
08001F5A  75        
08001F5B  726E 6564 3294          dc.b      114,110,101,100,32,102,111,114,32,98,121,116
08001F5F  2066 6F72 
08001F63  2062 7974 
08001F67  6520 6174 3295          dc.b      101,32,97,116,32,48,120,37,88,13,10,0
08001F6B  2030 7825 
08001F6F  580D 0A00 
                    3296   @m68kus~1_6:
08001F74  5772 6974 3297          dc.b      87,114,105,116,105,110,103,32,80,97,103,101
08001F78  696E 6720 
08001F7C  5061 6765 
08001F80  2074 6F20 3298          dc.b      32,116,111,32,69,69,80,82,79,77,13,10,0
08001F84  4545 5052 
08001F88  4F4D 0D0A 
08001F8C  00        
                    3299   @m68kus~1_7:
08001F8E  4E6F 2041 3300          dc.b      78,111,32,65,67,75,32,114,101,116,117,114,110
08001F92  434B 2072 
08001F96  6574 7572 
08001F9A  6E        
08001F9B  6564 2066 3301          dc.b      101,100,32,102,111,114,32,98,121,116,101,32
08001F9F  6F72 2062 
08001FA3  7974 6520 
08001FA7  2325 640D 3302          dc.b      35,37,100,13,10,0
08001FAB  0A00      
                    3303   @m68kus~1_8:
08001FAE  5772 6974 3304          dc.b      87,114,105,116,105,110,103,32,66,121,116,101
08001FB2  696E 6720 
08001FB6  4279 7465 
08001FBA  2074 6F20 3305          dc.b      32,116,111,32,69,69,80,82,79,77,13,10,0
08001FBE  4545 5052 
08001FC2  4F4D 0D0A 
08001FC6  00        
                    3306   @m68kus~1_9:
08001FC8  4E6F 2041 3307          dc.b      78,111,32,65,67,75,32,114,101,116,117,114,110
08001FCC  434B 2072 
08001FD0  6574 7572 
08001FD4  6E        
08001FD5  6564 0D0A 3308          dc.b      101,100,13,10,0
08001FD9  00        
                    3309   @m68kus~1_10:
08001FDA  5761 6974 3310          dc.b      87,97,105,116,105,110,103,32,102,111,114,32
08001FDE  696E 6720 
08001FE2  666F 7220 
08001FE6  496E 7465 3311          dc.b      73,110,116,101,114,110,97,108,32,87,114,105
08001FEA  726E 616C 
08001FEE  2057 7269 
08001FF2  7465 210D 3312          dc.b      116,101,33,13,10,0
08001FF6  0A00      
                    3313   @m68kus~1_11:
08001FF8  496E 7465 3314          dc.b      73,110,116,101,114,110,97,108,32,87,114,105
08001FFC  726E 616C 
08002000  2057 7269 
08002004  7465 2043 3315          dc.b      116,101,32,67,111,109,112,108,101,116,101,33
08002008  6F6D 706C 
0800200C  6574 6521 
08002010  0D0A 00   3316          dc.b      13,10,0
                    3317   @m68kus~1_12:
08002014  5365 7175 3318          dc.b      83,101,113,117,101,110,116,105,97,108,66,108
08002018  656E 7469 
0800201C  616C 426C 
08002020  6F63 6B52 3319          dc.b      111,99,107,82,101,97,100,58,32,83,105,122,101
08002024  6561 643A 
08002028  2053 697A 
0800202C  65        
0800202D  206F 6620 3320          dc.b      32,111,102,32,73,110,112,117,116,32,68,97,116
08002031  496E 7075 
08002035  7420 4461 
08002039  74        
0800203A  6120 426C 3321          dc.b      97,32,66,108,111,99,107,32,99,97,110,110,111
0800203E  6F63 6B20 
08002042  6361 6E6E 
08002046  6F        
08002047  7420 6578 3322          dc.b      116,32,101,120,99,101,101,100,32,49,50,56,107
0800204B  6365 6564 
0800204F  2031 3238 
08002053  6B        
08002054  4279 7465 3323          dc.b      66,121,116,101,115,13,10,0
08002058  730D 0A00 
                    3324   @m68kus~1_13:
0800205C  5365 7175 3325          dc.b      83,101,113,117,101,110,116,105,97,108,66,108
08002060  656E 7469 
08002064  616C 426C 
08002068  6F63 6B52 3326          dc.b      111,99,107,82,101,97,100,58,32,69,110,116,101
0800206C  6561 643A 
08002070  2045 6E74 
08002074  65        
08002075  7265 6420 3327          dc.b      114,101,100,32,65,100,100,114,101,115,115,32
08002079  4164 6472 
0800207D  6573 7320 
08002081  4F75 7420 3328          dc.b      79,117,116,32,111,102,32,82,97,110,103,101,13
08002085  6F66 2052 
08002089  616E 6765 
0800208D  0D        
0800208E  0A00      3329          dc.b      10,0
                    3330   @m68kus~1_14:
08002090  5374 6172 3331          dc.b      83,116,97,114,116,105,110,103,32,83,101,113
08002094  7469 6E67 
08002098  2053 6571 
0800209C  7565 6E74 3332          dc.b      117,101,110,116,105,97,108,32,66,108,111,99
080020A0  6961 6C20 
080020A4  426C 6F63 
080020A8  6B20 5265 3333          dc.b      107,32,82,101,97,100,46,46,46,13,10,0
080020AC  6164 2E2E 
080020B0  2E0D 0A00 
                    3334   @m68kus~1_15:
080020B4  5365 7175 3335          dc.b      83,101,113,117,101,110,116,105,97,108,32,66
080020B8  656E 7469 
080020BC  616C 2042 
080020C0  6C6F 636B 3336          dc.b      108,111,99,107,32,82,101,97,100,32,70,97,105
080020C4  2052 6561 
080020C8  6420 4661 
080020CC  69        
080020CD  6C65 6421 3337          dc.b      108,101,100,33,13,10,0
080020D1  0D0A 00   
                    3338   @m68kus~1_16:
080020D4  5365 7175 3339          dc.b      83,101,113,117,101,110,116,105,97,108,32,66
080020D8  656E 7469 
080020DC  616C 2042 
080020E0  6C6F 636B 3340          dc.b      108,111,99,107,32,82,101,97,100,32,115,117,99
080020E4  2052 6561 
080020E8  6420 7375 
080020EC  63        
080020ED  6365 7373 3341          dc.b      99,101,115,115,102,117,108,33,13,10,0
080020F1  6675 6C21 
080020F5  0D0A 00   
                    3342   @m68kus~1_17:
080020F8  4E6F 2041 3343          dc.b      78,111,32,65,67,75,32,114,101,116,117,114,110
080020FC  434B 2072 
08002100  6574 7572 
08002104  6E        
08002105  6564 2066 3344          dc.b      101,100,32,102,111,114,32,114,101,97,100,32
08002109  6F72 2072 
0800210D  6561 6420 
08002111  6174 2061 3345          dc.b      97,116,32,97,100,100,114,101,115,115,58,32,48
08002115  6464 7265 
08002119  7373 3A20 
0800211D  30        
0800211E  7825 580D 3346          dc.b      120,37,88,13,10,0
08002122  0A00      
                    3347   @m68kus~1_18:
08002124  5365 7175 3348          dc.b      83,101,113,117,101,110,116,105,97,108,32,82
08002128  656E 7469 
0800212C  616C 2052 
08002130  6561 6420 3349          dc.b      101,97,100,32,69,114,114,111,114,32,97,116,32
08002134  4572 726F 
08002138  7220 6174 
0800213C  20        
0800213D  6164 6472 3350          dc.b      97,100,100,114,101,115,115,58,32,48,120,37,88
08002141  6573 733A 
08002145  2030 7825 
08002149  58        
0800214A  0D0A 00   3351          dc.b      13,10,0
                    3352   @m68kus~1_19:
0800214E  5265 6164 3353          dc.b      82,101,97,100,105,110,103,32,80,97,103,101,32
08002152  696E 6720 
08002156  5061 6765 
0800215A  20        
0800215B  6672 6F6D 3354          dc.b      102,114,111,109,32,69,69,80,82,79,77,32,13,10
0800215F  2045 4550 
08002163  524F 4D20 
08002167  0D0A      
08002169  00        3355          dc.b      0
                    3356   @m68kus~1_20:
0800216A  5061 6765 3357          dc.b      80,97,103,101,32,82,101,97,100,32,70,97,105
0800216E  2052 6561 
08002172  6420 4661 
08002176  69        
08002177  6C65 6420 3358          dc.b      108,101,100,32,97,116,32,66,121,116,101,32,35
0800217B  6174 2042 
0800217F  7974 6520 
08002183  23        
08002184  2564 0D0A 3359          dc.b      37,100,13,10,0
08002188  00        
                    3360   @m68kus~1_21:
0800218A  5061 6765 3361          dc.b      80,97,103,101,32,82,101,97,100,32,83,117,99
0800218E  2052 6561 
08002192  6420 5375 
08002196  63        
08002197  6365 7373 3362          dc.b      99,101,115,115,102,117,108,13,10,0
0800219B  6675 6C0D 
0800219F  0A00      
                    3363   @m68kus~1_22:
080021A2  5265 6164 3364          dc.b      82,101,97,100,105,110,103,32,66,121,116,101
080021A6  696E 6720 
080021AA  4279 7465 
080021AE  2066 726F 3365          dc.b      32,102,114,111,109,32,69,69,80,82,79,77,32,13
080021B2  6D20 4545 
080021B6  5052 4F4D 
080021BA  200D      
080021BC  0A00      3366          dc.b      10,0
                    3367   @m68kus~1_23:
080021BE  5772 6974 3368          dc.b      87,114,105,116,105,110,103,32,99,111,110,116
080021C2  696E 6720 
080021C6  636F 6E74 
080021CA  696E 756F 3369          dc.b      105,110,117,111,117,115,32,100,97,116,97,32
080021CE  7573 2064 
080021D2  6174 6120 
080021D6  746F 2041 3370          dc.b      116,111,32,65,68,67,13,10,0
080021DA  4443 0D0A 
080021DE  00        
                    3371   @m68kus~1_24:
080021E0  6E6F 2041 3372          dc.b      110,111,32,65,67,75,32,114,101,116,117,114,110
080021E4  434B 2072 
080021E8  6574 7572 
080021EC  6E        
080021ED  6564 00   3373          dc.b      101,100,0
                    3374   @m68kus~1_25:
080021F0  4765 6E65 3375          dc.b      71,101,110,101,114,97,116,105,110,103,32,100
080021F4  7261 7469 
080021F8  6E67 2064 
080021FC  6967 6974 3376          dc.b      105,103,105,116,97,108,32,118,97,108,117,101
08002200  616C 2076 
08002204  616C 7565 
08002208  2066 6F72 3377          dc.b      32,102,111,114,32,97,110,97,108,111,110,103
0800220C  2061 6E61 
08002210  6C6F 6E67 
08002214  2069 6E70 3378          dc.b      32,105,110,112,117,116,32,111,110,32,112,105
08002218  7574 206F 
0800221C  6E20 7069 
08002220  6E20 4149 3379          dc.b      110,32,65,73,78,48,32,13,10,0
08002224  4E30 200D 
08002228  0A00      
                    3380   @m68kus~1_26:
0800222A  5468 6520 3381          dc.b      84,104,101,32,100,105,103,105,116,97,108,32
0800222E  6469 6769 
08002232  7461 6C20 
08002236  7661 6C75 3382          dc.b      118,97,108,117,101,32,111,110,32,112,105,110
0800223A  6520 6F6E 
0800223E  2070 696E 
08002242  2041 696E 3383          dc.b      32,65,105,110,48,32,105,115,58,32,48,32,86,32
08002246  3020 6973 
0800224A  3A20 3020 
0800224E  5620      
08002250  0D0A 00   3384          dc.b      13,10,0
                    3385   @m68kus~1_27:
08002254  5468 6520 3386          dc.b      84,104,101,32,100,105,103,105,116,97,108,32
08002258  6469 6769 
0800225C  7461 6C20 
08002260  7661 6C75 3387          dc.b      118,97,108,117,101,32,111,110,32,112,105,110
08002264  6520 6F6E 
08002268  2070 696E 
0800226C  2041 696E 3388          dc.b      32,65,105,110,48,32,105,115,58,32,37,100,32
08002270  3020 6973 
08002274  3A20 2564 
08002278  20        
08002279  5620 0D0A 3389          dc.b      86,32,13,10,0
0800227D  00        
                    3390   @m68kus~1_28:
0800227E  0D0A 4865 3391          dc.b      13,10,72,101,108,108,111,32,73,73,67,32,76,97
08002282  6C6C 6F20 
08002286  4949 4320 
0800228A  4C61      
0800228C  620D 0A0D 3392          dc.b      98,13,10,13,10,0
08002290  0A00      
                    3393   @m68kus~1_29:
08002292  0D0A 00   3394          dc.b      13,10,0
                    3395   @m68kus~1_30:
08002296  5365 6E74 3396          dc.b      83,101,110,116,32,66,121,116,101,58,32,48,120
0800229A  2042 7974 
0800229E  653A 2030 
080022A2  78        
080022A3  2558 2026 3397          dc.b      37,88,32,38,32,82,101,99,105,101,118,101,100
080022A7  2052 6563 
080022AB  6965 7665 
080022AF  64        
080022B0  2042 7974 3398          dc.b      32,66,121,116,101,58,32,48,120,37,88,13,10,13
080022B4  653A 2030 
080022B8  7825 580D 
080022BC  0A0D      
080022BE  0A00      3399          dc.b      10,0
                    3400   @doscan_1:
080022C0  0A00      3401          dc.b      10,0
                    3402   __ctype:
080022C2  0040 4040 3403          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
080022C6  4040 4040 
080022CA  4040 5050 
080022CE  5050 50   
080022D1  4040 4040 3404          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
080022D5  4040 4040 
080022D9  4040 4040 
080022DD  4040 40   
080022E0  4040 40D0 3405          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
080022E4  A0A0 A0A0 
080022E8  A0A0 A0A0 
080022EC  A0A0 A0A0 3406          dc.b      160,160,160,160,160,160,160,140,140,140,140
080022F0  A0A0 A08C 
080022F4  8C8C 8C   
080022F7  8C8C 8C8C 3407          dc.b      140,140,140,140,140,140,160,160,160,160,160
080022FB  8C8C A0A0 
080022FF  A0A0 A0   
08002302  A0A0 8A8A 3408          dc.b      160,160,138,138,138,138,138,138,130,130,130
08002306  8A8A 8A8A 
0800230A  8282 82   
0800230D  8282 8282 3409          dc.b      130,130,130,130,130,130,130,130,130,130,130
08002311  8282 8282 
08002315  8282 82   
08002318  8282 8282 3410          dc.b      130,130,130,130,130,130,160,160,160,160,160
0800231C  8282 A0A0 
08002320  A0A0 A0   
08002323  A089 8989 3411          dc.b      160,137,137,137,137,137,137,129,129,129,129
08002327  8989 8981 
0800232B  8181 81   
0800232E  8181 8181 3412          dc.b      129,129,129,129,129,129,129,129,129,129,129
08002332  8181 8181 
08002336  8181 81   
08002339  8181 8181 3413          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
0800233D  81A0 A0A0 
08002341  A040 0000 
08002345  00        
08002346  0000 0000 3414          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800234A  0000 0000 
0800234E  0000 0000 
08002352  0000 0000 
08002356  0000 0000 
0800235A  0000      
0800235C  0000 0000 3415          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08002360  0000 0000 
08002364  0000 0000 
08002368  0000 0000 
0800236C  0000 0000 
08002370  0000      
08002372  0000 0000 3416          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08002376  0000 0000 
0800237A  0000 0000 
0800237E  0000 0000 
08002382  0000 0000 
08002386  0000      
08002388  0000 0000 3417          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800238C  0000 0000 
08002390  0000 0000 
08002394  0000 0000 
08002398  0000 0000 
0800239C  0000      
0800239E  0000 0000 3418          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080023A2  0000 0000 
080023A6  0000 0000 
080023AA  0000 0000 
080023AE  0000 0000 
080023B2  0000      
080023B4  0000 0000 3419          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080023B8  0000 0000 
080023BC  0000 0000 
080023C0  0000 00   
                    3420   @itoa_1:
080023C4  2D32 3134 3421          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
080023C8  3734 3833 
080023CC  3634 3800 
                    3422          section   data
080023D0            3423                   align
                    3424   
                    3425   *********************************************************************************************************************************************************
                    3426   * Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
                    3427   ********************************************************************************************************************************************************
                    3428   
          0800 23D0 3429   DataStart       equ       *
080023D0            3430   __ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
080023D4            3431   __allocp:       ds.l      1                    start of free memory block list
080023D8            3432   __heap:         ds.l      1                    begin of free memory
                    3433   
                    3434   
                    3435   @doscan_lpbuf:
080023DC  0800 23E0 3436          dc.l      @doscan_buf
                    3437          section   bss
080023E0            3438                   align
                    3439   
          0800 23E0 3440   DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
          0000 0010 3441   DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup
                    3442   
                    3443   *********************************************************************************************************
                    3444   * Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
                    3445   *********************************************************************************************************
          0800 23E0 3446   BssStart       equ       *
                    3447   
                    3448   @doscan_buf:
080023E0            3449          ds.b      80
                    3450          section   heap
08002430            3451                  align
                    3452   
          0800 2430 3453   BssEnd         equ       *
          0000 0050 3454   BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup
                    3455   
                    3456   *********************************************************************************************************
                    3457   * Section for Heap
                    3458   *********************************************************************************************************
                    3459   
          0800 2430 3460   heap           equ       *
08002430            3461                  align
          0800 0000

Assembly errors: 0
