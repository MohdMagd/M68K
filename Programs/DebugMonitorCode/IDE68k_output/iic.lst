680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 22 Mar 2019      Time: 20:06:57          Source: C:\M68K\PROGRAMS\DEBUGMONITORCODE\IDE68K_OUTPUT\IIC.SRC

                       1          section   code
                       2   **********************************************************************************************************
                       3   * CSTART.ASM  -  C startup-code
                       4   *
                       5   *          Initialises the system prior to running the users main() program
                       6   *
                       7   *          1) Sets up the user program stack pointer
                       8   *          2) Switches to User mode in the 68000
                       9   *          3) Enables All Interrupts 1-7 on 68000
                      10   *          4) Copies all initialised C program variables from Rom to Ram prior to running main()
                      11   *
                      12   **********************************************************************************************************
00000000              13                   align
                      14   
                      15   
                      16   **********************************************************************************************************
                      17   * The Following ORG Statement marks the address of the start of the this CStart Program
                      18   *
                      19   * The debug Monitor and Flash Load and Program routines assume your program lives here
                      20   **********************************************************************************************************
08000000              21                   org       $08000000
08000000  46FC 2000   22   start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode
                      23   
                      24   ******************************************************************************************
                      25   * Set unitialised global variables to 0 at startup
                      26   ******************************************************************************************
08000004  207C 0800   27   mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
08000008  1880      
0800000A  203C 0000   28                   move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
0800000E  0050      
08000010  6700 0024   29                   beq       go_main               if no data to copy go straight to program
08000014  10FC 0000   30   Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
08000018  5380        31                   subq.l    #1,d0
0800001A  66F8        32                   bne       Zeroinit
                      33   
                      34   *******************************************************************************************
                      35   * last minute initialisation before calling main
                      36   *******************************************************************************************
                      37   
0800001C  23FC FFFF   38                   move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
08000020  FFFF 0800 
08000024  1870      
08000026  42B9 0800   39                   clr.l     __allocp               used by malloc() in C
0800002A  1874      
0800002C  23FC 0800   40                   move.l    #heap,__heap           pointer to free memory
08000030  18D0 0800 
08000034  1878      
08000036  4EB9 0800   41   go_main         jsr       _main
0800003A  0232      
0800003C  60C2        42                   bra       start
                      43   
                      44   ; C:\M68K\PROGRAMS\DEBUGMONITORCODE\IIC EEPROM PROGRAM FILES\M68KUSERPROGRAM (DE1).C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      45   ; #include <stdio.h>
                      46   ; /*********************************************************************************************
                      47   ; **  RS232 port addresses
                      48   ; *********************************************************************************************/
                      49   ; #define RS232_Control     *(volatile unsigned char *)(0x00400040)
                      50   ; #define RS232_Status      *(volatile unsigned char *)(0x00400040)
                      51   ; #define RS232_TxData      *(volatile unsigned char *)(0x00400042)
                      52   ; #define RS232_RxData      *(volatile unsigned char *)(0x00400042)
                      53   ; #define RS232_Baud        *(volatile unsigned char *)(0x00400044)
                      54   ; /*********************************************************************************************
                      55   ; **  IIC registers
                      56   ; *********************************************************************************************/
                      57   ; #define PRERlo *(volatile unsigned char *)(0x00408000) // Clock Prescale register lo-byte
                      58   ; #define PRERhi *(volatile unsigned char *)(0x00408002) // Clock Prescale register hi-byte
                      59   ; #define CTR *(volatile unsigned char *)(0x00408004) // Control Register
                      60   ; #define TXR *(volatile unsigned char *)(0x00408006) // Transmit Register
                      61   ; #define RXR *(volatile unsigned char *)(0x00408006) // Receive Register
                      62   ; #define CR *(volatile unsigned char *)(0x00408008) // Command Register
                      63   ; #define SR *(volatile unsigned char *)(0x00408008) // Status Register
                      64   ; #define startWrite  0x90
                      65   ; #define startRead   0xA8
                      66   ; #define stop        0x41
                      67   ; /*********************************************************************************************
                      68   ; **  Function protoTypes
                      69   ; *********************************************************************************************/
                      70   ; void writeByteToChip(char c);
                      71   ; char readByteFromChip(void);
                      72   ; void waitForTXByte(void);
                      73   ; void waitForReceivedByte(void);
                      74   ; int checkForACK(void);
                      75   ; void IIC_Init(void);
                      76   ; int _getch( void )
                      77   ; {
                      78   __getch:
0800003E  4E56 FFFC   79          link      A6,#-4
                      80   ; char c ;
                      81   ; while((RS232_Status & (char)(0x01)) != (char)(0x01))    // wait for Rx bit in 6850 serial comms chip status register to be '1'
                      82   _getch_1:
08000042  1039 0040   83          move.b    4194368,D0
08000046  0040      
08000048  C03C 0001   84          and.b     #1,D0
0800004C  0C00 0001   85          cmp.b     #1,D0
08000050  6702        86          beq.s     _getch_3
08000052  60EE        87          bra       _getch_1
                      88   _getch_3:
                      89   ; ;
                      90   ; return (RS232_RxData & (char)(0x7f));                   // read received character, mask off top bit and return as 7 bit ASCII character
08000054  1039 0040   91          move.b    4194370,D0
08000058  0042      
0800005A  C0BC 0000   92          and.l     #255,D0
0800005E  00FF      
08000060  C0BC 0000   93          and.l     #127,D0
08000064  007F      
08000066  4E5E        94          unlk      A6
08000068  4E75        95          rts
                      96   ; }
                      97   ; int _putch( int c)
                      98   ; {
                      99   __putch:
0800006A  4E56 0000  100          link      A6,#0
                     101   ; while((RS232_Status & (char)(0x02)) != (char)(0x02))    // wait for Tx bit in status register or 6850 serial comms chip to be '1'
                     102   _putch_1:
0800006E  1039 0040  103          move.b    4194368,D0
08000072  0040      
08000074  C03C 0002  104          and.b     #2,D0
08000078  0C00 0002  105          cmp.b     #2,D0
0800007C  6702       106          beq.s     _putch_3
0800007E  60EE       107          bra       _putch_1
                     108   _putch_3:
                     109   ; ;
                     110   ; RS232_TxData = (c & (char)(0x7f));                      // write to the data register to output the character (mask off bit 8 to keep it 7 bit ASCII)
08000080  202E 0008  111          move.l    8(A6),D0
08000084  C0BC 0000  112          and.l     #127,D0
08000088  007F      
0800008A  13C0 0040  113          move.b    D0,4194370
0800008E  0042      
                     114   ; return c ;                                              // putchar() expects the character to be returned
08000090  202E 0008  115          move.l    8(A6),D0
08000094  4E5E       116          unlk      A6
08000096  4E75       117          rts
                     118   ; }
                     119   ; /*********************************************************************************************
                     120   ; **  Write Byte to EEPROM Chip
                     121   ; *********************************************************************************************/
                     122   ; void writeByteToChip(char c){
                     123   _writeByteToChip:
08000098  4E56 0000  124          link      A6,#0
0800009C  48E7 2030  125          movem.l   D2/A2/A3,-(A7)
080000A0  45F9 0800  126          lea       _waitForTXByte.L,A2
080000A4  01D2      
080000A6  47F9 0800  127          lea       _checkForACK.L,A3
080000AA  01F8      
                     128   ; int checkACKFlag = 0;
080000AC  4282       129          clr.l     D2
                     130   ; waitForTXByte();
080000AE  4E92       131          jsr       (A2)
                     132   ; while(checkACKFlag != 1){
                     133   writeByteToChip_1:
080000B0  0C82 0000  134          cmp.l     #1,D2
080000B4  0001      
080000B6  6718       135          beq.s     writeByteToChip_3
                     136   ; TXR = 0xA0; // Write Control Byte
080000B8  13FC 00A0  137          move.b    #160,4227078
080000BC  0040 8006 
                     138   ; CR = startWrite;
080000C0  13FC 0090  139          move.b    #144,4227080
080000C4  0040 8008 
                     140   ; waitForTXByte();
080000C8  4E92       141          jsr       (A2)
                     142   ; checkACKFlag = checkForACK();
080000CA  4E93       143          jsr       (A3)
080000CC  2400       144          move.l    D0,D2
080000CE  60E0       145          bra       writeByteToChip_1
                     146   writeByteToChip_3:
                     147   ; }
                     148   ; checkACKFlag = 0;
080000D0  4282       149          clr.l     D2
                     150   ; while(checkACKFlag != 1){
                     151   writeByteToChip_4:
080000D2  0C82 0000  152          cmp.l     #1,D2
080000D6  0001      
080000D8  670E       153          beq.s     writeByteToChip_6
                     154   ; TXR = 0x00; // Address Byte 1
080000DA  4239 0040  155          clr.b     4227078
080000DE  8006      
                     156   ; waitForTXByte();
080000E0  4E92       157          jsr       (A2)
                     158   ; checkACKFlag = checkForACK();
080000E2  4E93       159          jsr       (A3)
080000E4  2400       160          move.l    D0,D2
080000E6  60EA       161          bra       writeByteToChip_4
                     162   writeByteToChip_6:
                     163   ; }
                     164   ; checkACKFlag = 0;
080000E8  4282       165          clr.l     D2
                     166   ; while(checkACKFlag != 1){
                     167   writeByteToChip_7:
080000EA  0C82 0000  168          cmp.l     #1,D2
080000EE  0001      
080000F0  670E       169          beq.s     writeByteToChip_9
                     170   ; TXR = 0x00; // Address Byte 2
080000F2  4239 0040  171          clr.b     4227078
080000F6  8006      
                     172   ; waitForTXByte();
080000F8  4E92       173          jsr       (A2)
                     174   ; checkACKFlag = checkForACK();
080000FA  4E93       175          jsr       (A3)
080000FC  2400       176          move.l    D0,D2
080000FE  60EA       177          bra       writeByteToChip_7
                     178   writeByteToChip_9:
                     179   ; }
                     180   ; checkACKFlag = 0;
08000100  4282       181          clr.l     D2
                     182   ; while(checkACKFlag != 1){
                     183   writeByteToChip_10:
08000102  0C82 0000  184          cmp.l     #1,D2
08000106  0001      
08000108  6710       185          beq.s     writeByteToChip_12
                     186   ; TXR = c;    // send 1 byte of data
0800010A  13EE 000B  187          move.b    11(A6),4227078
0800010E  0040 8006 
                     188   ; waitForTXByte();
08000112  4E92       189          jsr       (A2)
                     190   ; checkACKFlag = checkForACK();
08000114  4E93       191          jsr       (A3)
08000116  2400       192          move.l    D0,D2
08000118  60E8       193          bra       writeByteToChip_10
                     194   writeByteToChip_12:
                     195   ; }
                     196   ; CR = stop;
0800011A  13FC 0041  197          move.b    #65,4227080
0800011E  0040 8008 
08000122  4CDF 0C04  198          movem.l   (A7)+,D2/A2/A3
08000126  4E5E       199          unlk      A6
08000128  4E75       200          rts
                     201   ; }
                     202   ; /*********************************************************************************************
                     203   ; **  Read Byte from EEPROM flash
                     204   ; *********************************************************************************************/
                     205   ; char readByteFromChip(void){
                     206   _readByteFromChip:
0800012A  4E56 FFFC  207          link      A6,#-4
0800012E  48E7 2030  208          movem.l   D2/A2/A3,-(A7)
08000132  45F9 0800  209          lea       _checkForACK.L,A2
08000136  01F8      
08000138  47F9 0800  210          lea       _waitForTXByte.L,A3
0800013C  01D2      
                     211   ; int checkACKFlag = 0;
0800013E  4282       212          clr.l     D2
                     213   ; char receivedByte;
                     214   ; while(checkACKFlag != 1){
                     215   readByteFromChip_1:
08000140  0C82 0000  216          cmp.l     #1,D2
08000144  0001      
08000146  6718       217          beq.s     readByteFromChip_3
                     218   ; TXR = 0xA0; // Write Control Byte
08000148  13FC 00A0  219          move.b    #160,4227078
0800014C  0040 8006 
                     220   ; CR = startWrite;
08000150  13FC 0090  221          move.b    #144,4227080
08000154  0040 8008 
                     222   ; waitForTXByte();
08000158  4E93       223          jsr       (A3)
                     224   ; checkACKFlag = checkForACK();
0800015A  4E92       225          jsr       (A2)
0800015C  2400       226          move.l    D0,D2
0800015E  60E0       227          bra       readByteFromChip_1
                     228   readByteFromChip_3:
                     229   ; }
                     230   ; checkACKFlag = 0;
08000160  4282       231          clr.l     D2
                     232   ; while(checkACKFlag != 1){
                     233   readByteFromChip_4:
08000162  0C82 0000  234          cmp.l     #1,D2
08000166  0001      
08000168  670E       235          beq.s     readByteFromChip_6
                     236   ; TXR = 0x00; // Address Byte 1
0800016A  4239 0040  237          clr.b     4227078
0800016E  8006      
                     238   ; waitForTXByte();
08000170  4E93       239          jsr       (A3)
                     240   ; checkACKFlag = checkForACK();
08000172  4E92       241          jsr       (A2)
08000174  2400       242          move.l    D0,D2
08000176  60EA       243          bra       readByteFromChip_4
                     244   readByteFromChip_6:
                     245   ; }
                     246   ; checkACKFlag = 0;
08000178  4282       247          clr.l     D2
                     248   ; while(checkACKFlag != 1){
                     249   readByteFromChip_7:
0800017A  0C82 0000  250          cmp.l     #1,D2
0800017E  0001      
08000180  670E       251          beq.s     readByteFromChip_9
                     252   ; TXR = 0x00; // Address Byte 2
08000182  4239 0040  253          clr.b     4227078
08000186  8006      
                     254   ; waitForTXByte();
08000188  4E93       255          jsr       (A3)
                     256   ; checkACKFlag = checkForACK();
0800018A  4E92       257          jsr       (A2)
0800018C  2400       258          move.l    D0,D2
0800018E  60EA       259          bra       readByteFromChip_7
                     260   readByteFromChip_9:
                     261   ; }
                     262   ; while(checkACKFlag != 1){
                     263   readByteFromChip_10:
08000190  0C82 0000  264          cmp.l     #1,D2
08000194  0001      
08000196  6718       265          beq.s     readByteFromChip_12
                     266   ; TXR = 0xA1; // Read Control Byte
08000198  13FC 00A1  267          move.b    #161,4227078
0800019C  0040 8006 
                     268   ; CR = startRead;
080001A0  13FC 00A8  269          move.b    #168,4227080
080001A4  0040 8008 
                     270   ; waitForTXByte();
080001A8  4E93       271          jsr       (A3)
                     272   ; checkACKFlag = checkForACK();
080001AA  4E92       273          jsr       (A2)
080001AC  2400       274          move.l    D0,D2
080001AE  60E0       275          bra       readByteFromChip_10
                     276   readByteFromChip_12:
                     277   ; }
                     278   ; waitForReceivedByte();
080001B0  4EB9 0800  279          jsr       _waitForReceivedByte
080001B4  01E8      
                     280   ; receivedByte = RXR;
080001B6  1D79 0040  281          move.b    4227078,-1(A6)
080001BA  8006 FFFF 
                     282   ; CR = stop;
080001BE  13FC 0041  283          move.b    #65,4227080
080001C2  0040 8008 
                     284   ; return receivedByte;
080001C6  102E FFFF  285          move.b    -1(A6),D0
080001CA  4CDF 0C04  286          movem.l   (A7)+,D2/A2/A3
080001CE  4E5E       287          unlk      A6
080001D0  4E75       288          rts
                     289   ; }
                     290   ; /*********************************************************************************************
                     291   ; ** Probe SR register to check if TIP bit is clear
                     292   ; *********************************************************************************************/
                     293   ; void waitForTXByte(void){
                     294   _waitForTXByte:
                     295   ; while ((SR & 0x02) >> 1 == 1);
                     296   waitForTXByte_1:
080001D2  1039 0040  297          move.b    4227080,D0
080001D6  8008      
080001D8  C03C 0002  298          and.b     #2,D0
080001DC  E208       299          lsr.b     #1,D0
080001DE  0C00 0001  300          cmp.b     #1,D0
080001E2  6602       301          bne.s     waitForTXByte_3
080001E4  60EC       302          bra       waitForTXByte_1
                     303   waitForTXByte_3:
080001E6  4E75       304          rts
                     305   ; }
                     306   ; /*********************************************************************************************
                     307   ; ** Probe RX register to check if it has received data from slave
                     308   ; *********************************************************************************************/
                     309   ; void waitForReceivedByte(void){
                     310   _waitForReceivedByte:
                     311   ; while ((SR & 0x01) == 0);
                     312   waitForReceivedByte_1:
080001E8  1039 0040  313          move.b    4227080,D0
080001EC  8008      
080001EE  C03C 0001  314          and.b     #1,D0
080001F2  6602       315          bne.s     waitForReceivedByte_3
080001F4  60F2       316          bra       waitForReceivedByte_1
                     317   waitForReceivedByte_3:
080001F6  4E75       318          rts
                     319   ; }
                     320   ; /*********************************************************************************************
                     321   ; ** Probe Status Register to check if slave has ACKed
                     322   ; *********************************************************************************************/
                     323   ; int checkForACK(void){
                     324   _checkForACK:
                     325   ; if ((SR & 0x80) >> 7)
080001F8  1039 0040  326          move.b    4227080,D0
080001FC  8008      
080001FE  C07C 00FF  327          and.w     #255,D0
08000202  C07C 0080  328          and.w     #128,D0
08000206  EE40       329          asr.w     #7,D0
08000208  4A40       330          tst.w     D0
0800020A  6704       331          beq.s     checkForACK_1
                     332   ; return 0;
0800020C  4280       333          clr.l     D0
0800020E  6002       334          bra.s     checkForACK_3
                     335   checkForACK_1:
                     336   ; else return 1;
08000210  7001       337          moveq     #1,D0
                     338   checkForACK_3:
08000212  4E75       339          rts
                     340   ; }
                     341   ; /*********************************************************************************************
                     342   ; ** Initialize IIC Communication
                     343   ; *********************************************************************************************/
                     344   ; void IIC_Init(void){
                     345   _IIC_Init:
                     346   ; // Set Clock Frequency to 100kHz as per page 7 of in IIC controller Document
                     347   ; CTR = 0x00; // Clear EN bit to set clock value first
08000214  4239 0040  348          clr.b     4227076
08000218  8004      
                     349   ; PRERlo = 0x32;
0800021A  13FC 0032  350          move.b    #50,4227072
0800021E  0040 8000 
                     351   ; PRERhi = 0x00;
08000222  4239 0040  352          clr.b     4227074
08000226  8002      
                     353   ; // Enable EN bit (core is disable) & Disable IEN bit (interrupts disable)
                     354   ; CTR = 0x80;
08000228  13FC 0080  355          move.b    #128,4227076
0800022C  0040 8004 
08000230  4E75       356          rts
                     357   ; }
                     358   ; void main(void)
                     359   ; {
                     360   _main:
08000232  4E56 FFFC  361          link      A6,#-4
08000236  48E7 2020  362          movem.l   D2/A2,-(A7)
0800023A  45F9 0800  363          lea       _printf.L,A2
0800023E  0B9A      
                     364   ; char sendByte = 's';
08000240  7473       365          moveq     #115,D2
                     366   ; char recievedByte;
                     367   ; scanflush() ;                       // flush any text that may have been typed ahead
08000242  4EB9 0800  368          jsr       _scanflush
08000246  0518      
                     369   ; printf("\r\nHello CPEN 412 Student\r\nWelcome to Lab3!!!\r\n");
08000248  4879 0800  370          pea       @m68kus~1_1.L
0800024C  16F4      
0800024E  4E92       371          jsr       (A2)
08000250  584F       372          addq.w    #4,A7
                     373   ; IIC_Init();
08000252  4EB9 0800  374          jsr       _IIC_Init
08000256  0214      
                     375   ; writeByteToChip(sendByte);
08000258  4882       376          ext.w     D2
0800025A  48C2       377          ext.l     D2
0800025C  2F02       378          move.l    D2,-(A7)
0800025E  4EB9 0800  379          jsr       _writeByteToChip
08000262  0098      
08000264  584F       380          addq.w    #4,A7
                     381   ; recievedByte = readByteFromChip();
08000266  4EB9 0800  382          jsr       _readByteFromChip
0800026A  012A      
0800026C  1D40 FFFF  383          move.b    D0,-1(A6)
                     384   ; printf("This is the sent Byte: %c\r\n", sendByte);
08000270  4882       385          ext.w     D2
08000272  48C2       386          ext.l     D2
08000274  2F02       387          move.l    D2,-(A7)
08000276  4879 0800  388          pea       @m68kus~1_2.L
0800027A  1724      
0800027C  4E92       389          jsr       (A2)
0800027E  504F       390          addq.w    #8,A7
                     391   ; printf("This is the received Byte: %c\r\n", recievedByte);
08000280  122E FFFF  392          move.b    -1(A6),D1
08000284  4881       393          ext.w     D1
08000286  48C1       394          ext.l     D1
08000288  2F01       395          move.l    D1,-(A7)
0800028A  4879 0800  396          pea       @m68kus~1_3.L
0800028E  1740      
08000290  4E92       397          jsr       (A2)
08000292  504F       398          addq.w    #8,A7
                     399   ; while(1);
                     400   main_1:
08000294  60FE       401          bra       main_1
                     402   ; // programs should NOT exit as there is nothing to Exit TO !!!!!!
                     403   ; // There is no OS - just press the reset button to end program and call debug
                     404   ; }
                     405   @doscan_read:
08000296  4E56 FFFC  406          link      A6,#-4
0800029A  2F0A       407          move.l    A2,-(A7)
0800029C  45F9 0800  408          lea       @doscan_lpbuf.L,A2
080002A0  187C      
080002A2  4AAE 0008  409          tst.l     8(A6)
080002A6  6700 0032  410          beq       @doscan_read_1
080002AA  206E 0008  411          move.l    8(A6),A0
080002AE  58AE 0008  412          addq.l    #4,8(A6)
080002B2  2050       413          move.l    (A0),A0
080002B4  1010       414          move.b    (A0),D0
080002B6  4880       415          ext.w     D0
080002B8  48C0       416          ext.l     D0
080002BA  2D40 FFFC  417          move.l    D0,-4(A6)
080002BE  4201       418          clr.b     D1
080002C0  C2BC 0000  419          and.l     #255,D1
080002C4  00FF      
080002C6  B081       420          cmp.l     D1,D0
080002C8  6706       421          beq.s     @doscan_read_3
080002CA  202E FFFC  422          move.l    -4(A6),D0
080002CE  6006       423          bra.s     @doscan_read_4
                     424   @doscan_read_3:
080002D0  70FF       425          moveq     #-1,D0
080002D2  4880       426          ext.w     D0
080002D4  48C0       427          ext.l     D0
                     428   @doscan_read_4:
080002D6  6000 0036  429          bra       @doscan_read_5
                     430   @doscan_read_1:
080002DA  2052       431          move.l    (A2),A0
080002DC  1010       432          move.b    (A0),D0
080002DE  6624       433          bne.s     @doscan_read_6
080002E0  4879 0800  434          pea       @doscan_buf.L
080002E4  1880      
080002E6  4EB9 0800  435          jsr       _gets
080002EA  0C6A      
080002EC  584F       436          addq.w    #4,A7
080002EE  2480       437          move.l    D0,(A2)
080002F0  4879 0800  438          pea       @doscan_1.L
080002F4  1760      
080002F6  4879 0800  439          pea       @doscan_buf.L
080002FA  1880      
080002FC  4EB9 0800  440          jsr       _strcat
08000300  0CFC      
08000302  504F       441          addq.w    #8,A7
                     442   @doscan_read_6:
08000304  2052       443          move.l    (A2),A0
08000306  5292       444          addq.l    #1,(A2)
08000308  1010       445          move.b    (A0),D0
0800030A  4880       446          ext.w     D0
0800030C  48C0       447          ext.l     D0
                     448   @doscan_read_5:
0800030E  245F       449          move.l    (A7)+,A2
08000310  4E5E       450          unlk      A6
08000312  4E75       451          rts
                     452   @doscan_putback:
08000314  4E56 0000  453          link      A6,#0
08000318  48E7 3000  454          movem.l   D2/D3,-(A7)
0800031C  242E 000C  455          move.l    12(A6),D2
08000320  262E 0008  456          move.l    8(A6),D3
08000324  6718       457          beq.s     @doscan_putback_1
08000326  0C82 FFFF  458          cmp.l     #-1,D2
0800032A  FFFF      
0800032C  670A       459          beq.s     @doscan_putback_3
0800032E  5983       460          subq.l    #4,D3
08000330  2043       461          move.l    D3,A0
08000332  2050       462          move.l    (A0),A0
08000334  1082       463          move.b    D2,(A0)
08000336  6004       464          bra.s     @doscan_putback_4
                     465   @doscan_putback_3:
08000338  2043       466          move.l    D3,A0
0800033A  5390       467          subq.l    #1,(A0)
                     468   @doscan_putback_4:
0800033C  6030       469          bra.s     @doscan_putback_6
                     470   @doscan_putback_1:
0800033E  41F9 0800  471          lea       @doscan_buf.L,A0
08000342  1880      
08000344  2008       472          move.l    A0,D0
08000346  B0B9 0800  473          cmp.l     @doscan_lpbuf.L,D0
0800034A  187C      
0800034C  6612       474          bne.s     @doscan_putback_5
0800034E  4239 0800  475          clr.b     @doscan_buf.L
08000352  1880      
08000354  2F02       476          move.l    D2,-(A7)
08000356  4EB9 0800  477          jsr       _ungetch
0800035A  0D2E      
0800035C  584F       478          addq.w    #4,A7
0800035E  600E       479          bra.s     @doscan_putback_6
                     480   @doscan_putback_5:
08000360  53B9 0800  481          subq.l    #1,@doscan_lpbuf.L
08000364  187C      
08000366  2079 0800  482          move.l    @doscan_lpbuf.L,A0
0800036A  187C      
0800036C  1082       483          move.b    D2,(A0)
                     484   @doscan_putback_6:
0800036E  2002       485          move.l    D2,D0
08000370  4CDF 000C  486          movem.l   (A7)+,D2/D3
08000374  4E5E       487          unlk      A6
08000376  4E75       488          rts
                     489   @doscan_space:
08000378  4E56 0000  490          link      A6,#0
0800037C  2F02       491          move.l    D2,-(A7)
                     492   @doscan_space_1:
0800037E  2F2E 0008  493          move.l    8(A6),-(A7)
08000382  4EB9 0800  494          jsr       @doscan_read
08000386  0296      
08000388  584F       495          addq.w    #4,A7
0800038A  2400       496          move.l    D0,D2
0800038C  206E 000C  497          move.l    12(A6),A0
08000390  5290       498          addq.l    #1,(A0)
08000392  2002       499          move.l    D2,D0
08000394  5280       500          addq.l    #1,D0
08000396  41F9 0800  501          lea       __ctype.L,A0
0800039A  1762      
0800039C  1030 0800  502          move.b    0(A0,D0.L),D0
080003A0  C03C 0010  503          and.b     #16,D0
080003A4  66D8       504          bne       @doscan_space_1
080003A6  2002       505          move.l    D2,D0
080003A8  241F       506          move.l    (A7)+,D2
080003AA  4E5E       507          unlk      A6
080003AC  4E75       508          rts
                     509   @doscan_select:
080003AE  4E56 0000  510          link      A6,#0
080003B2  48E7 3F20  511          movem.l   D2/D3/D4/D5/D6/D7/A2,-(A7)
080003B6  262E 000C  512          move.l    12(A6),D3
080003BA  2C2E 0018  513          move.l    24(A6),D6
080003BE  2E2E 0014  514          move.l    20(A6),D7
080003C2  2043       515          move.l    D3,A0
080003C4  1010       516          move.b    (A0),D0
080003C6  0C00 005E  517          cmp.b     #94,D0
080003CA  6608       518          bne.s     @doscan_select_1
080003CC  347C 0001  519          move.w    #1,A2
080003D0  5283       520          addq.l    #1,D3
080003D2  6004       521          bra.s     @doscan_select_2
                     522   @doscan_select_1:
080003D4  347C 0000  523          move.w    #0,A2
                     524   @doscan_select_2:
080003D8  202E 0010  525          move.l    16(A6),D0
080003DC  53AE 0010  526          subq.l    #1,16(A6)
080003E0  4A80       527          tst.l     D0
080003E2  6700 00F6  528          beq       @doscan_select_5
080003E6  2F2E 0008  529          move.l    8(A6),-(A7)
080003EA  4EB9 0800  530          jsr       @doscan_read
080003EE  0296      
080003F0  584F       531          addq.w    #4,A7
080003F2  2800       532          move.l    D0,D4
080003F4  0C84 FFFF  533          cmp.l     #-1,D4
080003F8  FFFF      
080003FA  6604       534          bne.s     @doscan_select_6
080003FC  6000 00DC  535          bra       @doscan_select_5
                     536   @doscan_select_6:
08000400  206E 001C  537          move.l    28(A6),A0
08000404  5290       538          addq.l    #1,(A0)
08000406  4285       539          clr.l     D5
08000408  4282       540          clr.l     D2
                     541   @doscan_select_8:
0800040A  2043       542          move.l    D3,A0
0800040C  1030 2800  543          move.b    0(A0,D2.L),D0
08000410  0C00 005D  544          cmp.b     #93,D0
08000414  6700 0086  545          beq       @doscan_select_10
08000418  4A82       546          tst.l     D2
0800041A  6710       547          beq.s     @doscan_select_11
0800041C  2043       548          move.l    D3,A0
0800041E  1030 2800  549          move.b    0(A0,D2.L),D0
08000422  0C00 005D  550          cmp.b     #93,D0
08000426  6604       551          bne.s     @doscan_select_11
08000428  6000 0072  552          bra       @doscan_select_10
                     553   @doscan_select_11:
0800042C  4A82       554          tst.l     D2
0800042E  6700 0056  555          beq       @doscan_select_15
08000432  2043       556          move.l    D3,A0
08000434  1030 2800  557          move.b    0(A0,D2.L),D0
08000438  0C00 002D  558          cmp.b     #45,D0
0800043C  6600 0048  559          bne       @doscan_select_15
08000440  2043       560          move.l    D3,A0
08000442  2002       561          move.l    D2,D0
08000444  5380       562          subq.l    #1,D0
08000446  2243       563          move.l    D3,A1
08000448  2202       564          move.l    D2,D1
0800044A  5281       565          addq.l    #1,D1
0800044C  2F00       566          move.l    D0,-(A7)
0800044E  1030 0800  567          move.b    0(A0,D0.L),D0
08000452  B031 1800  568          cmp.b     0(A1,D1.L),D0
08000456  6C00 002E  569          bge       @doscan_select_15
0800045A  201F       570          move.l    (A7)+,D0
0800045C  2043       571          move.l    D3,A0
0800045E  2002       572          move.l    D2,D0
08000460  5380       573          subq.l    #1,D0
08000462  1030 0800  574          move.b    0(A0,D0.L),D0
08000466  4880       575          ext.w     D0
08000468  48C0       576          ext.l     D0
0800046A  B880       577          cmp.l     D0,D4
0800046C  6D14       578          blt.s     @doscan_select_17
0800046E  2043       579          move.l    D3,A0
08000470  2002       580          move.l    D2,D0
08000472  5280       581          addq.l    #1,D0
08000474  1030 0800  582          move.b    0(A0,D0.L),D0
08000478  4880       583          ext.w     D0
0800047A  48C0       584          ext.l     D0
0800047C  B880       585          cmp.l     D0,D4
0800047E  6E02       586          bgt.s     @doscan_select_17
08000480  601A       587          bra.s     @doscan_select_10
                     588   @doscan_select_17:
08000482  5282       589          addq.l    #1,D2
08000484  6010       590          bra.s     @doscan_select_19
                     591   @doscan_select_15:
08000486  2043       592          move.l    D3,A0
08000488  1030 2800  593          move.b    0(A0,D2.L),D0
0800048C  4880       594          ext.w     D0
0800048E  48C0       595          ext.l     D0
08000490  B880       596          cmp.l     D0,D4
08000492  6602       597          bne.s     @doscan_select_19
08000494  6006       598          bra.s     @doscan_select_10
                     599   @doscan_select_19:
08000496  5282       600          addq.l    #1,D2
08000498  6000 FF70  601          bra       @doscan_select_8
                     602   @doscan_select_10:
0800049C  4A82       603          tst.l     D2
0800049E  670C       604          beq.s     @doscan_select_23
080004A0  2043       605          move.l    D3,A0
080004A2  1030 2800  606          move.b    0(A0,D2.L),D0
080004A6  0C00 005D  607          cmp.b     #93,D0
080004AA  6702       608          beq.s     @doscan_select_21
                     609   @doscan_select_23:
080004AC  7A01       610          moveq     #1,D5
                     611   @doscan_select_21:
080004AE  200A       612          move.l    A2,D0
080004B0  6712       613          beq.s     @doscan_select_24
080004B2  4A85       614          tst.l     D5
080004B4  660C       615          bne.s     @doscan_select_26
080004B6  4A87       616          tst.l     D7
080004B8  6606       617          bne.s     @doscan_select_28
080004BA  2046       618          move.l    D6,A0
080004BC  5286       619          addq.l    #1,D6
080004BE  1084       620          move.b    D4,(A0)
                     621   @doscan_select_28:
080004C0  6014       622          bra.s     @doscan_select_4
                     623   @doscan_select_26:
080004C2  6016       624          bra.s     @doscan_select_5
                     625   @doscan_select_24:
080004C4  4A85       626          tst.l     D5
080004C6  670C       627          beq.s     @doscan_select_30
080004C8  4A87       628          tst.l     D7
080004CA  6606       629          bne.s     @doscan_select_32
080004CC  2046       630          move.l    D6,A0
080004CE  5286       631          addq.l    #1,D6
080004D0  1084       632          move.b    D4,(A0)
                     633   @doscan_select_32:
080004D2  6002       634          bra.s     @doscan_select_4
                     635   @doscan_select_30:
080004D4  6004       636          bra.s     @doscan_select_5
                     637   @doscan_select_4:
080004D6  6000 FF00  638          bra       @doscan_select_2
                     639   @doscan_select_5:
080004DA  0C84 FFFF  640          cmp.l     #-1,D4
080004DE  FFFF      
080004E0  6714       641          beq.s     @doscan_select_34
080004E2  2F04       642          move.l    D4,-(A7)
080004E4  2F2E 0008  643          move.l    8(A6),-(A7)
080004E8  4EB9 0800  644          jsr       @doscan_putback
080004EC  0314      
080004EE  504F       645          addq.w    #8,A7
080004F0  206E 001C  646          move.l    28(A6),A0
080004F4  5390       647          subq.l    #1,(A0)
                     648   @doscan_select_34:
080004F6  4A87       649          tst.l     D7
080004F8  6604       650          bne.s     @doscan_select_36
080004FA  2046       651          move.l    D6,A0
080004FC  4210       652          clr.b     (A0)
                     653   @doscan_select_36:
080004FE  5283       654          addq.l    #1,D3
08000500  2043       655          move.l    D3,A0
08000502  1010       656          move.b    (A0),D0
08000504  0C00 005D  657          cmp.b     #93,D0
08000508  6702       658          beq.s     @doscan_select_40
0800050A  60F2       659          bra       @doscan_select_36
                     660   @doscan_select_40:
0800050C  5283       661          addq.l    #1,D3
0800050E  2003       662          move.l    D3,D0
08000510  4CDF 04FC  663          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2
08000514  4E5E       664          unlk      A6
08000516  4E75       665          rts
                     666   _scanflush:
08000518  41F9 0800  667          lea       @doscan_buf.L,A0
0800051C  1880      
0800051E  23C8 0800  668          move.l    A0,@doscan_lpbuf.L
08000522  187C      
08000524  4239 0800  669          clr.b     @doscan_buf.L
08000528  1880      
0800052A  4878 FFFF  670          pea       -1
0800052E  4EB9 0800  671          jsr       _ungetch
08000532  0D2E      
08000534  584F       672          addq.w    #4,A7
08000536  4E75       673          rts
                     674   _doscan:
08000538  4E56 FF88  675          link      A6,#-120
0800053C  48E7 3F3C  676          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000540  47F9 0800  677          lea       @doscan_read.L,A3
08000544  0296      
08000546  4AAE 0008  678          tst.l     8(A6)
0800054A  6706       679          beq.s     doscan_1
0800054C  41EE 0008  680          lea       8(A6),A0
08000550  6008       681          bra.s     doscan_2
                     682   doscan_1:
08000552  4200       683          clr.b     D0
08000554  4880       684          ext.w     D0
08000556  48C0       685          ext.l     D0
08000558  2040       686          move.l    D0,A0
                     687   doscan_2:
0800055A  2A08       688          move.l    A0,D5
0800055C  42AE FFE4  689          clr.l     -28(A6)
08000560  4284       690          clr.l     D4
                     691   doscan_3:
08000562  206E 000C  692          move.l    12(A6),A0
08000566  52AE 000C  693          addq.l    #1,12(A6)
0800056A  1010       694          move.b    (A0),D0
0800056C  4880       695          ext.w     D0
0800056E  48C0       696          ext.l     D0
08000570  2600       697          move.l    D0,D3
08000572  4201       698          clr.b     D1
08000574  C2BC 0000  699          and.l     #255,D1
08000578  00FF      
0800057A  B081       700          cmp.l     D1,D0
0800057C  6700 0612  701          beq       doscan_5
08000580  4286       702          clr.l     D6
08000582  387C 0000  703          move.w    #0,A4
08000586  0C83 0000  704          cmp.l     #32,D3
0800058A  0020      
0800058C  6712       705          beq.s     doscan_8
0800058E  0C83 0000  706          cmp.l     #9,D3
08000592  0009      
08000594  670A       707          beq.s     doscan_8
08000596  0C83 0000  708          cmp.l     #10,D3
0800059A  000A      
0800059C  6600 0050  709          bne       doscan_6
                     710   doscan_8:
080005A0  2F05       711          move.l    D5,-(A7)
080005A2  4E93       712          jsr       (A3)
080005A4  584F       713          addq.w    #4,A7
080005A6  2400       714          move.l    D0,D2
080005A8  52AE FFE4  715          addq.l    #1,-28(A6)
080005AC  0C82 FFFF  716          cmp.l     #-1,D2
080005B0  FFFF      
080005B2  6612       717          bne.s     doscan_11
080005B4  4A84       718          tst.l     D4
080005B6  6704       719          beq.s     doscan_13
080005B8  2004       720          move.l    D4,D0
080005BA  6006       721          bra.s     doscan_14
                     722   doscan_13:
080005BC  70FF       723          moveq     #-1,D0
080005BE  4880       724          ext.w     D0
080005C0  48C0       725          ext.l     D0
                     726   doscan_14:
080005C2  6000 05CE  727          bra       doscan_15
                     728   doscan_11:
080005C6  2002       729          move.l    D2,D0
080005C8  5280       730          addq.l    #1,D0
080005CA  41F9 0800  731          lea       __ctype.L,A0
080005CE  1762      
080005D0  1030 0800  732          move.b    0(A0,D0.L),D0
080005D4  C03C 0010  733          and.b     #16,D0
080005D8  66C6       734          bne       doscan_8
080005DA  53AE FFE4  735          subq.l    #1,-28(A6)
080005DE  2F02       736          move.l    D2,-(A7)
080005E0  2F05       737          move.l    D5,-(A7)
080005E2  4EB9 0800  738          jsr       @doscan_putback
080005E6  0314      
080005E8  504F       739          addq.w    #8,A7
080005EA  6000 05A0  740          bra       doscan_141
                     741   doscan_6:
080005EE  0C83 0000  742          cmp.l     #37,D3
080005F2  0025      
080005F4  6600 055A  743          bne       doscan_129
080005F8  206E 000C  744          move.l    12(A6),A0
080005FC  52AE 000C  745          addq.l    #1,12(A6)
08000600  1010       746          move.b    (A0),D0
08000602  4880       747          ext.w     D0
08000604  48C0       748          ext.l     D0
08000606  2600       749          move.l    D0,D3
08000608  42AE FFEC  750          clr.l     -20(A6)
0800060C  4286       751          clr.l     D6
0800060E  42AE FFE8  752          clr.l     -24(A6)
08000612  347C 7FFF  753          move.w    #32767,A2
08000616  0C83 0000  754          cmp.l     #42,D3
0800061A  002A      
0800061C  6612       755          bne.s     doscan_18
0800061E  7C01       756          moveq     #1,D6
08000620  206E 000C  757          move.l    12(A6),A0
08000624  52AE 000C  758          addq.l    #1,12(A6)
08000628  1010       759          move.b    (A0),D0
0800062A  4880       760          ext.w     D0
0800062C  48C0       761          ext.l     D0
0800062E  2600       762          move.l    D0,D3
                     763   doscan_18:
08000630  2003       764          move.l    D3,D0
08000632  5280       765          addq.l    #1,D0
08000634  41F9 0800  766          lea       __ctype.L,A0
08000638  1762      
0800063A  1030 0800  767          move.b    0(A0,D0.L),D0
0800063E  C03C 0004  768          and.b     #4,D0
08000642  6700 004C  769          beq       doscan_24
08000646  2003       770          move.l    D3,D0
08000648  0480 0000  771          sub.l     #48,D0
0800064C  0030      
0800064E  2440       772          move.l    D0,A2
                     773   doscan_22:
08000650  206E 000C  774          move.l    12(A6),A0
08000654  52AE 000C  775          addq.l    #1,12(A6)
08000658  1010       776          move.b    (A0),D0
0800065A  4880       777          ext.w     D0
0800065C  48C0       778          ext.l     D0
0800065E  2600       779          move.l    D0,D3
08000660  5280       780          addq.l    #1,D0
08000662  41F9 0800  781          lea       __ctype.L,A0
08000666  1762      
08000668  1030 0800  782          move.b    0(A0,D0.L),D0
0800066C  C03C 0004  783          and.b     #4,D0
08000670  671E       784          beq.s     doscan_24
08000672  2F0A       785          move.l    A2,-(A7)
08000674  4878 000A  786          pea       10
08000678  4EB9 0800  787          jsr       LMUL
0800067C  0BDC      
0800067E  2017       788          move.l    (A7),D0
08000680  504F       789          addq.w    #8,A7
08000682  2203       790          move.l    D3,D1
08000684  0481 0000  791          sub.l     #48,D1
08000688  0030      
0800068A  D081       792          add.l     D1,D0
0800068C  2440       793          move.l    D0,A2
0800068E  60C0       794          bra       doscan_22
                     795   doscan_24:
08000690  0C83 0000  796          cmp.l     #108,D3
08000694  006C      
08000696  6708       797          beq.s     doscan_27
08000698  0C83 0000  798          cmp.l     #76,D3
0800069C  004C      
0800069E  661A       799          bne.s     doscan_25
                     800   doscan_27:
080006A0  2D7C 0000  801          move.l    #1,-24(A6)
080006A4  0001 FFE8 
080006A8  206E 000C  802          move.l    12(A6),A0
080006AC  52AE 000C  803          addq.l    #1,12(A6)
080006B0  1010       804          move.b    (A0),D0
080006B2  4880       805          ext.w     D0
080006B4  48C0       806          ext.l     D0
080006B6  2600       807          move.l    D0,D3
080006B8  6020       808          bra.s     doscan_28
                     809   doscan_25:
080006BA  0C83 0000  810          cmp.l     #104,D3
080006BE  0068      
080006C0  6618       811          bne.s     doscan_28
080006C2  2D7C 0000  812          move.l    #1,-20(A6)
080006C6  0001 FFEC 
080006CA  206E 000C  813          move.l    12(A6),A0
080006CE  52AE 000C  814          addq.l    #1,12(A6)
080006D2  1010       815          move.b    (A0),D0
080006D4  4880       816          ext.w     D0
080006D6  48C0       817          ext.l     D0
080006D8  2600       818          move.l    D0,D3
                     819   doscan_28:
080006DA  0C83 0000  820          cmp.l     #91,D3
080006DE  005B      
080006E0  6600 0038  821          bne       doscan_30
080006E4  4A86       822          tst.l     D6
080006E6  660A       823          bne.s     doscan_32
080006E8  206E 0010  824          move.l    16(A6),A0
080006EC  58AE 0010  825          addq.l    #4,16(A6)
080006F0  2E10       826          move.l    (A0),D7
                     827   doscan_32:
080006F2  486E FFE4  828          pea       -28(A6)
080006F6  2F07       829          move.l    D7,-(A7)
080006F8  2F06       830          move.l    D6,-(A7)
080006FA  2F0A       831          move.l    A2,-(A7)
080006FC  2F2E 000C  832          move.l    12(A6),-(A7)
08000700  2F05       833          move.l    D5,-(A7)
08000702  4EB9 0800  834          jsr       @doscan_select
08000706  03AE      
08000708  DEFC 0018  835          add.w     #24,A7
0800070C  2D40 000C  836          move.l    D0,12(A6)
08000710  4A86       837          tst.l     D6
08000712  6602       838          bne.s     doscan_34
08000714  5284       839          addq.l    #1,D4
                     840   doscan_34:
08000716  6000 0474  841          bra       doscan_141
                     842   doscan_30:
0800071A  0C83 0000  843          cmp.l     #110,D3
0800071E  006E      
08000720  661A       844          bne.s     doscan_36
08000722  4A86       845          tst.l     D6
08000724  6612       846          bne.s     doscan_38
08000726  206E 0010  847          move.l    16(A6),A0
0800072A  58AE 0010  848          addq.l    #4,16(A6)
0800072E  2E10       849          move.l    (A0),D7
08000730  2047       850          move.l    D7,A0
08000732  20AE FFE4  851          move.l    -28(A6),(A0)
08000736  5284       852          addq.l    #1,D4
                     853   doscan_38:
08000738  6000 0452  854          bra       doscan_141
                     855   doscan_36:
0800073C  0C83 0000  856          cmp.l     #115,D3
08000740  0073      
08000742  6600 00C4  857          bne       doscan_40
08000746  486E FFE4  858          pea       -28(A6)
0800074A  2F05       859          move.l    D5,-(A7)
0800074C  4EB9 0800  860          jsr       @doscan_space
08000750  0378      
08000752  504F       861          addq.w    #8,A7
08000754  2400       862          move.l    D0,D2
08000756  4A86       863          tst.l     D6
08000758  660A       864          bne.s     doscan_42
0800075A  206E 0010  865          move.l    16(A6),A0
0800075E  58AE 0010  866          addq.l    #4,16(A6)
08000762  2E10       867          move.l    (A0),D7
                     868   doscan_42:
08000764  52AE FFE4  869          addq.l    #1,-28(A6)
                     870   doscan_44:
08000768  200A       871          move.l    A2,D0
0800076A  534A       872          subq.w    #1,A2
0800076C  4A80       873          tst.l     D0
0800076E  6700 0048  874          beq       doscan_46
08000772  2002       875          move.l    D2,D0
08000774  5280       876          addq.l    #1,D0
08000776  41F9 0800  877          lea       __ctype.L,A0
0800077A  1762      
0800077C  1030 0800  878          move.b    0(A0,D0.L),D0
08000780  C03C 0010  879          and.b     #16,D0
08000784  6604       880          bne.s     doscan_47
08000786  7001       881          moveq     #1,D0
08000788  6002       882          bra.s     doscan_48
                     883   doscan_47:
0800078A  4280       884          clr.l     D0
                     885   doscan_48:
0800078C  C0BC 0000  886          and.l     #255,D0
08000790  00FF      
08000792  6724       887          beq.s     doscan_46
08000794  0C82 FFFF  888          cmp.l     #-1,D2
08000798  FFFF      
0800079A  671C       889          beq.s     doscan_46
0800079C  387C 0001  890          move.w    #1,A4
080007A0  4A86       891          tst.l     D6
080007A2  6606       892          bne.s     doscan_49
080007A4  2047       893          move.l    D7,A0
080007A6  5287       894          addq.l    #1,D7
080007A8  1082       895          move.b    D2,(A0)
                     896   doscan_49:
080007AA  2F05       897          move.l    D5,-(A7)
080007AC  4E93       898          jsr       (A3)
080007AE  584F       899          addq.w    #4,A7
080007B0  2400       900          move.l    D0,D2
080007B2  52AE FFE4  901          addq.l    #1,-28(A6)
080007B6  60B0       902          bra       doscan_44
                     903   doscan_46:
080007B8  4A86       904          tst.l     D6
080007BA  660A       905          bne.s     doscan_53
080007BC  2047       906          move.l    D7,A0
080007BE  4210       907          clr.b     (A0)
080007C0  200C       908          move.l    A4,D0
080007C2  6702       909          beq.s     doscan_53
080007C4  5284       910          addq.l    #1,D4
                     911   doscan_53:
080007C6  0C82 FFFF  912          cmp.l     #-1,D2
080007CA  FFFF      
080007CC  6708       913          beq.s     doscan_57
080007CE  4A86       914          tst.l     D6
080007D0  6622       915          bne.s     doscan_55
080007D2  200C       916          move.l    A4,D0
080007D4  661E       917          bne.s     doscan_55
                     918   doscan_57:
080007D6  4A84       919          tst.l     D4
080007D8  6704       920          beq.s     doscan_58
080007DA  2004       921          move.l    D4,D0
080007DC  6012       922          bra.s     doscan_61
                     923   doscan_58:
080007DE  0C82 FFFF  924          cmp.l     #-1,D2
080007E2  FFFF      
080007E4  6608       925          bne.s     doscan_60
080007E6  70FF       926          moveq     #-1,D0
080007E8  4880       927          ext.w     D0
080007EA  48C0       928          ext.l     D0
080007EC  6002       929          bra.s     doscan_61
                     930   doscan_60:
080007EE  2004       931          move.l    D4,D0
                     932   doscan_61:
080007F0  6000 03A0  933          bra       doscan_15
                     934   doscan_55:
080007F4  53AE FFE4  935          subq.l    #1,-28(A6)
080007F8  2F02       936          move.l    D2,-(A7)
080007FA  2F05       937          move.l    D5,-(A7)
080007FC  4EB9 0800  938          jsr       @doscan_putback
08000800  0314      
08000802  504F       939          addq.w    #8,A7
08000804  6000 0386  940          bra       doscan_141
                     941   doscan_40:
08000808  0C83 0000  942          cmp.l     #99,D3
0800080C  0063      
0800080E  6600 0094  943          bne       doscan_62
08000812  4A86       944          tst.l     D6
08000814  660A       945          bne.s     doscan_64
08000816  206E 0010  946          move.l    16(A6),A0
0800081A  58AE 0010  947          addq.l    #4,16(A6)
0800081E  2E10       948          move.l    (A0),D7
                     949   doscan_64:
08000820  2F05       950          move.l    D5,-(A7)
08000822  4E93       951          jsr       (A3)
08000824  584F       952          addq.w    #4,A7
08000826  2400       953          move.l    D0,D2
08000828  52AE FFE4  954          addq.l    #1,-28(A6)
0800082C  200A       955          move.l    A2,D0
0800082E  0C80 0000  956          cmp.l     #32767,D0
08000832  7FFF      
08000834  6604       957          bne.s     doscan_66
08000836  347C 0001  958          move.w    #1,A2
                     959   doscan_66:
0800083A  0C82 FFFF  960          cmp.l     #-1,D2
0800083E  FFFF      
08000840  6606       961          bne.s     doscan_68
08000842  4A86       962          tst.l     D6
08000844  6602       963          bne.s     doscan_68
08000846  5384       964          subq.l    #1,D4
                     965   doscan_68:
08000848  200A       966          move.l    A2,D0
0800084A  534A       967          subq.w    #1,A2
0800084C  4A80       968          tst.l     D0
0800084E  6720       969          beq.s     doscan_72
08000850  0C82 FFFF  970          cmp.l     #-1,D2
08000854  FFFF      
08000856  6718       971          beq.s     doscan_72
08000858  4A86       972          tst.l     D6
0800085A  6606       973          bne.s     doscan_73
0800085C  2047       974          move.l    D7,A0
0800085E  5287       975          addq.l    #1,D7
08000860  1082       976          move.b    D2,(A0)
                     977   doscan_73:
08000862  2F05       978          move.l    D5,-(A7)
08000864  4E93       979          jsr       (A3)
08000866  584F       980          addq.w    #4,A7
08000868  2400       981          move.l    D0,D2
0800086A  52AE FFE4  982          addq.l    #1,-28(A6)
0800086E  60D8       983          bra       doscan_68
                     984   doscan_72:
08000870  0C82 FFFF  985          cmp.l     #-1,D2
08000874  FFFF      
08000876  6612       986          bne.s     doscan_75
08000878  4A84       987          tst.l     D4
0800087A  6704       988          beq.s     doscan_77
0800087C  2004       989          move.l    D4,D0
0800087E  6006       990          bra.s     doscan_78
                     991   doscan_77:
08000880  70FF       992          moveq     #-1,D0
08000882  4880       993          ext.w     D0
08000884  48C0       994          ext.l     D0
                     995   doscan_78:
08000886  6000 030A  996          bra       doscan_15
                     997   doscan_75:
0800088A  4A86       998          tst.l     D6
0800088C  6602       999          bne.s     doscan_79
0800088E  5284      1000          addq.l    #1,D4
                    1001   doscan_79:
08000890  53AE FFE4 1002          subq.l    #1,-28(A6)
08000894  2F02      1003          move.l    D2,-(A7)
08000896  2F05      1004          move.l    D5,-(A7)
08000898  4EB9 0800 1005          jsr       @doscan_putback
0800089C  0314      
0800089E  504F      1006          addq.w    #8,A7
080008A0  6000 02EA 1007          bra       doscan_141
                    1008   doscan_62:
080008A4  0C83 0000 1009          cmp.l     #105,D3
080008A8  0069      
080008AA  6600 0068 1010          bne       doscan_84
080008AE  486E FFE4 1011          pea       -28(A6)
080008B2  2F05      1012          move.l    D5,-(A7)
080008B4  4EB9 0800 1013          jsr       @doscan_space
080008B8  0378      
080008BA  504F      1014          addq.w    #8,A7
080008BC  2400      1015          move.l    D0,D2
080008BE  0C82 0000 1016          cmp.l     #48,D2
080008C2  0030      
080008C4  6600 003C 1017          bne       doscan_83
080008C8  387C 0001 1018          move.w    #1,A4
080008CC  2F05      1019          move.l    D5,-(A7)
080008CE  4E93      1020          jsr       (A3)
080008D0  584F      1021          addq.w    #4,A7
080008D2  2400      1022          move.l    D0,D2
080008D4  2F02      1023          move.l    D2,-(A7)
080008D6  4EB9 0800 1024          jsr       _tolower
080008DA  0CE0      
080008DC  584F      1025          addq.w    #4,A7
080008DE  0C80 0000 1026          cmp.l     #120,D0
080008E2  0078      
080008E4  6604      1027          bne.s     doscan_85
080008E6  7678      1028          moveq     #120,D3
080008E8  6012      1029          bra.s     doscan_86
                    1030   doscan_85:
080008EA  53AE FFE4 1031          subq.l    #1,-28(A6)
080008EE  2F02      1032          move.l    D2,-(A7)
080008F0  2F05      1033          move.l    D5,-(A7)
080008F2  4EB9 0800 1034          jsr       @doscan_putback
080008F6  0314      
080008F8  504F      1035          addq.w    #8,A7
080008FA  766F      1036          moveq     #111,D3
                    1037   doscan_86:
080008FC  52AE FFE4 1038          addq.l    #1,-28(A6)
08000900  6012      1039          bra.s     doscan_84
                    1040   doscan_83:
08000902  53AE FFE4 1041          subq.l    #1,-28(A6)
08000906  2F02      1042          move.l    D2,-(A7)
08000908  2F05      1043          move.l    D5,-(A7)
0800090A  4EB9 0800 1044          jsr       @doscan_putback
0800090E  0314      
08000910  504F      1045          addq.w    #8,A7
08000912  7664      1046          moveq     #100,D3
                    1047   doscan_84:
08000914  0C83 0000 1048          cmp.l     #100,D3
08000918  0064      
0800091A  671A      1049          beq.s     doscan_89
0800091C  0C83 0000 1050          cmp.l     #117,D3
08000920  0075      
08000922  6712      1051          beq.s     doscan_89
08000924  0C83 0000 1052          cmp.l     #120,D3
08000928  0078      
0800092A  670A      1053          beq.s     doscan_89
0800092C  0C83 0000 1054          cmp.l     #111,D3
08000930  006F      
08000932  6600 01CE 1055          bne       doscan_87
                    1056   doscan_89:
08000936  486E FFE4 1057          pea       -28(A6)
0800093A  2F05      1058          move.l    D5,-(A7)
0800093C  4EB9 0800 1059          jsr       @doscan_space
08000940  0378      
08000942  504F      1060          addq.w    #8,A7
08000944  2400      1061          move.l    D0,D2
08000946  2D7C 0000 1062          move.l    #10,-4(A6)
0800094A  000A FFFC 
0800094E  0C83 0000 1063          cmp.l     #120,D3
08000952  0078      
08000954  6608      1064          bne.s     doscan_90
08000956  2D7C 0000 1065          move.l    #16,-4(A6)
0800095A  0010 FFFC 
                    1066   doscan_90:
0800095E  0C83 0000 1067          cmp.l     #111,D3
08000962  006F      
08000964  6608      1068          bne.s     doscan_92
08000966  2D7C 0000 1069          move.l    #8,-4(A6)
0800096A  0008 FFFC 
                    1070   doscan_92:
0800096E  4A86      1071          tst.l     D6
08000970  660A      1072          bne.s     doscan_94
08000972  206E 0010 1073          move.l    16(A6),A0
08000976  58AE 0010 1074          addq.l    #4,16(A6)
0800097A  2E10      1075          move.l    (A0),D7
                    1076   doscan_94:
0800097C  42AE FFE0 1077          clr.l     -32(A6)
08000980  52AE FFE4 1078          addq.l    #1,-28(A6)
08000984  0C83 0000 1079          cmp.l     #117,D3
08000988  0075      
0800098A  6720      1080          beq.s     doscan_96
0800098C  0C82 0000 1081          cmp.l     #45,D2
08000990  002D      
08000992  6618      1082          bne.s     doscan_96
08000994  2F05      1083          move.l    D5,-(A7)
08000996  4E93      1084          jsr       (A3)
08000998  584F      1085          addq.w    #4,A7
0800099A  2400      1086          move.l    D0,D2
0800099C  52AE FFE4 1087          addq.l    #1,-28(A6)
080009A0  2D7C 0000 1088          move.l    #1,-32(A6)
080009A4  0001 FFE0 
080009A8  387C 0001 1089          move.w    #1,A4
                    1090   doscan_96:
080009AC  3A7C 0000 1091          move.w    #0,A5
080009B0  0C82 FFFF 1092          cmp.l     #-1,D2
080009B4  FFFF      
080009B6  6612      1093          bne.s     doscan_98
080009B8  4A84      1094          tst.l     D4
080009BA  6704      1095          beq.s     doscan_100
080009BC  2004      1096          move.l    D4,D0
080009BE  6006      1097          bra.s     doscan_101
                    1098   doscan_100:
080009C0  70FF      1099          moveq     #-1,D0
080009C2  4880      1100          ext.w     D0
080009C4  48C0      1101          ext.l     D0
                    1102   doscan_101:
080009C6  6000 01CA 1103          bra       doscan_15
                    1104   doscan_98:
080009CA  200A      1105          move.l    A2,D0
080009CC  534A      1106          subq.w    #1,A2
080009CE  4A80      1107          tst.l     D0
080009D0  6700 00AA 1108          beq       doscan_104
080009D4  0C83 0000 1109          cmp.l     #120,D3
080009D8  0078      
080009DA  6624      1110          bne.s     doscan_106
080009DC  2F02      1111          move.l    D2,-(A7)
080009DE  4EB9 0800 1112          jsr       _toupper
080009E2  0D12      
080009E4  584F      1113          addq.w    #4,A7
080009E6  0C80 0000 1114          cmp.l     #65,D0
080009EA  0041      
080009EC  6D12      1115          blt.s     doscan_106
080009EE  2F02      1116          move.l    D2,-(A7)
080009F0  4EB9 0800 1117          jsr       _toupper
080009F4  0D12      
080009F6  584F      1118          addq.w    #4,A7
080009F8  0C80 0000 1119          cmp.l     #70,D0
080009FC  0046      
080009FE  6F1C      1120          ble.s     doscan_105
                    1121   doscan_106:
08000A00  2002      1122          move.l    D2,D0
08000A02  5280      1123          addq.l    #1,D0
08000A04  41F9 0800 1124          lea       __ctype.L,A0
08000A08  1762      
08000A0A  1030 0800 1125          move.b    0(A0,D0.L),D0
08000A0E  C03C 0004 1126          and.b     #4,D0
08000A12  C0BC 0000 1127          and.l     #255,D0
08000A16  00FF      
08000A18  6700 0062 1128          beq       doscan_104
                    1129   doscan_105:
08000A1C  2002      1130          move.l    D2,D0
08000A1E  5280      1131          addq.l    #1,D0
08000A20  41F9 0800 1132          lea       __ctype.L,A0
08000A24  1762      
08000A26  1030 0800 1133          move.b    0(A0,D0.L),D0
08000A2A  C03C 0004 1134          and.b     #4,D0
08000A2E  661E      1135          bne.s     doscan_107
08000A30  2F02      1136          move.l    D2,-(A7)
08000A32  4EB9 0800 1137          jsr       _toupper
08000A36  0D12      
08000A38  584F      1138          addq.w    #4,A7
08000A3A  0480 0000 1139          sub.l     #65,D0
08000A3E  0041      
08000A40  0680 0000 1140          add.l     #10,D0
08000A44  000A      
08000A46  0680 0000 1141          add.l     #48,D0
08000A4A  0030      
08000A4C  2400      1142          move.l    D0,D2
                    1143   doscan_107:
08000A4E  2F0D      1144          move.l    A5,-(A7)
08000A50  2F2E FFFC 1145          move.l    -4(A6),-(A7)
08000A54  4EB9 0800 1146          jsr       LMUL
08000A58  0BDC      
08000A5A  2017      1147          move.l    (A7),D0
08000A5C  504F      1148          addq.w    #8,A7
08000A5E  D082      1149          add.l     D2,D0
08000A60  0480 0000 1150          sub.l     #48,D0
08000A64  0030      
08000A66  2A40      1151          move.l    D0,A5
08000A68  2F05      1152          move.l    D5,-(A7)
08000A6A  4E93      1153          jsr       (A3)
08000A6C  584F      1154          addq.w    #4,A7
08000A6E  2400      1155          move.l    D0,D2
08000A70  52AE FFE4 1156          addq.l    #1,-28(A6)
08000A74  387C 0001 1157          move.w    #1,A4
08000A78  6000 FF50 1158          bra       doscan_98
                    1159   doscan_104:
08000A7C  0C82 FFFF 1160          cmp.l     #-1,D2
08000A80  FFFF      
08000A82  671C      1161          beq.s     doscan_109
08000A84  2F02      1162          move.l    D2,-(A7)
08000A86  2F05      1163          move.l    D5,-(A7)
08000A88  4EB9 0800 1164          jsr       @doscan_putback
08000A8C  0314      
08000A8E  504F      1165          addq.w    #8,A7
08000A90  53AE FFE4 1166          subq.l    #1,-28(A6)
08000A94  200C      1167          move.l    A4,D0
08000A96  6606      1168          bne.s     doscan_111
08000A98  2004      1169          move.l    D4,D0
08000A9A  6000 00F6 1170          bra       doscan_15
                    1171   doscan_111:
08000A9E  6016      1172          bra.s     doscan_113
                    1173   doscan_109:
08000AA0  200C      1174          move.l    A4,D0
08000AA2  6612      1175          bne.s     doscan_113
08000AA4  4A84      1176          tst.l     D4
08000AA6  6704      1177          beq.s     doscan_115
08000AA8  2004      1178          move.l    D4,D0
08000AAA  6006      1179          bra.s     doscan_116
                    1180   doscan_115:
08000AAC  70FF      1181          moveq     #-1,D0
08000AAE  4880      1182          ext.w     D0
08000AB0  48C0      1183          ext.l     D0
                    1184   doscan_116:
08000AB2  6000 00DE 1185          bra       doscan_15
                    1186   doscan_113:
08000AB6  4AAE FFE0 1187          tst.l     -32(A6)
08000ABA  6706      1188          beq.s     doscan_117
08000ABC  200D      1189          move.l    A5,D0
08000ABE  4480      1190          neg.l     D0
08000AC0  2A40      1191          move.l    D0,A5
                    1192   doscan_117:
08000AC2  4A86      1193          tst.l     D6
08000AC4  661E      1194          bne.s     doscan_119
08000AC6  4AAE FFE8 1195          tst.l     -24(A6)
08000ACA  6706      1196          beq.s     doscan_121
08000ACC  2047      1197          move.l    D7,A0
08000ACE  208D      1198          move.l    A5,(A0)
08000AD0  6010      1199          bra.s     doscan_124
                    1200   doscan_121:
08000AD2  4AAE FFEC 1201          tst.l     -20(A6)
08000AD6  6706      1202          beq.s     doscan_123
08000AD8  2047      1203          move.l    D7,A0
08000ADA  308D      1204          move.w    A5,(A0)
08000ADC  6004      1205          bra.s     doscan_124
                    1206   doscan_123:
08000ADE  2047      1207          move.l    D7,A0
08000AE0  208D      1208          move.l    A5,(A0)
                    1209   doscan_124:
08000AE2  5284      1210          addq.l    #1,D4
                    1211   doscan_119:
08000AE4  0C82 FFFF 1212          cmp.l     #-1,D2
08000AE8  FFFF      
08000AEA  6612      1213          bne.s     doscan_125
08000AEC  4A84      1214          tst.l     D4
08000AEE  6704      1215          beq.s     doscan_127
08000AF0  2004      1216          move.l    D4,D0
08000AF2  6006      1217          bra.s     doscan_128
                    1218   doscan_127:
08000AF4  70FF      1219          moveq     #-1,D0
08000AF6  4880      1220          ext.w     D0
08000AF8  48C0      1221          ext.l     D0
                    1222   doscan_128:
08000AFA  6000 0096 1223          bra       doscan_15
                    1224   doscan_125:
08000AFE  6000 008C 1225          bra       doscan_141
                    1226   doscan_87:
08000B02  0C83 0000 1227          cmp.l     #37,D3
08000B06  0025      
08000B08  6600 0046 1228          bne       doscan_129
08000B0C  2F05      1229          move.l    D5,-(A7)
08000B0E  4E93      1230          jsr       (A3)
08000B10  584F      1231          addq.w    #4,A7
08000B12  2400      1232          move.l    D0,D2
08000B14  0C82 FFFF 1233          cmp.l     #-1,D2
08000B18  FFFF      
08000B1A  6612      1234          bne.s     doscan_131
08000B1C  4A84      1235          tst.l     D4
08000B1E  6704      1236          beq.s     doscan_133
08000B20  2004      1237          move.l    D4,D0
08000B22  6006      1238          bra.s     doscan_134
                    1239   doscan_133:
08000B24  70FF      1240          moveq     #-1,D0
08000B26  4880      1241          ext.w     D0
08000B28  48C0      1242          ext.l     D0
                    1243   doscan_134:
08000B2A  6000 0066 1244          bra       doscan_15
                    1245   doscan_131:
08000B2E  52AE FFE4 1246          addq.l    #1,-28(A6)
08000B32  B483      1247          cmp.l     D3,D2
08000B34  6716      1248          beq.s     doscan_135
08000B36  2F02      1249          move.l    D2,-(A7)
08000B38  2F05      1250          move.l    D5,-(A7)
08000B3A  4EB9 0800 1251          jsr       @doscan_putback
08000B3E  0314      
08000B40  504F      1252          addq.w    #8,A7
08000B42  53AE FFE4 1253          subq.l    #1,-28(A6)
08000B46  2004      1254          move.l    D4,D0
08000B48  6000 0048 1255          bra       doscan_15
                    1256   doscan_135:
08000B4C  6000 003E 1257          bra       doscan_141
                    1258   doscan_129:
08000B50  2F05      1259          move.l    D5,-(A7)
08000B52  4E93      1260          jsr       (A3)
08000B54  584F      1261          addq.w    #4,A7
08000B56  2400      1262          move.l    D0,D2
08000B58  52AE FFE4 1263          addq.l    #1,-28(A6)
08000B5C  0C82 FFFF 1264          cmp.l     #-1,D2
08000B60  FFFF      
08000B62  6610      1265          bne.s     doscan_137
08000B64  4A84      1266          tst.l     D4
08000B66  6704      1267          beq.s     doscan_139
08000B68  2004      1268          move.l    D4,D0
08000B6A  6006      1269          bra.s     doscan_140
                    1270   doscan_139:
08000B6C  70FF      1271          moveq     #-1,D0
08000B6E  4880      1272          ext.w     D0
08000B70  48C0      1273          ext.l     D0
                    1274   doscan_140:
08000B72  601E      1275          bra.s     doscan_15
                    1276   doscan_137:
08000B74  B483      1277          cmp.l     D3,D2
08000B76  6714      1278          beq.s     doscan_141
08000B78  2F02      1279          move.l    D2,-(A7)
08000B7A  2F05      1280          move.l    D5,-(A7)
08000B7C  4EB9 0800 1281          jsr       @doscan_putback
08000B80  0314      
08000B82  504F      1282          addq.w    #8,A7
08000B84  53AE FFE4 1283          subq.l    #1,-28(A6)
08000B88  2004      1284          move.l    D4,D0
08000B8A  6006      1285          bra.s     doscan_15
                    1286   doscan_141:
08000B8C  6000 F9D4 1287          bra       doscan_3
                    1288   doscan_5:
08000B90  2004      1289          move.l    D4,D0
                    1290   doscan_15:
08000B92  4CDF 3CFC 1291          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08000B96  4E5E      1292          unlk      A6
08000B98  4E75      1293          rts
                    1294   _printf:
08000B9A  4E56 FFFC 1295          link      A6,#-4
08000B9E  2F02      1296          move.l    D2,-(A7)
08000BA0  41EE 0008 1297          lea       8(A6),A0
08000BA4  5848      1298          addq.w    #4,A0
08000BA6  2408      1299          move.l    A0,D2
08000BA8  2F02      1300          move.l    D2,-(A7)
08000BAA  2F2E 0008 1301          move.l    8(A6),-(A7)
08000BAE  42A7      1302          clr.l     -(A7)
08000BB0  4EB9 0800 1303          jsr       _doprint
08000BB4  0DEA      
08000BB6  DEFC 000C 1304          add.w     #12,A7
08000BBA  2D40 FFFC 1305          move.l    D0,-4(A6)
08000BBE  4282      1306          clr.l     D2
08000BC0  202E FFFC 1307          move.l    -4(A6),D0
08000BC4  241F      1308          move.l    (A7)+,D2
08000BC6  4E5E      1309          unlk      A6
08000BC8  4E75      1310          rts
                    1311   ULMUL:
08000BCA  4E56 0000 1312          link    A6,#0
08000BCE  48E7 C000 1313          movem.l D0/D1,-(A7)
08000BD2  222E 0008 1314          move.l  8(A6),D1
08000BD6  202E 000C 1315          move.l  12(A6),D0
08000BDA  602C      1316          bra.s   lmul_3
                    1317   LMUL:
08000BDC  4E56 0000 1318          link    A6,#0
08000BE0  48E7 C000 1319          movem.l D0/D1,-(A7)
08000BE4  222E 0008 1320          move.l  8(A6),D1
08000BE8  202E 000C 1321          move.l  12(A6),D0
08000BEC  4A80      1322          tst.l   D0
08000BEE  6A0A      1323          bpl.s   lmul_1
08000BF0  4480      1324          neg.l   D0
08000BF2  4A81      1325          tst.l   D1
08000BF4  6A0A      1326          bpl.s   lmul_2
08000BF6  4481      1327          neg.l   D1
08000BF8  600E      1328          bra.s   lmul_3
                    1329   lmul_1:
08000BFA  4A81      1330          tst.l   D1
08000BFC  6A0A      1331          bpl.s   lmul_3
08000BFE  4481      1332          neg.l   D1
                    1333   lmul_2:
08000C00  6114      1334          bsr.s   domul
08000C02  4481      1335          neg.l   D1
08000C04  4080      1336          negx.l  D0
08000C06  6002      1337          bra.s   lmul_4
                    1338   lmul_3:
08000C08  610C      1339          bsr.s   domul
                    1340   lmul_4:
08000C0A  2D41 0008 1341          move.l  D1,8(A6)
08000C0E  4CDF 0003 1342          movem.l (A7)+,D0/D1
08000C12  4E5E      1343          unlk    A6
08000C14  4E75      1344          rts
                    1345   domul:
08000C16  0C81 0000 1346          cmpi.l  #$FFFF,D1
08000C1A  FFFF      
08000C1C  620C      1347          bhi.s   domul_1
08000C1E  0C80 0000 1348          cmpi.l  #$FFFF,D0
08000C22  FFFF      
08000C24  620E      1349          bhi.s   domul_2
08000C26  C2C0      1350          mulu    D0,D1
08000C28  4E75      1351          rts
                    1352   domul_1:
08000C2A  0C80 0000 1353          cmpi.l  #$FFFF,D0
08000C2E  FFFF      
08000C30  6218      1354          bhi.s   domul_4
08000C32  6002      1355          bra.s   domul_3
                    1356   domul_2
08000C34  C141      1357          exg     D0,D1
                    1358   domul_3:
08000C36  2F02      1359          move.l  D2,-(A7)
08000C38  2401      1360          move.l  D1,D2
08000C3A  4842      1361          swap    D2
08000C3C  C2C0      1362          mulu    D0,D1
08000C3E  C4C0      1363          mulu    D0,D2
08000C40  4842      1364          swap    D2
08000C42  4242      1365          clr.w   D2
08000C44  D282      1366          add.l   D2,D1
08000C46  241F      1367          move.l  (A7)+,D2
08000C48  4E75      1368          rts
                    1369   domul_4:
08000C4A  48E7 3000 1370          movem.l D2/D3,-(A7)
08000C4E  2401      1371          move.l  D1,D2
08000C50  2601      1372          move.l  D1,D3
08000C52  C2C0      1373          mulu    D0,D1
08000C54  4842      1374          swap    D2
08000C56  C4C0      1375          mulu    D0,D2
08000C58  4840      1376          swap    D0
08000C5A  C6C0      1377          mulu    D0,D3
08000C5C  D483      1378          add.l   D3,D2
08000C5E  4842      1379          swap    D2
08000C60  4242      1380          clr.w   D2
08000C62  D282      1381          add.l   D2,D1
08000C64  4CDF 000C 1382          movem.l (A7)+,D2/D3
08000C68  4E75      1383          rts
                    1384   _gets:
08000C6A  4E56 0000 1385          link      A6,#0
08000C6E  48E7 3820 1386          movem.l   D2/D3/D4/A2,-(A7)
08000C72  45F9 0800 1387          lea       _putch.L,A2
08000C76  141A      
08000C78  282E 0008 1388          move.l    8(A6),D4
08000C7C  2404      1389          move.l    D4,D2
                    1390   gets_1:
08000C7E  4EB9 0800 1391          jsr       _getch
08000C82  144A      
08000C84  2600      1392          move.l    D0,D3
08000C86  0C80 0000 1393          cmp.l     #10,D0
08000C8A  000A      
08000C8C  6700 003C 1394          beq       gets_3
08000C90  0C83 0000 1395          cmp.l     #8,D3
08000C94  0008      
08000C96  6712      1396          beq.s     gets_4
08000C98  2042      1397          move.l    D2,A0
08000C9A  5282      1398          addq.l    #1,D2
08000C9C  1083      1399          move.b    D3,(A0)
08000C9E  4883      1400          ext.w     D3
08000CA0  48C3      1401          ext.l     D3
08000CA2  2F03      1402          move.l    D3,-(A7)
08000CA4  4E92      1403          jsr       (A2)
08000CA6  584F      1404          addq.w    #4,A7
08000CA8  601E      1405          bra.s     gets_6
                    1406   gets_4:
08000CAA  B484      1407          cmp.l     D4,D2
08000CAC  631A      1408          bls.s     gets_6
08000CAE  4878 0008 1409          pea       8
08000CB2  4E92      1410          jsr       (A2)
08000CB4  584F      1411          addq.w    #4,A7
08000CB6  4878 0020 1412          pea       32
08000CBA  4E92      1413          jsr       (A2)
08000CBC  584F      1414          addq.w    #4,A7
08000CBE  4878 0008 1415          pea       8
08000CC2  4E92      1416          jsr       (A2)
08000CC4  584F      1417          addq.w    #4,A7
08000CC6  5382      1418          subq.l    #1,D2
                    1419   gets_6:
08000CC8  60B4      1420          bra       gets_1
                    1421   gets_3:
08000CCA  4878 000A 1422          pea       10
08000CCE  4E92      1423          jsr       (A2)
08000CD0  584F      1424          addq.w    #4,A7
08000CD2  2042      1425          move.l    D2,A0
08000CD4  4210      1426          clr.b     (A0)
08000CD6  2004      1427          move.l    D4,D0
08000CD8  4CDF 041C 1428          movem.l   (A7)+,D2/D3/D4/A2
08000CDC  4E5E      1429          unlk      A6
08000CDE  4E75      1430          rts
                    1431   _tolower:
08000CE0  202F 0004 1432          move.l    4(A7),D0
08000CE4  0C80 0000 1433          cmp.l     #'A',D0
08000CE8  0041      
08000CEA  6D0E      1434          blt.s     tolower_1
08000CEC  0C80 0000 1435          cmp.l     #'Z',D0
08000CF0  005A      
08000CF2  6E06      1436          bgt.s     tolower_1
08000CF4  0680 0000 1437          add.l     #$20,D0
08000CF8  0020      
                    1438   tolower_1:
08000CFA  4E75      1439          rts
                    1440   _strcat:
08000CFC  206F 0004 1441          move.l    (4,A7),A0
08000D00  226F 0008 1442          move.l    (8,A7),A1
08000D04  2008      1443          move.l    A0,D0
                    1444   strcat_1:
08000D06  4A18      1445          tst.b     (A0)+
08000D08  66FC      1446          bne.s     strcat_1
08000D0A  5388      1447          subq.l    #1,A0
                    1448   strcat_2:
08000D0C  10D9      1449          move.b    (A1)+,(A0)+
08000D0E  66FC      1450          bne.s     strcat_2
08000D10  4E75      1451          rts
                    1452   _toupper:
08000D12  202F 0004 1453          move.l    4(A7),D0
08000D16  0C80 0000 1454          cmp.l     #'a',D0
08000D1A  0061      
08000D1C  6D0E      1455          blt.s     toupper_1
08000D1E  0C80 0000 1456          cmp.l     #'z',D0
08000D22  007A      
08000D24  6E06      1457          bgt.s     toupper_1
08000D26  0480 0000 1458          sub.l     #$20,D0
08000D2A  0020      
                    1459   toupper_1:
08000D2C  4E75      1460          rts
                    1461   _ungetch:
08000D2E  4E56 0000 1462          link      A6,#0
08000D32  23EE 0008 1463          move.l    8(A6),__ungetbuf.L
08000D36  0800 1870 
08000D3A  202E 0008 1464          move.l    8(A6),D0
08000D3E  4E5E      1465          unlk      A6
08000D40  4E75      1466          rts
                    1467   @doprint_copy:
08000D42  4E56 0000 1468          link      A6,#0
08000D46  206E 0008 1469          move.l    8(A6),A0
08000D4A  4A90      1470          tst.l     (A0)
08000D4C  6710      1471          beq.s     @doprint_copy_1
08000D4E  202E 000C 1472          move.l    12(A6),D0
08000D52  206E 0008 1473          move.l    8(A6),A0
08000D56  2250      1474          move.l    (A0),A1
08000D58  5290      1475          addq.l    #1,(A0)
08000D5A  1280      1476          move.b    D0,(A1)
08000D5C  600C      1477          bra.s     @doprint_copy_2
                    1478   @doprint_copy_1:
08000D5E  2F2E 000C 1479          move.l    12(A6),-(A7)
08000D62  4EB9 0800 1480          jsr       _putch
08000D66  141A      
08000D68  584F      1481          addq.w    #4,A7
                    1482   @doprint_copy_2:
08000D6A  4E5E      1483          unlk      A6
08000D6C  4E75      1484          rts
                    1485   @doprint_getval:
08000D6E  4E56 0000 1486          link      A6,#0
08000D72  48E7 3000 1487          movem.l   D2/D3,-(A7)
08000D76  262E 0008 1488          move.l    8(A6),D3
08000D7A  4282      1489          clr.l     D2
08000D7C  2043      1490          move.l    D3,A0
08000D7E  2050      1491          move.l    (A0),A0
08000D80  1010      1492          move.b    (A0),D0
08000D82  0C00 002A 1493          cmp.b     #42,D0
08000D86  6612      1494          bne.s     @doprint_getval_1
08000D88  206E 000C 1495          move.l    12(A6),A0
08000D8C  2250      1496          move.l    (A0),A1
08000D8E  5890      1497          addq.l    #4,(A0)
08000D90  2411      1498          move.l    (A1),D2
08000D92  2043      1499          move.l    D3,A0
08000D94  5290      1500          addq.l    #1,(A0)
08000D96  6000 0048 1501          bra       @doprint_getval_5
                    1502   @doprint_getval_1:
08000D9A  7001      1503          moveq     #1,D0
08000D9C  2043      1504          move.l    D3,A0
08000D9E  2050      1505          move.l    (A0),A0
08000DA0  1210      1506          move.b    (A0),D1
08000DA2  4881      1507          ext.w     D1
08000DA4  48C1      1508          ext.l     D1
08000DA6  D081      1509          add.l     D1,D0
08000DA8  41F9 0800 1510          lea       __ctype.L,A0
08000DAC  1762      
08000DAE  1030 0800 1511          move.b    0(A0,D0.L),D0
08000DB2  C03C 0004 1512          and.b     #4,D0
08000DB6  6728      1513          beq.s     @doprint_getval_5
08000DB8  2F02      1514          move.l    D2,-(A7)
08000DBA  4878 000A 1515          pea       10
08000DBE  4EB9 0800 1516          jsr       LMUL
08000DC2  0BDC      
08000DC4  2017      1517          move.l    (A7),D0
08000DC6  504F      1518          addq.w    #8,A7
08000DC8  2043      1519          move.l    D3,A0
08000DCA  2250      1520          move.l    (A0),A1
08000DCC  5290      1521          addq.l    #1,(A0)
08000DCE  1211      1522          move.b    (A1),D1
08000DD0  4881      1523          ext.w     D1
08000DD2  48C1      1524          ext.l     D1
08000DD4  D081      1525          add.l     D1,D0
08000DD6  0480 0000 1526          sub.l     #48,D0
08000DDA  0030      
08000DDC  2400      1527          move.l    D0,D2
08000DDE  60BA      1528          bra       @doprint_getval_1
                    1529   @doprint_getval_5:
08000DE0  2002      1530          move.l    D2,D0
08000DE2  4CDF 000C 1531          movem.l   (A7)+,D2/D3
08000DE6  4E5E      1532          unlk      A6
08000DE8  4E75      1533          rts
                    1534   _doprint:
08000DEA  4E56 FFCC 1535          link      A6,#-52
08000DEE  48E7 3F3C 1536          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000DF2  45EE 0008 1537          lea       8(A6),A2
08000DF6  47F9 0800 1538          lea       @doprint_copy.L,A3
08000DFA  0D42      
08000DFC  49F9 0800 1539          lea       _ultoa.L,A4
08000E00  158E      
08000E02  4286      1540          clr.l     D6
                    1541   doprint_1:
08000E04  206E 000C 1542          move.l    12(A6),A0
08000E08  4A10      1543          tst.b     (A0)
08000E0A  6700 05F0 1544          beq       doprint_3
08000E0E  206E 000C 1545          move.l    12(A6),A0
08000E12  1010      1546          move.b    (A0),D0
08000E14  0C00 0025 1547          cmp.b     #37,D0
08000E18  671C      1548          beq.s     doprint_4
08000E1A  206E 000C 1549          move.l    12(A6),A0
08000E1E  52AE 000C 1550          addq.l    #1,12(A6)
08000E22  1210      1551          move.b    (A0),D1
08000E24  4881      1552          ext.w     D1
08000E26  48C1      1553          ext.l     D1
08000E28  2F01      1554          move.l    D1,-(A7)
08000E2A  2F0A      1555          move.l    A2,-(A7)
08000E2C  4E93      1556          jsr       (A3)
08000E2E  504F      1557          addq.w    #8,A7
08000E30  5286      1558          addq.l    #1,D6
08000E32  6000 05C4 1559          bra       doprint_2
                    1560   doprint_4:
08000E36  52AE 000C 1561          addq.l    #1,12(A6)
08000E3A  422E FFD3 1562          clr.b     -45(A6)
08000E3E  422E FFD2 1563          clr.b     -46(A6)
08000E42  422E FFD0 1564          clr.b     -48(A6)
08000E46  422E FFCF 1565          clr.b     -49(A6)
08000E4A  422E FFCE 1566          clr.b     -50(A6)
08000E4E  422E FFCD 1567          clr.b     -51(A6)
08000E52  42AE FFFC 1568          clr.l     -4(A6)
08000E56  7AFF      1569          moveq     #-1,D5
08000E58  41EE FFDC 1570          lea       -36(A6),A0
08000E5C  2608      1571          move.l    A0,D3
08000E5E  2408      1572          move.l    A0,D2
                    1573   doprint_6:
08000E60  206E 000C 1574          move.l    12(A6),A0
08000E64  1010      1575          move.b    (A0),D0
08000E66  4880      1576          ext.w     D0
08000E68  48C0      1577          ext.l     D0
08000E6A  0C80 0000 1578          cmp.l     #43,D0
08000E6E  002B      
08000E70  6730      1579          beq.s     doprint_12
08000E72  6E18      1580          bgt.s     doprint_15
08000E74  0C80 0000 1581          cmp.l     #35,D0
08000E78  0023      
08000E7A  6700 003E 1582          beq       doprint_14
08000E7E  6E00 0046 1583          bgt       doprint_9
08000E82  0C80 0000 1584          cmp.l     #32,D0
08000E86  0020      
08000E88  6724      1585          beq.s     doprint_13
08000E8A  603A      1586          bra.s     doprint_9
                    1587   doprint_15:
08000E8C  0C80 0000 1588          cmp.l     #45,D0
08000E90  002D      
08000E92  6702      1589          beq.s     doprint_11
08000E94  6030      1590          bra.s     doprint_9
                    1591   doprint_11:
08000E96  1D7C 0001 1592          move.b    #1,-51(A6)
08000E9A  FFCD      
08000E9C  52AE 000C 1593          addq.l    #1,12(A6)
08000EA0  6026      1594          bra.s     doprint_7
                    1595   doprint_12:
08000EA2  1D7C 0001 1596          move.b    #1,-50(A6)
08000EA6  FFCE      
08000EA8  52AE 000C 1597          addq.l    #1,12(A6)
08000EAC  601A      1598          bra.s     doprint_7
                    1599   doprint_13:
08000EAE  1D7C 0001 1600          move.b    #1,-49(A6)
08000EB2  FFCF      
08000EB4  52AE 000C 1601          addq.l    #1,12(A6)
08000EB8  600E      1602          bra.s     doprint_7
                    1603   doprint_14:
08000EBA  1D7C 0001 1604          move.b    #1,-48(A6)
08000EBE  FFD0      
08000EC0  52AE 000C 1605          addq.l    #1,12(A6)
08000EC4  6002      1606          bra.s     doprint_7
                    1607   doprint_9:
08000EC6  6002      1608          bra.s     doprint_8
                    1609   doprint_7:
08000EC8  6096      1610          bra       doprint_6
                    1611   doprint_8:
08000ECA  206E 000C 1612          move.l    12(A6),A0
08000ECE  1010      1613          move.b    (A0),D0
08000ED0  0C00 0030 1614          cmp.b     #48,D0
08000ED4  660A      1615          bne.s     doprint_16
08000ED6  52AE 000C 1616          addq.l    #1,12(A6)
08000EDA  1D7C 0001 1617          move.b    #1,-46(A6)
08000EDE  FFD2      
                    1618   doprint_16:
08000EE0  486E 0010 1619          pea       16(A6)
08000EE4  486E 000C 1620          pea       12(A6)
08000EE8  4EB9 0800 1621          jsr       @doprint_getval
08000EEC  0D6E      
08000EEE  504F      1622          addq.w    #8,A7
08000EF0  2A40      1623          move.l    D0,A5
08000EF2  206E 000C 1624          move.l    12(A6),A0
08000EF6  1010      1625          move.b    (A0),D0
08000EF8  0C00 002E 1626          cmp.b     #46,D0
08000EFC  6616      1627          bne.s     doprint_18
08000EFE  52AE 000C 1628          addq.l    #1,12(A6)
08000F02  486E 0010 1629          pea       16(A6)
08000F06  486E 000C 1630          pea       12(A6)
08000F0A  4EB9 0800 1631          jsr       @doprint_getval
08000F0E  0D6E      
08000F10  504F      1632          addq.w    #8,A7
08000F12  2A00      1633          move.l    D0,D5
                    1634   doprint_18:
08000F14  206E 000C 1635          move.l    12(A6),A0
08000F18  1010      1636          move.b    (A0),D0
08000F1A  0C00 006C 1637          cmp.b     #108,D0
08000F1E  660A      1638          bne.s     doprint_20
08000F20  52AE 000C 1639          addq.l    #1,12(A6)
08000F24  1D7C 0001 1640          move.b    #1,-45(A6)
08000F28  FFD3      
                    1641   doprint_20:
08000F2A  206E 000C 1642          move.l    12(A6),A0
08000F2E  1010      1643          move.b    (A0),D0
08000F30  4880      1644          ext.w     D0
08000F32  48C0      1645          ext.l     D0
08000F34  0C80 0000 1646          cmp.l     #111,D0
08000F38  006F      
08000F3A  6700 00D8 1647          beq       doprint_27
08000F3E  6E34      1648          bgt.s     doprint_33
08000F40  0C80 0000 1649          cmp.l     #100,D0
08000F44  0064      
08000F46  6700 0054 1650          beq       doprint_24
08000F4A  6E1C      1651          bgt.s     doprint_34
08000F4C  0C80 0000 1652          cmp.l     #99,D0
08000F50  0063      
08000F52  6700 0130 1653          beq       doprint_30
08000F56  6E00 0174 1654          bgt       doprint_22
08000F5A  0C80 0000 1655          cmp.l     #88,D0
08000F5E  0058      
08000F60  6700 00EA 1656          beq       doprint_28
08000F64  6000 0166 1657          bra       doprint_22
                    1658   doprint_34:
08000F68  0C80 0000 1659          cmp.l     #105,D0
08000F6C  0069      
08000F6E  672C      1660          beq.s     doprint_24
08000F70  6000 015A 1661          bra       doprint_22
                    1662   doprint_33:
08000F74  0C80 0000 1663          cmp.l     #117,D0
08000F78  0075      
08000F7A  6700 0060 1664          beq       doprint_26
08000F7E  6E0E      1665          bgt.s     doprint_35
08000F80  0C80 0000 1666          cmp.l     #115,D0
08000F84  0073      
08000F86  6700 0124 1667          beq       doprint_31
08000F8A  6000 0140 1668          bra       doprint_22
                    1669   doprint_35:
08000F8E  0C80 0000 1670          cmp.l     #120,D0
08000F92  0078      
08000F94  6700 00B6 1671          beq       doprint_28
08000F98  6000 0132 1672          bra       doprint_22
                    1673   doprint_24:
08000F9C  4A2E FFD3 1674          tst.b     -45(A6)
08000FA0  671C      1675          beq.s     doprint_36
08000FA2  4878 000A 1676          pea       10
08000FA6  2F03      1677          move.l    D3,-(A7)
08000FA8  206E 0010 1678          move.l    16(A6),A0
08000FAC  58AE 0010 1679          addq.l    #4,16(A6)
08000FB0  2F10      1680          move.l    (A0),-(A7)
08000FB2  4EB9 0800 1681          jsr       _ltoa
08000FB6  1506      
08000FB8  DEFC 000C 1682          add.w     #12,A7
08000FBC  601A      1683          bra.s     doprint_37
                    1684   doprint_36:
08000FBE  4878 000A 1685          pea       10
08000FC2  2F03      1686          move.l    D3,-(A7)
08000FC4  206E 0010 1687          move.l    16(A6),A0
08000FC8  58AE 0010 1688          addq.l    #4,16(A6)
08000FCC  2F10      1689          move.l    (A0),-(A7)
08000FCE  4EB9 0800 1690          jsr       _ltoa
08000FD2  1506      
08000FD4  DEFC 000C 1691          add.w     #12,A7
                    1692   doprint_37:
08000FD8  6000 0100 1693          bra       doprint_23
                    1694   doprint_26:
08000FDC  4A2E FFD3 1695          tst.b     -45(A6)
08000FE0  6718      1696          beq.s     doprint_38
08000FE2  4878 000A 1697          pea       10
08000FE6  2F03      1698          move.l    D3,-(A7)
08000FE8  206E 0010 1699          move.l    16(A6),A0
08000FEC  58AE 0010 1700          addq.l    #4,16(A6)
08000FF0  2F10      1701          move.l    (A0),-(A7)
08000FF2  4E94      1702          jsr       (A4)
08000FF4  DEFC 000C 1703          add.w     #12,A7
08000FF8  6016      1704          bra.s     doprint_39
                    1705   doprint_38:
08000FFA  4878 000A 1706          pea       10
08000FFE  2F03      1707          move.l    D3,-(A7)
08001000  206E 0010 1708          move.l    16(A6),A0
08001004  58AE 0010 1709          addq.l    #4,16(A6)
08001008  2F10      1710          move.l    (A0),-(A7)
0800100A  4E94      1711          jsr       (A4)
0800100C  DEFC 000C 1712          add.w     #12,A7
                    1713   doprint_39:
08001010  6000 00C8 1714          bra       doprint_23
                    1715   doprint_27:
08001014  4A2E FFD3 1716          tst.b     -45(A6)
08001018  6718      1717          beq.s     doprint_40
0800101A  4878 0008 1718          pea       8
0800101E  2F03      1719          move.l    D3,-(A7)
08001020  206E 0010 1720          move.l    16(A6),A0
08001024  58AE 0010 1721          addq.l    #4,16(A6)
08001028  2F10      1722          move.l    (A0),-(A7)
0800102A  4E94      1723          jsr       (A4)
0800102C  DEFC 000C 1724          add.w     #12,A7
08001030  6016      1725          bra.s     doprint_41
                    1726   doprint_40:
08001032  4878 0008 1727          pea       8
08001036  2F03      1728          move.l    D3,-(A7)
08001038  206E 0010 1729          move.l    16(A6),A0
0800103C  58AE 0010 1730          addq.l    #4,16(A6)
08001040  2F10      1731          move.l    (A0),-(A7)
08001042  4E94      1732          jsr       (A4)
08001044  DEFC 000C 1733          add.w     #12,A7
                    1734   doprint_41:
08001048  6000 0090 1735          bra       doprint_23
                    1736   doprint_28:
0800104C  4A2E FFD3 1737          tst.b     -45(A6)
08001050  6718      1738          beq.s     doprint_42
08001052  4878 0010 1739          pea       16
08001056  2F03      1740          move.l    D3,-(A7)
08001058  206E 0010 1741          move.l    16(A6),A0
0800105C  58AE 0010 1742          addq.l    #4,16(A6)
08001060  2F10      1743          move.l    (A0),-(A7)
08001062  4E94      1744          jsr       (A4)
08001064  DEFC 000C 1745          add.w     #12,A7
08001068  6016      1746          bra.s     doprint_43
                    1747   doprint_42:
0800106A  4878 0010 1748          pea       16
0800106E  2F03      1749          move.l    D3,-(A7)
08001070  206E 0010 1750          move.l    16(A6),A0
08001074  58AE 0010 1751          addq.l    #4,16(A6)
08001078  2F10      1752          move.l    (A0),-(A7)
0800107A  4E94      1753          jsr       (A4)
0800107C  DEFC 000C 1754          add.w     #12,A7
                    1755   doprint_43:
08001080  6000 0058 1756          bra       doprint_23
                    1757   doprint_30:
08001084  206E 0010 1758          move.l    16(A6),A0
08001088  58AE 0010 1759          addq.l    #4,16(A6)
0800108C  2010      1760          move.l    (A0),D0
0800108E  2042      1761          move.l    D2,A0
08001090  5282      1762          addq.l    #1,D2
08001092  1080      1763          move.b    D0,(A0)
08001094  2042      1764          move.l    D2,A0
08001096  4210      1765          clr.b     (A0)
08001098  200D      1766          move.l    A5,D0
0800109A  6704      1767          beq.s     doprint_44
0800109C  200D      1768          move.l    A5,D0
0800109E  6006      1769          bra.s     doprint_45
                    1770   doprint_44:
080010A0  7001      1771          moveq     #1,D0
080010A2  4880      1772          ext.w     D0
080010A4  48C0      1773          ext.l     D0
                    1774   doprint_45:
080010A6  2A00      1775          move.l    D0,D5
080010A8  6000 0030 1776          bra       doprint_23
                    1777   doprint_31:
080010AC  206E 0010 1778          move.l    16(A6),A0
080010B0  58AE 0010 1779          addq.l    #4,16(A6)
080010B4  2610      1780          move.l    (A0),D3
080010B6  0C85 FFFF 1781          cmp.l     #-1,D5
080010BA  FFFF      
080010BC  660C      1782          bne.s     doprint_46
080010BE  2F03      1783          move.l    D3,-(A7)
080010C0  4EB9 0800 1784          jsr       _strlen
080010C4  15F4      
080010C6  584F      1785          addq.w    #4,A7
080010C8  2A00      1786          move.l    D0,D5
                    1787   doprint_46:
080010CA  600E      1788          bra.s     doprint_23
                    1789   doprint_22:
080010CC  206E 000C 1790          move.l    12(A6),A0
080010D0  2242      1791          move.l    D2,A1
080010D2  5282      1792          addq.l    #1,D2
080010D4  1290      1793          move.b    (A0),(A1)
080010D6  2042      1794          move.l    D2,A0
080010D8  4210      1795          clr.b     (A0)
                    1796   doprint_23:
080010DA  2F03      1797          move.l    D3,-(A7)
080010DC  4EB9 0800 1798          jsr       _strlen
080010E0  15F4      
080010E2  584F      1799          addq.w    #4,A7
080010E4  1800      1800          move.b    D0,D4
080010E6  206E 000C 1801          move.l    12(A6),A0
080010EA  1010      1802          move.b    (A0),D0
080010EC  0C00 0073 1803          cmp.b     #115,D0
080010F0  661C      1804          bne.s     doprint_48
080010F2  0C85 0000 1805          cmp.l     #0,D5
080010F6  0000      
080010F8  6D14      1806          blt.s     doprint_48
080010FA  4884      1807          ext.w     D4
080010FC  48C4      1808          ext.l     D4
080010FE  B885      1809          cmp.l     D5,D4
08001100  6F04      1810          ble.s     doprint_50
08001102  2005      1811          move.l    D5,D0
08001104  6006      1812          bra.s     doprint_51
                    1813   doprint_50:
08001106  1004      1814          move.b    D4,D0
08001108  4880      1815          ext.w     D0
0800110A  48C0      1816          ext.l     D0
                    1817   doprint_51:
0800110C  1800      1818          move.b    D0,D4
                    1819   doprint_48:
0800110E  206E 000C 1820          move.l    12(A6),A0
08001112  1010      1821          move.b    (A0),D0
08001114  0C00 0058 1822          cmp.b     #88,D0
08001118  6600 0028 1823          bne       doprint_56
0800111C  41EE FFDC 1824          lea       -36(A6),A0
08001120  2408      1825          move.l    A0,D2
                    1826   doprint_54:
08001122  2042      1827          move.l    D2,A0
08001124  4A10      1828          tst.b     (A0)
08001126  671A      1829          beq.s     doprint_56
08001128  2042      1830          move.l    D2,A0
0800112A  1210      1831          move.b    (A0),D1
0800112C  4881      1832          ext.w     D1
0800112E  48C1      1833          ext.l     D1
08001130  2F01      1834          move.l    D1,-(A7)
08001132  4EB9 0800 1835          jsr       _toupper
08001136  0D12      
08001138  584F      1836          addq.w    #4,A7
0800113A  2042      1837          move.l    D2,A0
0800113C  1080      1838          move.b    D0,(A0)
0800113E  5282      1839          addq.l    #1,D2
08001140  60E0      1840          bra       doprint_54
                    1841   doprint_56:
08001142  7E00      1842          moveq     #0,D7
08001144  41EE FFD4 1843          lea       -44(A6),A0
08001148  2408      1844          move.l    A0,D2
0800114A  206E 000C 1845          move.l    12(A6),A0
0800114E  1010      1846          move.b    (A0),D0
08001150  0C00 0064 1847          cmp.b     #100,D0
08001154  670E      1848          beq.s     doprint_59
08001156  206E 000C 1849          move.l    12(A6),A0
0800115A  1010      1850          move.b    (A0),D0
0800115C  0C00 0069 1851          cmp.b     #105,D0
08001160  6600 0068 1852          bne       doprint_65
                    1853   doprint_59:
08001164  102E FFCE 1854          move.b    -50(A6),D0
08001168  4880      1855          ext.w     D0
0800116A  48C0      1856          ext.l     D0
0800116C  4A80      1857          tst.l     D0
0800116E  660C      1858          bne.s     doprint_62
08001170  2043      1859          move.l    D3,A0
08001172  1010      1860          move.b    (A0),D0
08001174  0C00 002D 1861          cmp.b     #45,D0
08001178  6600 0028 1862          bne       doprint_60
                    1863   doprint_62:
0800117C  2043      1864          move.l    D3,A0
0800117E  1010      1865          move.b    (A0),D0
08001180  0C00 002D 1866          cmp.b     #45,D0
08001184  660E      1867          bne.s     doprint_63
08001186  2043      1868          move.l    D3,A0
08001188  5283      1869          addq.l    #1,D3
0800118A  2242      1870          move.l    D2,A1
0800118C  5282      1871          addq.l    #1,D2
0800118E  1290      1872          move.b    (A0),(A1)
08001190  5304      1873          subq.b    #1,D4
08001192  6008      1874          bra.s     doprint_64
                    1875   doprint_63:
08001194  2042      1876          move.l    D2,A0
08001196  5282      1877          addq.l    #1,D2
08001198  10BC 002B 1878          move.b    #43,(A0)
                    1879   doprint_64:
0800119C  5287      1880          addq.l    #1,D7
0800119E  6000 002A 1881          bra       doprint_65
                    1882   doprint_60:
080011A2  4A2E FFCF 1883          tst.b     -49(A6)
080011A6  6722      1884          beq.s     doprint_65
080011A8  2043      1885          move.l    D3,A0
080011AA  1010      1886          move.b    (A0),D0
080011AC  0C00 002D 1887          cmp.b     #45,D0
080011B0  660E      1888          bne.s     doprint_67
080011B2  2043      1889          move.l    D3,A0
080011B4  5283      1890          addq.l    #1,D3
080011B6  2242      1891          move.l    D2,A1
080011B8  5282      1892          addq.l    #1,D2
080011BA  1290      1893          move.b    (A0),(A1)
080011BC  5304      1894          subq.b    #1,D4
080011BE  6008      1895          bra.s     doprint_68
                    1896   doprint_67:
080011C0  2042      1897          move.l    D2,A0
080011C2  5282      1898          addq.l    #1,D2
080011C4  10BC 0020 1899          move.b    #32,(A0)
                    1900   doprint_68:
080011C8  5287      1901          addq.l    #1,D7
                    1902   doprint_65:
080011CA  4A2E FFD0 1903          tst.b     -48(A6)
080011CE  6700 005A 1904          beq       doprint_77
080011D2  206E 000C 1905          move.l    12(A6),A0
080011D6  1010      1906          move.b    (A0),D0
080011D8  4880      1907          ext.w     D0
080011DA  48C0      1908          ext.l     D0
080011DC  0C80 0000 1909          cmp.l     #111,D0
080011E0  006F      
080011E2  671A      1910          beq.s     doprint_73
080011E4  6E0C      1911          bgt.s     doprint_76
080011E6  0C80 0000 1912          cmp.l     #88,D0
080011EA  0058      
080011EC  6710      1913          beq.s     doprint_73
080011EE  6000 003A 1914          bra       doprint_77
                    1915   doprint_76:
080011F2  0C80 0000 1916          cmp.l     #120,D0
080011F6  0078      
080011F8  6704      1917          beq.s     doprint_73
080011FA  6000 002E 1918          bra       doprint_77
                    1919   doprint_73:
080011FE  2042      1920          move.l    D2,A0
08001200  5282      1921          addq.l    #1,D2
08001202  10BC 0030 1922          move.b    #48,(A0)
08001206  5287      1923          addq.l    #1,D7
08001208  206E 000C 1924          move.l    12(A6),A0
0800120C  1010      1925          move.b    (A0),D0
0800120E  0C00 0078 1926          cmp.b     #120,D0
08001212  670C      1927          beq.s     doprint_79
08001214  206E 000C 1928          move.l    12(A6),A0
08001218  1010      1929          move.b    (A0),D0
0800121A  0C00 0058 1930          cmp.b     #88,D0
0800121E  660A      1931          bne.s     doprint_77
                    1932   doprint_79:
08001220  2042      1933          move.l    D2,A0
08001222  5282      1934          addq.l    #1,D2
08001224  10BC 0078 1935          move.b    #120,(A0)
08001228  5287      1936          addq.l    #1,D7
                    1937   doprint_77:
0800122A  2042      1938          move.l    D2,A0
0800122C  4210      1939          clr.b     (A0)
0800122E  206E 000C 1940          move.l    12(A6),A0
08001232  1010      1941          move.b    (A0),D0
08001234  4880      1942          ext.w     D0
08001236  48C0      1943          ext.l     D0
08001238  0C80 0000 1944          cmp.l     #105,D0
0800123C  0069      
0800123E  6700 0076 1945          beq       doprint_82
08001242  6E42      1946          bgt.s     doprint_93
08001244  0C80 0000 1947          cmp.l     #99,D0
08001248  0063      
0800124A  6700 0084 1948          beq       doprint_96
0800124E  6E1C      1949          bgt.s     doprint_94
08001250  0C80 0000 1950          cmp.l     #88,D0
08001254  0058      
08001256  6700 005E 1951          beq       doprint_82
0800125A  6E00 0184 1952          bgt       doprint_80
0800125E  0C80 0000 1953          cmp.l     #69,D0
08001262  0045      
08001264  6700 0050 1954          beq       doprint_82
08001268  6000 0176 1955          bra       doprint_80
                    1956   doprint_94:
0800126C  0C80 0000 1957          cmp.l     #101,D0
08001270  0065      
08001272  6700 0042 1958          beq       doprint_82
08001276  6E00 0168 1959          bgt       doprint_80
0800127A  0C80 0000 1960          cmp.l     #100,D0
0800127E  0064      
08001280  6734      1961          beq.s     doprint_82
08001282  6000 015C 1962          bra       doprint_80
                    1963   doprint_93:
08001286  0C80 0000 1964          cmp.l     #117,D0
0800128A  0075      
0800128C  6728      1965          beq.s     doprint_82
0800128E  6E1A      1966          bgt.s     doprint_95
08001290  0C80 0000 1967          cmp.l     #115,D0
08001294  0073      
08001296  6700 0038 1968          beq       doprint_96
0800129A  6E00 0144 1969          bgt       doprint_80
0800129E  0C80 0000 1970          cmp.l     #111,D0
080012A2  006F      
080012A4  6710      1971          beq.s     doprint_82
080012A6  6000 0138 1972          bra       doprint_80
                    1973   doprint_95:
080012AA  0C80 0000 1974          cmp.l     #120,D0
080012AE  0078      
080012B0  6704      1975          beq.s     doprint_82
080012B2  6000 012C 1976          bra       doprint_80
                    1977   doprint_82:
080012B6  4A2E FFD2 1978          tst.b     -46(A6)
080012BA  6714      1979          beq.s     doprint_96
080012BC  4A2E FFCD 1980          tst.b     -51(A6)
080012C0  660E      1981          bne.s     doprint_96
080012C2  200D      1982          move.l    A5,D0
080012C4  9087      1983          sub.l     D7,D0
080012C6  4884      1984          ext.w     D4
080012C8  48C4      1985          ext.l     D4
080012CA  9084      1986          sub.l     D4,D0
080012CC  2D40 FFFC 1987          move.l    D0,-4(A6)
                    1988   doprint_96:
080012D0  202E FFFC 1989          move.l    -4(A6),D0
080012D4  0C80 0000 1990          cmp.l     #0,D0
080012D8  0000      
080012DA  6C04      1991          bge.s     doprint_98
080012DC  42AE FFFC 1992          clr.l     -4(A6)
                    1993   doprint_98:
080012E0  4A2E FFCD 1994          tst.b     -51(A6)
080012E4  6600 0030 1995          bne       doprint_104
080012E8  1004      1996          move.b    D4,D0
080012EA  4880      1997          ext.w     D0
080012EC  48C0      1998          ext.l     D0
080012EE  D0AE FFFC 1999          add.l     -4(A6),D0
080012F2  D087      2000          add.l     D7,D0
080012F4  1D40 FFD1 2001          move.b    D0,-47(A6)
                    2002   doprint_102:
080012F8  102E FFD1 2003          move.b    -47(A6),D0
080012FC  4880      2004          ext.w     D0
080012FE  48C0      2005          ext.l     D0
08001300  220D      2006          move.l    A5,D1
08001302  534D      2007          subq.w    #1,A5
08001304  B081      2008          cmp.l     D1,D0
08001306  6C0E      2009          bge.s     doprint_104
08001308  4878 0020 2010          pea       32
0800130C  2F0A      2011          move.l    A2,-(A7)
0800130E  4E93      2012          jsr       (A3)
08001310  504F      2013          addq.w    #8,A7
08001312  5286      2014          addq.l    #1,D6
08001314  60E2      2015          bra       doprint_102
                    2016   doprint_104:
08001316  41EE FFD4 2017          lea       -44(A6),A0
0800131A  2408      2018          move.l    A0,D2
                    2019   doprint_105:
0800131C  2042      2020          move.l    D2,A0
0800131E  4A10      2021          tst.b     (A0)
08001320  6716      2022          beq.s     doprint_107
08001322  2042      2023          move.l    D2,A0
08001324  5282      2024          addq.l    #1,D2
08001326  1210      2025          move.b    (A0),D1
08001328  4881      2026          ext.w     D1
0800132A  48C1      2027          ext.l     D1
0800132C  2F01      2028          move.l    D1,-(A7)
0800132E  2F0A      2029          move.l    A2,-(A7)
08001330  4E93      2030          jsr       (A3)
08001332  504F      2031          addq.w    #8,A7
08001334  5286      2032          addq.l    #1,D6
08001336  60E4      2033          bra       doprint_105
                    2034   doprint_107:
08001338  202E FFFC 2035          move.l    -4(A6),D0
0800133C  1D40 FFD1 2036          move.b    D0,-47(A6)
                    2037   doprint_108:
08001340  102E FFD1 2038          move.b    -47(A6),D0
08001344  532E FFD1 2039          subq.b    #1,-47(A6)
08001348  4A00      2040          tst.b     D0
0800134A  670E      2041          beq.s     doprint_110
0800134C  4878 0030 2042          pea       48
08001350  2F0A      2043          move.l    A2,-(A7)
08001352  4E93      2044          jsr       (A3)
08001354  504F      2045          addq.w    #8,A7
08001356  5286      2046          addq.l    #1,D6
08001358  60E6      2047          bra       doprint_108
                    2048   doprint_110:
0800135A  2043      2049          move.l    D3,A0
0800135C  4A10      2050          tst.b     (A0)
0800135E  6700 0048 2051          beq       doprint_113
08001362  206E 000C 2052          move.l    12(A6),A0
08001366  1010      2053          move.b    (A0),D0
08001368  4880      2054          ext.w     D0
0800136A  48C0      2055          ext.l     D0
0800136C  0C80 0000 2056          cmp.l     #115,D0
08001370  0073      
08001372  670C      2057          beq.s     doprint_116
08001374  6E18      2058          bgt.s     doprint_119
08001376  0C80 0000 2059          cmp.l     #99,D0
0800137A  0063      
0800137C  6702      2060          beq.s     doprint_116
0800137E  600E      2061          bra.s     doprint_119
                    2062   doprint_116:
08001380  2005      2063          move.l    D5,D0
08001382  5385      2064          subq.l    #1,D5
08001384  0C80 0000 2065          cmp.l     #0,D0
08001388  0000      
0800138A  6E02      2066          bgt.s     doprint_119
0800138C  6016      2067          bra.s     doprint_115
                    2068   doprint_119:
0800138E  2043      2069          move.l    D3,A0
08001390  5283      2070          addq.l    #1,D3
08001392  1210      2071          move.b    (A0),D1
08001394  4881      2072          ext.w     D1
08001396  48C1      2073          ext.l     D1
08001398  2F01      2074          move.l    D1,-(A7)
0800139A  2F0A      2075          move.l    A2,-(A7)
0800139C  4E93      2076          jsr       (A3)
0800139E  504F      2077          addq.w    #8,A7
080013A0  5286      2078          addq.l    #1,D6
080013A2  6002      2079          bra.s     doprint_112
                    2080   doprint_115:
080013A4  6002      2081          bra.s     doprint_113
                    2082   doprint_112:
080013A6  60B2      2083          bra       doprint_110
                    2084   doprint_113:
080013A8  4A2E FFCD 2085          tst.b     -51(A6)
080013AC  6700 0030 2086          beq       doprint_125
080013B0  1004      2087          move.b    D4,D0
080013B2  4880      2088          ext.w     D0
080013B4  48C0      2089          ext.l     D0
080013B6  D0AE FFFC 2090          add.l     -4(A6),D0
080013BA  D087      2091          add.l     D7,D0
080013BC  1D40 FFD1 2092          move.b    D0,-47(A6)
                    2093   doprint_123:
080013C0  102E FFD1 2094          move.b    -47(A6),D0
080013C4  4880      2095          ext.w     D0
080013C6  48C0      2096          ext.l     D0
080013C8  220D      2097          move.l    A5,D1
080013CA  534D      2098          subq.w    #1,A5
080013CC  B081      2099          cmp.l     D1,D0
080013CE  6C0E      2100          bge.s     doprint_125
080013D0  4878 0020 2101          pea       32
080013D4  2F0A      2102          move.l    A2,-(A7)
080013D6  4E93      2103          jsr       (A3)
080013D8  504F      2104          addq.w    #8,A7
080013DA  5386      2105          subq.l    #1,D6
080013DC  60E2      2106          bra       doprint_123
                    2107   doprint_125:
080013DE  6014      2108          bra.s     doprint_81
                    2109   doprint_80:
080013E0  206E 000C 2110          move.l    12(A6),A0
080013E4  1210      2111          move.b    (A0),D1
080013E6  4881      2112          ext.w     D1
080013E8  48C1      2113          ext.l     D1
080013EA  2F01      2114          move.l    D1,-(A7)
080013EC  2F0A      2115          move.l    A2,-(A7)
080013EE  4E93      2116          jsr       (A3)
080013F0  504F      2117          addq.w    #8,A7
080013F2  5286      2118          addq.l    #1,D6
                    2119   doprint_81:
080013F4  52AE 000C 2120          addq.l    #1,12(A6)
                    2121   doprint_2:
080013F8  6000 FA0A 2122          bra       doprint_1
                    2123   doprint_3:
080013FC  4A92      2124          tst.l     (A2)
080013FE  6710      2125          beq.s     doprint_126
08001400  4201      2126          clr.b     D1
08001402  C2BC 0000 2127          and.l     #255,D1
08001406  00FF      
08001408  2F01      2128          move.l    D1,-(A7)
0800140A  2F0A      2129          move.l    A2,-(A7)
0800140C  4E93      2130          jsr       (A3)
0800140E  504F      2131          addq.w    #8,A7
                    2132   doprint_126:
08001410  2006      2133          move.l    D6,D0
08001412  4CDF 3CFC 2134          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08001416  4E5E      2135          unlk      A6
08001418  4E75      2136          rts
                    2137   _putch:
0800141A  4E56 0000 2138          link      A6,#0
0800141E  2F02      2139          move.l    D2,-(A7)
08001420  242E 0008 2140          move.l    8(A6),D2
08001424  0C82 0000 2141          cmp.l     #10,D2
08001428  000A      
0800142A  660C      2142          bne.s     putch_1
0800142C  4878 000D 2143          pea       13
08001430  4EB9 0800 2144          jsr       __putch
08001434  006A      
08001436  584F      2145          addq.w    #4,A7
                    2146   putch_1:
08001438  2F02      2147          move.l    D2,-(A7)
0800143A  4EB9 0800 2148          jsr       __putch
0800143E  006A      
08001440  584F      2149          addq.w    #4,A7
08001442  2002      2150          move.l    D2,D0
08001444  241F      2151          move.l    (A7)+,D2
08001446  4E5E      2152          unlk      A6
08001448  4E75      2153          rts
                    2154   _getch:
0800144A  2F02      2155          move.l    D2,-(A7)
0800144C  2439 0800 2156          move.l    __ungetbuf.L,D2
08001450  1870      
08001452  2039 0800 2157          move.l    __ungetbuf.L,D0
08001456  1870      
08001458  0C80 FFFF 2158          cmp.l     #-1,D0
0800145C  FFFF      
0800145E  670C      2159          beq.s     getch_1
08001460  23FC FFFF 2160          move.l    #-1,__ungetbuf.L
08001464  FFFF 0800 
08001468  1870      
0800146A  6012      2161          bra.s     getch_3
                    2162   getch_1:
0800146C  4EB9 0800 2163          jsr       __getch
08001470  003E      
08001472  2400      2164          move.l    D0,D2
08001474  0C80 0000 2165          cmp.l     #13,D0
08001478  000D      
0800147A  6602      2166          bne.s     getch_3
0800147C  740A      2167          moveq     #10,D2
                    2168   getch_3:
0800147E  2002      2169          move.l    D2,D0
08001480  241F      2170          move.l    (A7)+,D2
08001482  4E75      2171          rts
                    2172   @itoa_convert:
08001484  4E56 0000 2173          link      A6,#0
08001488  48E7 3C00 2174          movem.l   D2/D3/D4/D5,-(A7)
0800148C  242E 0008 2175          move.l    8(A6),D2
08001490  262E 0010 2176          move.l    16(A6),D3
08001494  2A2E 000C 2177          move.l    12(A6),D5
08001498  2F05      2178          move.l    D5,-(A7)
0800149A  2F03      2179          move.l    D3,-(A7)
0800149C  4EB9 0800 2180          jsr       ULDIV
080014A0  1616      
080014A2  202F 0004 2181          move.l    4(A7),D0
080014A6  504F      2182          addq.w    #8,A7
080014A8  2800      2183          move.l    D0,D4
080014AA  BA83      2184          cmp.l     D3,D5
080014AC  6520      2185          blo.s     @itoa_convert_1
080014AE  2F03      2186          move.l    D3,-(A7)
080014B0  2F05      2187          move.l    D5,-(A7)
080014B2  2F03      2188          move.l    D3,-(A7)
080014B4  4EB9 0800 2189          jsr       ULDIV
080014B8  1616      
080014BA  2217      2190          move.l    (A7),D1
080014BC  504F      2191          addq.w    #8,A7
080014BE  2F01      2192          move.l    D1,-(A7)
080014C0  2F02      2193          move.l    D2,-(A7)
080014C2  4EB9 0800 2194          jsr       @itoa_convert
080014C6  1484      
080014C8  DEFC 000C 2195          add.w     #12,A7
080014CC  2400      2196          move.l    D0,D2
                    2197   @itoa_convert_1:
080014CE  0C84 0000 2198          cmp.l     #9,D4
080014D2  0009      
080014D4  6E0E      2199          bgt.s     @itoa_convert_3
080014D6  2004      2200          move.l    D4,D0
080014D8  7230      2201          moveq     #48,D1
080014DA  C2BC 0000 2202          and.l     #255,D1
080014DE  00FF      
080014E0  D081      2203          add.l     D1,D0
080014E2  6012      2204          bra.s     @itoa_convert_4
                    2205   @itoa_convert_3:
080014E4  2004      2206          move.l    D4,D0
080014E6  7261      2207          moveq     #97,D1
080014E8  C2BC 0000 2208          and.l     #255,D1
080014EC  00FF      
080014EE  D081      2209          add.l     D1,D0
080014F0  0480 0000 2210          sub.l     #10,D0
080014F4  000A      
                    2211   @itoa_convert_4:
080014F6  2042      2212          move.l    D2,A0
080014F8  1080      2213          move.b    D0,(A0)
080014FA  2002      2214          move.l    D2,D0
080014FC  5280      2215          addq.l    #1,D0
080014FE  4CDF 003C 2216          movem.l   (A7)+,D2/D3/D4/D5
08001502  4E5E      2217          unlk      A6
08001504  4E75      2218          rts
                    2219   _ltoa:
08001506  4E56 0000 2220          link      A6,#0
0800150A  48E7 3C00 2221          movem.l   D2/D3/D4/D5,-(A7)
0800150E  242E 0008 2222          move.l    8(A6),D2
08001512  262E 000C 2223          move.l    12(A6),D3
08001516  2A2E 0010 2224          move.l    16(A6),D5
0800151A  2803      2225          move.l    D3,D4
0800151C  0C85 0000 2226          cmp.l     #2,D5
08001520  0002      
08001522  6D08      2227          blt.s     ltoa_3
08001524  0C85 0000 2228          cmp.l     #36,D5
08001528  0024      
0800152A  6F06      2229          ble.s     ltoa_1
                    2230   ltoa_3:
0800152C  2003      2231          move.l    D3,D0
0800152E  6000 0056 2232          bra       ltoa_4
                    2233   ltoa_1:
08001532  0C85 0000 2234          cmp.l     #10,D5
08001536  000A      
08001538  6600 0034 2235          bne       ltoa_5
0800153C  0C82 0000 2236          cmp.l     #0,D2
08001540  0000      
08001542  6C2A      2237          bge.s     ltoa_5
08001544  2002      2238          move.l    D2,D0
08001546  4480      2239          neg.l     D0
08001548  2400      2240          move.l    D0,D2
0800154A  0C82 0000 2241          cmp.l     #0,D2
0800154E  0000      
08001550  6C14      2242          bge.s     ltoa_7
08001552  4879 0800 2243          pea       @itoa_1.L
08001556  1864      
08001558  2F03      2244          move.l    D3,-(A7)
0800155A  4EB9 0800 2245          jsr       _strcpy
0800155E  1606      
08001560  504F      2246          addq.w    #8,A7
08001562  2003      2247          move.l    D3,D0
08001564  6020      2248          bra.s     ltoa_4
                    2249   ltoa_7:
08001566  2044      2250          move.l    D4,A0
08001568  5284      2251          addq.l    #1,D4
0800156A  10BC 002D 2252          move.b    #45,(A0)
                    2253   ltoa_5:
0800156E  2F05      2254          move.l    D5,-(A7)
08001570  2F02      2255          move.l    D2,-(A7)
08001572  2F04      2256          move.l    D4,-(A7)
08001574  4EB9 0800 2257          jsr       @itoa_convert
08001578  1484      
0800157A  DEFC 000C 2258          add.w     #12,A7
0800157E  2800      2259          move.l    D0,D4
08001580  2044      2260          move.l    D4,A0
08001582  4210      2261          clr.b     (A0)
08001584  2003      2262          move.l    D3,D0
                    2263   ltoa_4:
08001586  4CDF 003C 2264          movem.l   (A7)+,D2/D3/D4/D5
0800158A  4E5E      2265          unlk      A6
0800158C  4E75      2266          rts
                    2267   _ultoa:
0800158E  4E56 0000 2268          link      A6,#0
08001592  48E7 3800 2269          movem.l   D2/D3/D4,-(A7)
08001596  262E 0010 2270          move.l    16(A6),D3
0800159A  282E 000C 2271          move.l    12(A6),D4
0800159E  2404      2272          move.l    D4,D2
080015A0  0C83 0000 2273          cmp.l     #2,D3
080015A4  0002      
080015A6  6D08      2274          blt.s     ultoa_3
080015A8  0C83 0000 2275          cmp.l     #36,D3
080015AC  0024      
080015AE  6F04      2276          ble.s     ultoa_1
                    2277   ultoa_3:
080015B0  2004      2278          move.l    D4,D0
080015B2  601A      2279          bra.s     ultoa_4
                    2280   ultoa_1:
080015B4  2F03      2281          move.l    D3,-(A7)
080015B6  2F2E 0008 2282          move.l    8(A6),-(A7)
080015BA  2F02      2283          move.l    D2,-(A7)
080015BC  4EB9 0800 2284          jsr       @itoa_convert
080015C0  1484      
080015C2  DEFC 000C 2285          add.w     #12,A7
080015C6  2400      2286          move.l    D0,D2
080015C8  2042      2287          move.l    D2,A0
080015CA  4210      2288          clr.b     (A0)
080015CC  2004      2289          move.l    D4,D0
                    2290   ultoa_4:
080015CE  4CDF 001C 2291          movem.l   (A7)+,D2/D3/D4
080015D2  4E5E      2292          unlk      A6
080015D4  4E75      2293          rts
                    2294   _itoa:
080015D6  4E56 0000 2295          link      A6,#0
080015DA  2F2E 0010 2296          move.l    16(A6),-(A7)
080015DE  2F2E 000C 2297          move.l    12(A6),-(A7)
080015E2  2F2E 0008 2298          move.l    8(A6),-(A7)
080015E6  4EB9 0800 2299          jsr       _ltoa
080015EA  1506      
080015EC  DEFC 000C 2300          add.w     #12,A7
080015F0  4E5E      2301          unlk      A6
080015F2  4E75      2302          rts
                    2303   _strlen:
080015F4  206F 0004 2304          move.l    (4,A7),A0
080015F8  2248      2305          move.l    A0,A1
                    2306   strlen_1:
080015FA  4A19      2307          tst.b     (A1)+
080015FC  66FC      2308          bne       strlen_1
080015FE  2009      2309          move.l    A1,D0
08001600  9088      2310          sub.l     A0,D0
08001602  5380      2311          subq.l    #1,D0
08001604  4E75      2312          rts
                    2313   _strcpy:
08001606  206F 0004 2314          move.l    (4,A7),A0
0800160A  226F 0008 2315          move.l    (8,A7),A1
0800160E  2008      2316          move.l    A0,D0
                    2317   strcpy_1:
08001610  10D9      2318          move.b    (A1)+,(A0)+
08001612  66FC      2319          bne.s     strcpy_1
08001614  4E75      2320          rts
                    2321   ULDIV:
08001616  4E56 0000 2322          link    A6,#0
0800161A  48E7 C000 2323          movem.l D0/D1,-(A7)
0800161E  222E 0008 2324          move.l  8(A6),D1
08001622  202E 000C 2325          move.l  12(A6),D0
08001626  6036      2326          bra.s   ldiv_3
                    2327   LDIV:
08001628  4E56 0000 2328          link    A6,#0
0800162C  48E7 C000 2329          movem.l D0/D1,-(A7)
08001630  222E 0008 2330          move.l  8(A6),D1
08001634  202E 000C 2331          move.l  12(A6),D0
08001638  4A80      2332          tst.l   D0
0800163A  6A0E      2333          bpl.s   ldiv_1
0800163C  4480      2334          neg.l   D0
0800163E  4A81      2335          tst.l   D1
08001640  6A14      2336          bpl.s   ldiv_2
08001642  4481      2337          neg.l   D1
08001644  612A      2338          bsr.s   dodiv
08001646  4481      2339          neg.l   D1
08001648  6016      2340          bra.s   ldiv_4
                    2341   ldiv_1:
0800164A  4A81      2342          tst.l   D1
0800164C  6A10      2343          bpl.s   ldiv_3
0800164E  4481      2344          neg.l   D1
08001650  611E      2345          bsr.s   dodiv
08001652  4480      2346          neg.l   D0
08001654  600A      2347          bra.s   ldiv_4
                    2348   ldiv_2:
08001656  6118      2349          bsr.s   dodiv
08001658  4480      2350          neg.l   D0
0800165A  4481      2351          neg.l   D1
0800165C  6002      2352          bra.s   ldiv_4
                    2353   ldiv_3:
0800165E  6110      2354          bsr.s   dodiv
                    2355   ldiv_4:
08001660  2D40 0008 2356          move.l  D0,8(A6)
08001664  2D41 000C 2357          move.l  D1,12(A6)
08001668  4CDF 0003 2358          movem.l (A7)+,D0/D1
0800166C  4E5E      2359          unlk    A6
0800166E  4E75      2360          rts
                    2361   dodiv:
08001670  0C81 0000 2362          cmpi.l  #$FFFF,D1
08001674  FFFF      
08001676  6236      2363          bhi.s   dodiv_2
08001678  0C80 0000 2364          cmpi.l  #$FFFF,D0
0800167C  FFFF      
0800167E  6210      2365          bhi.s   dodiv_1
08001680  80C1      2366          divu    D1,D0
08001682  2200      2367          move.l  D0,D1
08001684  4241      2368          clr.w   D1
08001686  4841      2369          swap    D1
08001688  0280 0000 2370          andi.l  #$FFFF,D0
0800168C  FFFF      
0800168E  4E75      2371          rts
                    2372   dodiv_1:
08001690  48A7 A000 2373          movem.w D0/D2,-(A7)
08001694  4240      2374          clr.w   D0
08001696  4840      2375          swap    D0
08001698  80C1      2376          divu    D1,D0
0800169A  3400      2377          move.w  D0,D2
0800169C  301F      2378          move.w  (A7)+,D0
0800169E  80C1      2379          divu    D1,D0
080016A0  4840      2380          swap    D0
080016A2  4281      2381          clr.l   D1
080016A4  3200      2382          move.w  D0,D1
080016A6  3002      2383          move.w  D2,D0
080016A8  4840      2384          swap    D0
080016AA  341F      2385          move.w  (A7)+,D2
080016AC  4E75      2386          rts
                    2387   dodiv_2:
080016AE  48E7 3800 2388          movem.l D2/D3/D4,-(A7)
080016B2  2401      2389          move.l  D1,D2
080016B4  4242      2390          clr.w   D2
080016B6  4842      2391          swap    D2
080016B8  5282      2392          addq.l  #1,D2
080016BA  2600      2393          move.l  D0,D3
080016BC  2801      2394          move.l  D1,D4
080016BE  2202      2395          move.l  D2,D1
080016C0  61CE      2396          bsr.s   dodiv_1
080016C2  2204      2397          move.l  D4,D1
080016C4  82C2      2398          divu    D2,D1
080016C6  80C1      2399          divu    D1,D0
080016C8  0280 0000 2400          andi.l  #$FFFF,D0
080016CC  FFFF      
                    2401   dodiv_3:
080016CE  2204      2402          move.l  D4,D1
080016D0  2404      2403          move.l  D4,D2
080016D2  4842      2404          swap    D2
080016D4  C2C0      2405          mulu    D0,D1
080016D6  C4C0      2406          mulu    D0,D2
080016D8  4842      2407          swap    D2
080016DA  D282      2408          add.l   D2,D1
080016DC  9283      2409          sub.l   D3,D1
080016DE  620A      2410          bhi.s   dodiv_4
080016E0  4481      2411          neg.l   D1
080016E2  B881      2412          cmp.l   D1,D4
080016E4  6208      2413          bhi.s   dodiv_5
080016E6  5280      2414          addq.l  #1,D0
080016E8  60E4      2415          bra.s   dodiv_3
                    2416   dodiv_4:
080016EA  5380      2417          subq.l  #1,D0
080016EC  60E0      2418          bra.s   dodiv_3
                    2419   dodiv_5:
080016EE  4CDF 001C 2420          movem.l (A7)+,D2/D3/D4
080016F2  4E75      2421          rts
                    2422          section   const
080016F4            2423                   align
                    2424   
                    2425   
                    2426   @m68kus~1_1:
080016F4  0D0A 4865 2427          dc.b      13,10,72,101,108,108,111,32,67,80,69,78,32,52
080016F8  6C6C 6F20 
080016FC  4350 454E 
08001700  2034      
08001702  3132 2053 2428          dc.b      49,50,32,83,116,117,100,101,110,116,13,10,87
08001706  7475 6465 
0800170A  6E74 0D0A 
0800170E  57        
0800170F  656C 636F 2429          dc.b      101,108,99,111,109,101,32,116,111,32,76,97,98
08001713  6D65 2074 
08001717  6F20 4C61 
0800171B  62        
0800171C  3321 2121 2430          dc.b      51,33,33,33,13,10,0
08001720  0D0A 00   
                    2431   @m68kus~1_2:
08001724  5468 6973 2432          dc.b      84,104,105,115,32,105,115,32,116,104,101,32
08001728  2069 7320 
0800172C  7468 6520 
08001730  7365 6E74 2433          dc.b      115,101,110,116,32,66,121,116,101,58,32,37,99
08001734  2042 7974 
08001738  653A 2025 
0800173C  63        
0800173D  0D0A 00   2434          dc.b      13,10,0
                    2435   @m68kus~1_3:
08001740  5468 6973 2436          dc.b      84,104,105,115,32,105,115,32,116,104,101,32
08001744  2069 7320 
08001748  7468 6520 
0800174C  7265 6365 2437          dc.b      114,101,99,101,105,118,101,100,32,66,121,116
08001750  6976 6564 
08001754  2042 7974 
08001758  653A 2025 2438          dc.b      101,58,32,37,99,13,10,0
0800175C  630D 0A00 
                    2439   @doscan_1:
08001760  0A00      2440          dc.b      10,0
                    2441   __ctype:
08001762  0040 4040 2442          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
08001766  4040 4040 
0800176A  4040 5050 
0800176E  5050 50   
08001771  4040 4040 2443          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
08001775  4040 4040 
08001779  4040 4040 
0800177D  4040 40   
08001780  4040 40D0 2444          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
08001784  A0A0 A0A0 
08001788  A0A0 A0A0 
0800178C  A0A0 A0A0 2445          dc.b      160,160,160,160,160,160,160,140,140,140,140
08001790  A0A0 A08C 
08001794  8C8C 8C   
08001797  8C8C 8C8C 2446          dc.b      140,140,140,140,140,140,160,160,160,160,160
0800179B  8C8C A0A0 
0800179F  A0A0 A0   
080017A2  A0A0 8A8A 2447          dc.b      160,160,138,138,138,138,138,138,130,130,130
080017A6  8A8A 8A8A 
080017AA  8282 82   
080017AD  8282 8282 2448          dc.b      130,130,130,130,130,130,130,130,130,130,130
080017B1  8282 8282 
080017B5  8282 82   
080017B8  8282 8282 2449          dc.b      130,130,130,130,130,130,160,160,160,160,160
080017BC  8282 A0A0 
080017C0  A0A0 A0   
080017C3  A089 8989 2450          dc.b      160,137,137,137,137,137,137,129,129,129,129
080017C7  8989 8981 
080017CB  8181 81   
080017CE  8181 8181 2451          dc.b      129,129,129,129,129,129,129,129,129,129,129
080017D2  8181 8181 
080017D6  8181 81   
080017D9  8181 8181 2452          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
080017DD  81A0 A0A0 
080017E1  A040 0000 
080017E5  00        
080017E6  0000 0000 2453          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080017EA  0000 0000 
080017EE  0000 0000 
080017F2  0000 0000 
080017F6  0000 0000 
080017FA  0000      
080017FC  0000 0000 2454          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001800  0000 0000 
08001804  0000 0000 
08001808  0000 0000 
0800180C  0000 0000 
08001810  0000      
08001812  0000 0000 2455          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001816  0000 0000 
0800181A  0000 0000 
0800181E  0000 0000 
08001822  0000 0000 
08001826  0000      
08001828  0000 0000 2456          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800182C  0000 0000 
08001830  0000 0000 
08001834  0000 0000 
08001838  0000 0000 
0800183C  0000      
0800183E  0000 0000 2457          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001842  0000 0000 
08001846  0000 0000 
0800184A  0000 0000 
0800184E  0000 0000 
08001852  0000      
08001854  0000 0000 2458          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001858  0000 0000 
0800185C  0000 0000 
08001860  0000 00   
                    2459   @itoa_1:
08001864  2D32 3134 2460          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
08001868  3734 3833 
0800186C  3634 3800 
                    2461          section   data
08001870            2462                   align
                    2463   
                    2464   *********************************************************************************************************************************************************
                    2465   * Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
                    2466   ********************************************************************************************************************************************************
                    2467   
          0800 1870 2468   DataStart       equ       *
08001870            2469   __ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
08001874            2470   __allocp:       ds.l      1                    start of free memory block list
08001878            2471   __heap:         ds.l      1                    begin of free memory
                    2472   
                    2473   
                    2474   @doscan_lpbuf:
0800187C  0800 1880 2475          dc.l      @doscan_buf
                    2476          section   bss
08001880            2477                   align
                    2478   
          0800 1880 2479   DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
          0000 0010 2480   DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup
                    2481   
                    2482   *********************************************************************************************************
                    2483   * Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
                    2484   *********************************************************************************************************
          0800 1880 2485   BssStart       equ       *
                    2486   
                    2487   @doscan_buf:
08001880            2488          ds.b      80
                    2489          section   heap
080018D0            2490                  align
                    2491   
          0800 18D0 2492   BssEnd         equ       *
          0000 0050 2493   BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup
                    2494   
                    2495   *********************************************************************************************************
                    2496   * Section for Heap
                    2497   *********************************************************************************************************
                    2498   
          0800 18D0 2499   heap           equ       *
080018D0            2500                  align
          0800 0000

Assembly errors: 0
