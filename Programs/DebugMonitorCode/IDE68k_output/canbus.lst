680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 28 Mar 2019      Time: 14:21:34          Source: C:\M68K\PROGRAMS\DEBUGMONITORCODE\IDE68K_OUTPUT\CANBUS.SRC

                       1          section   code
                       2   ; CSTART.ASM  -  C startup-code for SIM68K
                       3   
                       4   ; Section definitions and memory layout
                       5   
          0000 0400    6   lomem      equ         $400            ; Lowest usable address
          0001 0000    7   himem      equ         $10000          ; Highest memory addres + 1
          0000 1000    8   stklen     equ         $1000           ; Default stacksize
                       9   
                      10   
00000400              11              org         lomem
          0000 0400   12   code       equ         *               ; start address of code section (instructions in ROM)
                      13   
                      14   start:
00000400  41F9 0000   15              lea         bss,A0
00000404  1096      
00000406  4218        16              clr.b       (A0)+           ; set bss section to zero
00000408  B1FC 0000   17              cmp.l       #heap,A0
0000040C  10A6      
0000040E  65F6        18              bcs.s       *-8
00000410  23FC FFFF   19              move.l      #-1,__ungetbuf  ; unget-buffer for keyboard input
00000414  FFFF 0000 
00000418  1096      
0000041A  23FC 0000   20              move.l      #0,__allocp     ; pointer to allocated memory for malloc-function
0000041E  0000 0000 
00000422  109A      
00000424  23FC 0000   21              move.l      #heap,__heap    ; pointer to free memory
00000428  10A6 0000 
0000042C  109E      
0000042E  23FC 0000   22              move.l      #(himem-stklen),__stack ; top of stack (for stack overflow detection)
00000432  F000 0000 
00000436  10A2      
00000438  2E7C 0001   23              move.l      #himem,A7       ; initial stack pointer
0000043C  0000      
0000043E  4EB9 0000   24              jsr         _main
00000442  04D0      
                      25   
                      26   __exit:                                ; exit program
00000444  4E4F        27              trap        #15
00000446  0000        28              dc.w        0
00000448  60B6        29              bra         start           ; restart
                      30   
                      31   __putch:                               ; Basic character output routine
0000044A  202F 0004   32              move.l      4(A7),D0
0000044E  4E4F        33              trap        #15
00000450  0001        34              dc.w        1               ; IDE68K system call 1 -> PUTCH
00000452  4E75        35              rts
                      36   
                      37   __getch:                               ; Basic character input routine
00000454  4E4F        38              trap        #15
00000456  0003        39              dc.w        3               ; IDE68K system call 3 -> GETCH
00000458  4880        40              ext.w       D0
0000045A  48C0        41              ext.l       D0              ; D0.L is char, sign extended to 32 bits
0000045C  4E75        42              rts
                      43   
                      44   __kbhit:
0000045E  4E4F        45              trap        #15
00000460  0004        46              dc.w        4               ; IDE68K system call 4 -> KBHIT
00000462  56C0        47              sne         D0              ; D0.B = $FF if char in buffer, $00 if not
00000464  4E75        48              rts
                      49   
                      50   __time:
00000466  4E4F        51              trap        #15             ; IDE68K system call 40 -> GETTIME
00000468  0028        52              dc.w        40              ; D0 = seconds since Jan 1, 1970, 00:00:00 hr UTC
0000046A  4E75        53              rts
                      54   
                      55   __localoffset:
0000046C  4E4F        56              trap        #15             ; IDE68K system call 41 -> LOCALOFFSET
0000046E  0029        57              dc.w        41              ; D0 = offset in seconds between UTC and local time
00000470  4E75        58              rts
                      59   
                      60   stackoverflow:
00000472  4FF9 0001   61              lea         himem,A7        ; reset stackpointer
00000476  0000      
00000478  41F9 0000   62              lea         stackmsg,A0
0000047C  0F32      
0000047E  4E4F        63              trap        #15             ; print message
00000480  0007        64              dc.w        7
00000482  60C0        65              bra         __exit          ; abort program
                      66   
                      67   ; C:\M68K\PROGRAMS\DEBUGMONITORCODE\CANBUS\CANBUS CONTROLLER ROUTINES.C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      68   ; #include <stdio.h>
                      69   ; /*********************************************************************************************
                      70   ; ** These addresses and definitions were taken from Appendix 7 of the Can Controller
                      71   ; ** application note and adapted for the 68k assignment
                      72   ; *********************************************************************************************/
                      73   ; /*
                      74   ; ** definition for the SJA1000 registers and bits based on 68k address map areas
                      75   ; ** assume the addresses for the 2 can controllers given in the assignment
                      76   ; **
                      77   ; ** Registers are defined in terms of the following Macro for each Can controller,
                      78   ; ** where (i) represents an registers number
                      79   ; */
                      80   ; #define CAN0_CONTROLLER(i) (*(volatile unsigned char *)(0x00500000 + (i << 1)))
                      81   ; #define CAN1_CONTROLLER(i) (*(volatile unsigned char *)(0x00500200 + (i << 1)))
                      82   ; /* Can 0 register definitions */
                      83   ; #define Can0_ModeControlReg      CAN0_CONTROLLER(0)
                      84   ; #define Can0_CommandReg          CAN0_CONTROLLER(1)
                      85   ; #define Can0_StatusReg           CAN0_CONTROLLER(2)
                      86   ; #define Can0_InterruptReg        CAN0_CONTROLLER(3)
                      87   ; #define Can0_InterruptEnReg      CAN0_CONTROLLER(4) /* PeliCAN mode */
                      88   ; #define Can0_BusTiming0Reg       CAN0_CONTROLLER(6)
                      89   ; #define Can0_BusTiming1Reg       CAN0_CONTROLLER(7)
                      90   ; #define Can0_OutControlReg       CAN0_CONTROLLER(8)
                      91   ; /* address definitions of Other Registers */
                      92   ; #define Can0_ArbLostCapReg       CAN0_CONTROLLER(11)
                      93   ; #define Can0_ErrCodeCapReg       CAN0_CONTROLLER(12)
                      94   ; #define Can0_ErrWarnLimitReg     CAN0_CONTROLLER(13)
                      95   ; #define Can0_RxErrCountReg       CAN0_CONTROLLER(14)
                      96   ; #define Can0_TxErrCountReg       CAN0_CONTROLLER(15)
                      97   ; #define Can0_RxMsgCountReg       CAN0_CONTROLLER(29)
                      98   ; #define Can0_RxBufStartAdr       CAN0_CONTROLLER(30)
                      99   ; #define Can0_ClockDivideReg      CAN0_CONTROLLER(31)
                     100   ; /* address definitions of Acceptance Code & Mask Registers - RESET MODE */
                     101   ; #define Can0_AcceptCode0Reg      CAN0_CONTROLLER(16)
                     102   ; #define Can0_AcceptCode1Reg      CAN0_CONTROLLER(17)
                     103   ; #define Can0_AcceptCode2Reg      CAN0_CONTROLLER(18)
                     104   ; #define Can0_AcceptCode3Reg      CAN0_CONTROLLER(19)
                     105   ; #define Can0_AcceptMask0Reg      CAN0_CONTROLLER(20)
                     106   ; #define Can0_AcceptMask1Reg      CAN0_CONTROLLER(21)
                     107   ; #define Can0_AcceptMask2Reg      CAN0_CONTROLLER(22)
                     108   ; #define Can0_AcceptMask3Reg      CAN0_CONTROLLER(23)
                     109   ; /* address definitions Rx Buffer - OPERATING MODE - Read only register*/
                     110   ; #define Can0_RxFrameInfo         CAN0_CONTROLLER(16)
                     111   ; #define Can0_RxBuffer1           CAN0_CONTROLLER(17)
                     112   ; #define Can0_RxBuffer2           CAN0_CONTROLLER(18)
                     113   ; #define Can0_RxBuffer3           CAN0_CONTROLLER(19)
                     114   ; #define Can0_RxBuffer4           CAN0_CONTROLLER(20)
                     115   ; #define Can0_RxBuffer5           CAN0_CONTROLLER(21)
                     116   ; #define Can0_RxBuffer6           CAN0_CONTROLLER(22)
                     117   ; #define Can0_RxBuffer7           CAN0_CONTROLLER(23)
                     118   ; #define Can0_RxBuffer8           CAN0_CONTROLLER(24)
                     119   ; #define Can0_RxBuffer9           CAN0_CONTROLLER(25)
                     120   ; #define Can0_RxBuffer10          CAN0_CONTROLLER(26)
                     121   ; #define Can0_RxBuffer11          CAN0_CONTROLLER(27)
                     122   ; #define Can0_RxBuffer12          CAN0_CONTROLLER(28)
                     123   ; /* address definitions of the Tx-Buffer - OPERATING MODE - Write only register */
                     124   ; #define Can0_TxFrameInfo         CAN0_CONTROLLER(16)
                     125   ; #define Can0_TxBuffer1           CAN0_CONTROLLER(17)
                     126   ; #define Can0_TxBuffer2           CAN0_CONTROLLER(18)
                     127   ; #define Can0_TxBuffer3           CAN0_CONTROLLER(19)
                     128   ; #define Can0_TxBuffer4           CAN0_CONTROLLER(20)
                     129   ; #define Can0_TxBuffer5           CAN0_CONTROLLER(21)
                     130   ; #define Can0_TxBuffer6           CAN0_CONTROLLER(22)
                     131   ; #define Can0_TxBuffer7           CAN0_CONTROLLER(23)
                     132   ; #define Can0_TxBuffer8           CAN0_CONTROLLER(24)
                     133   ; #define Can0_TxBuffer9           CAN0_CONTROLLER(25)
                     134   ; #define Can0_TxBuffer10          CAN0_CONTROLLER(26)
                     135   ; #define Can0_TxBuffer11          CAN0_CONTROLLER(27)
                     136   ; #define Can0_TxBuffer12          CAN0_CONTROLLER(28)
                     137   ; /* read only addresses */
                     138   ; #define Can0_TxFrameInfoRd       CAN0_CONTROLLER(96)
                     139   ; #define Can0_TxBufferRd1         CAN0_CONTROLLER(97)
                     140   ; #define Can0_TxBufferRd2         CAN0_CONTROLLER(98)
                     141   ; #define Can0_TxBufferRd3         CAN0_CONTROLLER(99)
                     142   ; #define Can0_TxBufferRd4         CAN0_CONTROLLER(100)
                     143   ; #define Can0_TxBufferRd5         CAN0_CONTROLLER(101)
                     144   ; #define Can0_TxBufferRd6         CAN0_CONTROLLER(102)
                     145   ; #define Can0_TxBufferRd7         CAN0_CONTROLLER(103)
                     146   ; #define Can0_TxBufferRd8         CAN0_CONTROLLER(104)
                     147   ; #define Can0_TxBufferRd9         CAN0_CONTROLLER(105)
                     148   ; #define Can0_TxBufferRd10        CAN0_CONTROLLER(106)
                     149   ; #define Can0_TxBufferRd11        CAN0_CONTROLLER(107)
                     150   ; #define Can0_TxBufferRd12        CAN0_CONTROLLER(108)
                     151   ; /* CAN1 Controller register definitions */
                     152   ; #define Can1_ModeControlReg      CAN1_CONTROLLER(0)
                     153   ; #define Can1_CommandReg          CAN1_CONTROLLER(1)
                     154   ; #define Can1_StatusReg           CAN1_CONTROLLER(2)
                     155   ; #define Can1_InterruptReg        CAN1_CONTROLLER(3)
                     156   ; #define Can1_InterruptEnReg      CAN1_CONTROLLER(4) /* PeliCAN mode */
                     157   ; #define Can1_BusTiming0Reg       CAN1_CONTROLLER(6)
                     158   ; #define Can1_BusTiming1Reg       CAN1_CONTROLLER(7)
                     159   ; #define Can1_OutControlReg       CAN1_CONTROLLER(8)
                     160   ; /* address definitions of Other Registers */
                     161   ; #define Can1_ArbLostCapReg       CAN1_CONTROLLER(11)
                     162   ; #define Can1_ErrCodeCapReg       CAN1_CONTROLLER(12)
                     163   ; #define Can1_ErrWarnLimitReg     CAN1_CONTROLLER(13)
                     164   ; #define Can1_RxErrCountReg       CAN1_CONTROLLER(14)
                     165   ; #define Can1_TxErrCountReg       CAN1_CONTROLLER(15)
                     166   ; #define Can1_RxMsgCountReg       CAN1_CONTROLLER(29)
                     167   ; #define Can1_RxBufStartAdr       CAN1_CONTROLLER(30)
                     168   ; #define Can1_ClockDivideReg      CAN1_CONTROLLER(31)
                     169   ; /* address definitions of Acceptance Code & Mask Registers - RESET MODE */
                     170   ; #define Can1_AcceptCode0Reg      CAN1_CONTROLLER(16)
                     171   ; #define Can1_AcceptCode1Reg      CAN1_CONTROLLER(17)
                     172   ; #define Can1_AcceptCode2Reg      CAN1_CONTROLLER(18)
                     173   ; #define Can1_AcceptCode3Reg      CAN1_CONTROLLER(19)
                     174   ; #define Can1_AcceptMask0Reg      CAN1_CONTROLLER(20)
                     175   ; #define Can1_AcceptMask1Reg      CAN1_CONTROLLER(21)
                     176   ; #define Can1_AcceptMask2Reg      CAN1_CONTROLLER(22)
                     177   ; #define Can1_AcceptMask3Reg      CAN1_CONTROLLER(23)
                     178   ; /* address definitions Rx Buffer - OPERATING MODE - Read only register*/
                     179   ; #define Can1_RxFrameInfo         CAN1_CONTROLLER(16)
                     180   ; #define Can1_RxBuffer1           CAN1_CONTROLLER(17)
                     181   ; #define Can1_RxBuffer2           CAN1_CONTROLLER(18)
                     182   ; #define Can1_RxBuffer3           CAN1_CONTROLLER(19)
                     183   ; #define Can1_RxBuffer4           CAN1_CONTROLLER(20)
                     184   ; #define Can1_RxBuffer5           CAN1_CONTROLLER(21)
                     185   ; #define Can1_RxBuffer6           CAN1_CONTROLLER(22)
                     186   ; #define Can1_RxBuffer7           CAN1_CONTROLLER(23)
                     187   ; #define Can1_RxBuffer8           CAN1_CONTROLLER(24)
                     188   ; #define Can1_RxBuffer9           CAN1_CONTROLLER(25)
                     189   ; #define Can1_RxBuffer10          CAN1_CONTROLLER(26)
                     190   ; #define Can1_RxBuffer11          CAN1_CONTROLLER(27)
                     191   ; #define Can1_RxBuffer12          CAN1_CONTROLLER(28)
                     192   ; /* address definitions of the Tx-Buffer - OPERATING MODE - Write only register */
                     193   ; #define Can1_TxFrameInfo         CAN1_CONTROLLER(16)
                     194   ; #define Can1_TxBuffer1           CAN1_CONTROLLER(17)
                     195   ; #define Can1_TxBuffer2           CAN1_CONTROLLER(18)
                     196   ; #define Can1_TxBuffer3           CAN1_CONTROLLER(19)
                     197   ; #define Can1_TxBuffer4           CAN1_CONTROLLER(20)
                     198   ; #define Can1_TxBuffer5           CAN1_CONTROLLER(21)
                     199   ; #define Can1_TxBuffer6           CAN1_CONTROLLER(22)
                     200   ; #define Can1_TxBuffer7           CAN1_CONTROLLER(23)
                     201   ; #define Can1_TxBuffer8           CAN1_CONTROLLER(24)
                     202   ; #define Can1_TxBuffer9           CAN1_CONTROLLER(25)
                     203   ; #define Can1_TxBuffer10          CAN1_CONTROLLER(26)
                     204   ; #define Can1_TxBuffer11          CAN1_CONTROLLER(27)
                     205   ; #define Can1_TxBuffer12          CAN1_CONTROLLER(28)
                     206   ; /* read only addresses */
                     207   ; #define Can1_TxFrameInfoRd       CAN1_CONTROLLER(96)
                     208   ; #define Can1_TxBufferRd1         CAN1_CONTROLLER(97)
                     209   ; #define Can1_TxBufferRd2         CAN1_CONTROLLER(98)
                     210   ; #define Can1_TxBufferRd3         CAN1_CONTROLLER(99)
                     211   ; #define Can1_TxBufferRd4         CAN1_CONTROLLER(100)
                     212   ; #define Can1_TxBufferRd5         CAN1_CONTROLLER(101)
                     213   ; #define Can1_TxBufferRd6         CAN1_CONTROLLER(102)
                     214   ; #define Can1_TxBufferRd7         CAN1_CONTROLLER(103)
                     215   ; #define Can1_TxBufferRd8         CAN1_CONTROLLER(104)
                     216   ; #define Can1_TxBufferRd9         CAN1_CONTROLLER(105)
                     217   ; #define Can1_TxBufferRd10        CAN1_CONTROLLER(106)
                     218   ; #define Can1_TxBufferRd11        CAN1_CONTROLLER(107)
                     219   ; #define Can1_TxBufferRd12        CAN1_CONTROLLER(108)
                     220   ; /* bit definitions for the Mode & Control Register */
                     221   ; #define RM_RR_Bit 0x01 /* reset mode (request) bit */
                     222   ; #define LOM_Bit 0x02 /* listen only mode bit */
                     223   ; #define STM_Bit 0x04 /* self test mode bit */
                     224   ; #define AFM_Bit 0x08 /* acceptance filter mode bit */
                     225   ; #define SM_Bit  0x10 /* enter sleep mode bit */
                     226   ; /* bit definitions for the Interrupt Enable & Control Register */
                     227   ; #define RIE_Bit 0x01 /* receive interrupt enable bit */
                     228   ; #define TIE_Bit 0x02 /* transmit interrupt enable bit */
                     229   ; #define EIE_Bit 0x04 /* error warning interrupt enable bit */
                     230   ; #define DOIE_Bit 0x08 /* data overrun interrupt enable bit */
                     231   ; #define WUIE_Bit 0x10 /* wake-up interrupt enable bit */
                     232   ; #define EPIE_Bit 0x20 /* error passive interrupt enable bit */
                     233   ; #define ALIE_Bit 0x40 /* arbitration lost interr. enable bit*/
                     234   ; #define BEIE_Bit 0x80 /* bus error interrupt enable bit */
                     235   ; /* bit definitions for the Command Register */
                     236   ; #define TR_Bit 0x01 /* transmission request bit */
                     237   ; #define AT_Bit 0x02 /* abort transmission bit */
                     238   ; #define RRB_Bit 0x04 /* release receive buffer bit */
                     239   ; #define CDO_Bit 0x08 /* clear data overrun bit */
                     240   ; #define SRR_Bit 0x10 /* self reception request bit */
                     241   ; /* bit definitions for the Status Register */
                     242   ; #define RBS_Bit 0x01 /* receive buffer status bit */
                     243   ; #define DOS_Bit 0x02 /* data overrun status bit */
                     244   ; #define TBS_Bit 0x04 /* transmit buffer status bit */
                     245   ; #define TCS_Bit 0x08 /* transmission complete status bit */
                     246   ; #define RS_Bit 0x10 /* receive status bit */
                     247   ; #define TS_Bit 0x20 /* transmit status bit */
                     248   ; #define ES_Bit 0x40 /* error status bit */
                     249   ; #define BS_Bit 0x80 /* bus status bit */
                     250   ; /* bit definitions for the Interrupt Register */
                     251   ; #define RI_Bit 0x01 /* receive interrupt bit */
                     252   ; #define TI_Bit 0x02 /* transmit interrupt bit */
                     253   ; #define EI_Bit 0x04 /* error warning interrupt bit */
                     254   ; #define DOI_Bit 0x08 /* data overrun interrupt bit */
                     255   ; #define WUI_Bit 0x10 /* wake-up interrupt bit */
                     256   ; #define EPI_Bit 0x20 /* error passive interrupt bit */
                     257   ; #define ALI_Bit 0x40 /* arbitration lost interrupt bit */
                     258   ; #define BEI_Bit 0x80 /* bus error interrupt bit */
                     259   ; /* bit definitions for the Bus Timing Registers */
                     260   ; #define SAM_Bit 0x80                        /* sample mode bit 1 == the bus is sampled 3 times, 0 == the bus is sampled once */
                     261   ; /* bit definitions for the Output Control Register OCMODE1, OCMODE0 */
                     262   ; #define BiPhaseMode 0x00 /* bi-phase output mode */
                     263   ; #define NormalMode 0x02 /* normal output mode */
                     264   ; #define ClkOutMode 0x03 /* clock output mode */
                     265   ; /* output pin configuration for TX1 */
                     266   ; #define OCPOL1_Bit 0x20 /* output polarity control bit */
                     267   ; #define Tx1Float 0x00 /* configured as float */
                     268   ; #define Tx1PullDn 0x40 /* configured as pull-down */
                     269   ; #define Tx1PullUp 0x80 /* configured as pull-up */
                     270   ; #define Tx1PshPull 0xC0 /* configured as push/pull */
                     271   ; /* output pin configuration for TX0 */
                     272   ; #define OCPOL0_Bit 0x04 /* output polarity control bit */
                     273   ; #define Tx0Float 0x00 /* configured as float */
                     274   ; #define Tx0PullDn 0x08 /* configured as pull-down */
                     275   ; #define Tx0PullUp 0x10 /* configured as pull-up */
                     276   ; #define Tx0PshPull 0x18 /* configured as push/pull */
                     277   ; /* bit definitions for the Clock Divider Register */
                     278   ; #define DivBy1 0x07 /* CLKOUT = oscillator frequency */
                     279   ; #define DivBy2 0x00 /* CLKOUT = 1/2 oscillator frequency */
                     280   ; #define ClkOff_Bit 0x08 /* clock off bit, control of the CLK OUT pin */
                     281   ; #define RXINTEN_Bit 0x20 /* pin TX1 used for receive interrupt */
                     282   ; #define CBP_Bit 0x40 /* CAN comparator bypass control bit */
                     283   ; #define CANMode_Bit 0x80 /* CAN mode definition bit */
                     284   ; /*- definition of used constants ---------------------------------------*/
                     285   ; #define YES 1
                     286   ; #define NO 0
                     287   ; #define ENABLE 1
                     288   ; #define DISABLE 0
                     289   ; #define ENABLE_N 0
                     290   ; #define DISABLE_N 1
                     291   ; #define INTLEVELACT 0
                     292   ; #define INTEDGEACT 1
                     293   ; #define PRIORITY_LOW 0
                     294   ; #define PRIORITY_HIGH 1
                     295   ; /* default (reset) value for register content, clear register */
                     296   ; #define ClrByte 0x00
                     297   ; /* constant: clear Interrupt Enable Register */
                     298   ; #define ClrIntEnSJA ClrByte
                     299   ; /* definitions for the acceptance code and mask register */
                     300   ; #define DontCare 0xFF
                     301   ; /*  bus timing values for
                     302   ; **  bit-rate : 100 kBit/s
                     303   ; **  oscillator frequency : 25 MHz, 1 sample per bit, 0 tolerance %
                     304   ; **  maximum tolerated propagation delay : 4450 ns
                     305   ; **  minimum requested propagation delay : 500 ns
                     306   ; **
                     307   ; **  https://www.kvaser.com/support/calculators/bit-timing-calculator/
                     308   ; **  T1 	T2 	BTQ 	SP% 	SJW 	BIT RATE 	ERR% 	BTR0 	BTR1
                     309   ; **  17	8	25	    68	     1	      100	    0	      04	7f
                     310   ; */
                     311   ; // initialisation for Can controller 0
                     312   ; void Init_CanBus_Controller0(void)
                     313   ; {
                     314   _Init_CanBus_Controller0:
00000484  4E75       315          rts
                     316   ; // TODO - put your Canbus initialisation code for CanController 0 here
                     317   ; // See section 4.2.1 in the application note for details (PELICAN MODE)
                     318   ; }
                     319   ; // initialisation for Can controller 1
                     320   ; void Init_CanBus_Controller1(void)
                     321   ; {
                     322   _Init_CanBus_Controller1:
00000486  4E75       323          rts
                     324   ; // TODO - put your Canbus initialisation code for CanController 1 here
                     325   ; // See section 4.2.1 in the application note for details (PELICAN MODE)
                     326   ; }
                     327   ; // Transmit for sending a message via Can controller 0
                     328   ; void CanBus0_Transmit(void)
                     329   ; {
                     330   _CanBus0_Transmit:
00000488  4E75       331          rts
                     332   ; // TODO - put your Canbus transmit code for CanController 0 here
                     333   ; // See section 4.2.2 in the application note for details (PELICAN MODE)
                     334   ; }
                     335   ; // Transmit for sending a message via Can controller 1
                     336   ; void CanBus1_Transmit(void)
                     337   ; {
                     338   _CanBus1_Transmit:
0000048A  4E75       339          rts
                     340   ; // TODO - put your Canbus transmit code for CanController 1 here
                     341   ; // See section 4.2.2 in the application note for details (PELICAN MODE)
                     342   ; }
                     343   ; // Receive for reading a received message via Can controller 0
                     344   ; void CanBus0_Receive(void)
                     345   ; {
                     346   _CanBus0_Receive:
0000048C  4E75       347          rts
                     348   ; // TODO - put your Canbus receive code for CanController 0 here
                     349   ; // See section 4.2.4 in the application note for details (PELICAN MODE)
                     350   ; }
                     351   ; // Receive for reading a received message via Can controller 1
                     352   ; void CanBus1_Receive(void)
                     353   ; {
                     354   _CanBus1_Receive:
0000048E  4E75       355          rts
                     356   ; // TODO - put your Canbus receive code for CanController 1 here
                     357   ; // See section 4.2.4 in the application note for details (PELICAN MODE)
                     358   ; }
                     359   ; void CanBusTest(void)
                     360   ; {
                     361   _CanBusTest:
00000490  2F0A       362          move.l    A2,-(A7)
00000492  45F9 0000  363          lea       _printf.L,A2
00000496  04E0      
                     364   ; // initialise the two Can controllers
                     365   ; Init_CanBus_Controller0();
00000498  4EB8 0484  366          jsr       _Init_CanBus_Controller0
                     367   ; Init_CanBus_Controller1();
0000049C  4EB8 0486  368          jsr       _Init_CanBus_Controller1
                     369   ; printf("\r\n\r\n---- CANBUS Test ----\r\n") ;
000004A0  4879 0000  370          pea       @canbus~1_1.L
000004A4  0F56      
000004A6  4E92       371          jsr       (A2)
000004A8  584F       372          addq.w    #4,A7
                     373   ; // simple application to alternately transmit and receive messages from each of two nodes
                     374   ; while(1)    {
                     375   CanBusTest_1:
                     376   ; // delay();                    // write a routine to delay say 1/2 second so we don't flood the network with messages to0 quickly
                     377   ; CanBus0_Transmit() ;       // transmit a message via Controller 0
000004AA  4EB8 0488  378          jsr       _CanBus0_Transmit
                     379   ; CanBus1_Receive() ;        // receive a message via Controller 1 (and display it)
000004AE  4EB8 048E  380          jsr       _CanBus1_Receive
                     381   ; printf("\r\n") ;
000004B2  4879 0000  382          pea       @canbus~1_2.L
000004B6  0F72      
000004B8  4E92       383          jsr       (A2)
000004BA  584F       384          addq.w    #4,A7
                     385   ; // delay();                    // write a routine to delay say 1/2 second so we don't flood the network with messages to0 quickly
                     386   ; CanBus1_Transmit() ;        // transmit a message via Controller 1
000004BC  4EB8 048A  387          jsr       _CanBus1_Transmit
                     388   ; CanBus0_Receive() ;         // receive a message via Controller 0 (and display it)
000004C0  4EB8 048C  389          jsr       _CanBus0_Receive
                     390   ; printf("\r\n") ;
000004C4  4879 0000  391          pea       @canbus~1_2.L
000004C8  0F72      
000004CA  4E92       392          jsr       (A2)
000004CC  584F       393          addq.w    #4,A7
000004CE  60DA       394          bra       CanBusTest_1
                     395   ; }
                     396   ; }
                     397   ; void main(void){
                     398   _main:
                     399   ; printf("\r\n Hello World!\r\n");
000004D0  4879 0000  400          pea       @canbus~1_3.L
000004D4  0F76      
000004D6  4EB9 0000  401          jsr       _printf
000004DA  04E0      
000004DC  584F       402          addq.w    #4,A7
                     403   ; while(1);
                     404   main_1:
000004DE  60FE       405          bra       main_1
                     406   ; // CanBusTest();
                     407   ; }
                     408   _printf:
000004E0  4E56 FFFC  409          link      A6,#-4
000004E4  2F02       410          move.l    D2,-(A7)
000004E6  41EE 0008  411          lea       8(A6),A0
000004EA  5848       412          addq.w    #4,A0
000004EC  2408       413          move.l    A0,D2
000004EE  2F02       414          move.l    D2,-(A7)
000004F0  2F2E 0008  415          move.l    8(A6),-(A7)
000004F4  42A7       416          clr.l     -(A7)
000004F6  4EB9 0000  417          jsr       _doprint
000004FA  05B8      
000004FC  DEFC 000C  418          add.w     #12,A7
00000500  2D40 FFFC  419          move.l    D0,-4(A6)
00000504  4282       420          clr.l     D2
00000506  202E FFFC  421          move.l    -4(A6),D0
0000050A  241F       422          move.l    (A7)+,D2
0000050C  4E5E       423          unlk      A6
0000050E  4E75       424          rts
                     425   @doprint_copy:
00000510  4E56 0000  426          link      A6,#0
00000514  206E 0008  427          move.l    8(A6),A0
00000518  4A90       428          tst.l     (A0)
0000051A  6710       429          beq.s     @doprint_copy_1
0000051C  202E 000C  430          move.l    12(A6),D0
00000520  206E 0008  431          move.l    8(A6),A0
00000524  2250       432          move.l    (A0),A1
00000526  5290       433          addq.l    #1,(A0)
00000528  1280       434          move.b    D0,(A1)
0000052A  600C       435          bra.s     @doprint_copy_2
                     436   @doprint_copy_1:
0000052C  2F2E 000C  437          move.l    12(A6),-(A7)
00000530  4EB9 0000  438          jsr       _putch
00000534  0DFC      
00000536  584F       439          addq.w    #4,A7
                     440   @doprint_copy_2:
00000538  4E5E       441          unlk      A6
0000053A  4E75       442          rts
                     443   @doprint_getval:
0000053C  4E56 0000  444          link      A6,#0
00000540  48E7 3000  445          movem.l   D2/D3,-(A7)
00000544  262E 0008  446          move.l    8(A6),D3
00000548  4282       447          clr.l     D2
0000054A  2043       448          move.l    D3,A0
0000054C  2050       449          move.l    (A0),A0
0000054E  1010       450          move.b    (A0),D0
00000550  0C00 002A  451          cmp.b     #42,D0
00000554  6612       452          bne.s     @doprint_getval_1
00000556  206E 000C  453          move.l    12(A6),A0
0000055A  2250       454          move.l    (A0),A1
0000055C  5890       455          addq.l    #4,(A0)
0000055E  2411       456          move.l    (A1),D2
00000560  2043       457          move.l    D3,A0
00000562  5290       458          addq.l    #1,(A0)
00000564  6000 0048  459          bra       @doprint_getval_5
                     460   @doprint_getval_1:
00000568  7001       461          moveq     #1,D0
0000056A  2043       462          move.l    D3,A0
0000056C  2050       463          move.l    (A0),A0
0000056E  1210       464          move.b    (A0),D1
00000570  4881       465          ext.w     D1
00000572  48C1       466          ext.l     D1
00000574  D081       467          add.l     D1,D0
00000576  41F9 0000  468          lea       __ctype.L,A0
0000057A  0F94      
0000057C  1030 0800  469          move.b    0(A0,D0.L),D0
00000580  C03C 0004  470          and.b     #4,D0
00000584  6728       471          beq.s     @doprint_getval_5
00000586  2F02       472          move.l    D2,-(A7)
00000588  4878 000A  473          pea       10
0000058C  4EB9 0000  474          jsr       LMUL
00000590  0D5C      
00000592  2017       475          move.l    (A7),D0
00000594  504F       476          addq.w    #8,A7
00000596  2043       477          move.l    D3,A0
00000598  2250       478          move.l    (A0),A1
0000059A  5290       479          addq.l    #1,(A0)
0000059C  1211       480          move.b    (A1),D1
0000059E  4881       481          ext.w     D1
000005A0  48C1       482          ext.l     D1
000005A2  D081       483          add.l     D1,D0
000005A4  0480 0000  484          sub.l     #48,D0
000005A8  0030      
000005AA  2400       485          move.l    D0,D2
000005AC  60BA       486          bra       @doprint_getval_1
                     487   @doprint_getval_5:
000005AE  2002       488          move.l    D2,D0
000005B0  4CDF 000C  489          movem.l   (A7)+,D2/D3
000005B4  4E5E       490          unlk      A6
000005B6  4E75       491          rts
                     492   _doprint:
000005B8  4E56 FFCC  493          link      A6,#-52
000005BC  48E7 3F3C  494          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
000005C0  45EE 0008  495          lea       8(A6),A2
000005C4  47F8 0510  496          lea       @doprint_copy.L,A3
000005C8  49F9 0000  497          lea       _ultoa.L,A4
000005CC  0CE8      
000005CE  4286       498          clr.l     D6
                     499   doprint_1:
000005D0  206E 000C  500          move.l    12(A6),A0
000005D4  4A10       501          tst.b     (A0)
000005D6  6700 05EC  502          beq       doprint_3
000005DA  206E 000C  503          move.l    12(A6),A0
000005DE  1010       504          move.b    (A0),D0
000005E0  0C00 0025  505          cmp.b     #37,D0
000005E4  671C       506          beq.s     doprint_4
000005E6  206E 000C  507          move.l    12(A6),A0
000005EA  52AE 000C  508          addq.l    #1,12(A6)
000005EE  1210       509          move.b    (A0),D1
000005F0  4881       510          ext.w     D1
000005F2  48C1       511          ext.l     D1
000005F4  2F01       512          move.l    D1,-(A7)
000005F6  2F0A       513          move.l    A2,-(A7)
000005F8  4E93       514          jsr       (A3)
000005FA  504F       515          addq.w    #8,A7
000005FC  5286       516          addq.l    #1,D6
000005FE  6000 05C0  517          bra       doprint_2
                     518   doprint_4:
00000602  52AE 000C  519          addq.l    #1,12(A6)
00000606  422E FFD3  520          clr.b     -45(A6)
0000060A  422E FFD2  521          clr.b     -46(A6)
0000060E  422E FFD0  522          clr.b     -48(A6)
00000612  422E FFCF  523          clr.b     -49(A6)
00000616  422E FFCE  524          clr.b     -50(A6)
0000061A  422E FFCD  525          clr.b     -51(A6)
0000061E  42AE FFFC  526          clr.l     -4(A6)
00000622  7AFF       527          moveq     #-1,D5
00000624  41EE FFDC  528          lea       -36(A6),A0
00000628  2608       529          move.l    A0,D3
0000062A  2408       530          move.l    A0,D2
                     531   doprint_6:
0000062C  206E 000C  532          move.l    12(A6),A0
00000630  1010       533          move.b    (A0),D0
00000632  4880       534          ext.w     D0
00000634  48C0       535          ext.l     D0
00000636  0C80 0000  536          cmp.l     #43,D0
0000063A  002B      
0000063C  6730       537          beq.s     doprint_12
0000063E  6E18       538          bgt.s     doprint_15
00000640  0C80 0000  539          cmp.l     #35,D0
00000644  0023      
00000646  6700 003E  540          beq       doprint_14
0000064A  6E00 0046  541          bgt       doprint_9
0000064E  0C80 0000  542          cmp.l     #32,D0
00000652  0020      
00000654  6724       543          beq.s     doprint_13
00000656  603A       544          bra.s     doprint_9
                     545   doprint_15:
00000658  0C80 0000  546          cmp.l     #45,D0
0000065C  002D      
0000065E  6702       547          beq.s     doprint_11
00000660  6030       548          bra.s     doprint_9
                     549   doprint_11:
00000662  1D7C 0001  550          move.b    #1,-51(A6)
00000666  FFCD      
00000668  52AE 000C  551          addq.l    #1,12(A6)
0000066C  6026       552          bra.s     doprint_7
                     553   doprint_12:
0000066E  1D7C 0001  554          move.b    #1,-50(A6)
00000672  FFCE      
00000674  52AE 000C  555          addq.l    #1,12(A6)
00000678  601A       556          bra.s     doprint_7
                     557   doprint_13:
0000067A  1D7C 0001  558          move.b    #1,-49(A6)
0000067E  FFCF      
00000680  52AE 000C  559          addq.l    #1,12(A6)
00000684  600E       560          bra.s     doprint_7
                     561   doprint_14:
00000686  1D7C 0001  562          move.b    #1,-48(A6)
0000068A  FFD0      
0000068C  52AE 000C  563          addq.l    #1,12(A6)
00000690  6002       564          bra.s     doprint_7
                     565   doprint_9:
00000692  6002       566          bra.s     doprint_8
                     567   doprint_7:
00000694  6096       568          bra       doprint_6
                     569   doprint_8:
00000696  206E 000C  570          move.l    12(A6),A0
0000069A  1010       571          move.b    (A0),D0
0000069C  0C00 0030  572          cmp.b     #48,D0
000006A0  660A       573          bne.s     doprint_16
000006A2  52AE 000C  574          addq.l    #1,12(A6)
000006A6  1D7C 0001  575          move.b    #1,-46(A6)
000006AA  FFD2      
                     576   doprint_16:
000006AC  486E 0010  577          pea       16(A6)
000006B0  486E 000C  578          pea       12(A6)
000006B4  4EB8 053C  579          jsr       @doprint_getval
000006B8  504F       580          addq.w    #8,A7
000006BA  2A40       581          move.l    D0,A5
000006BC  206E 000C  582          move.l    12(A6),A0
000006C0  1010       583          move.b    (A0),D0
000006C2  0C00 002E  584          cmp.b     #46,D0
000006C6  6614       585          bne.s     doprint_18
000006C8  52AE 000C  586          addq.l    #1,12(A6)
000006CC  486E 0010  587          pea       16(A6)
000006D0  486E 000C  588          pea       12(A6)
000006D4  4EB8 053C  589          jsr       @doprint_getval
000006D8  504F       590          addq.w    #8,A7
000006DA  2A00       591          move.l    D0,D5
                     592   doprint_18:
000006DC  206E 000C  593          move.l    12(A6),A0
000006E0  1010       594          move.b    (A0),D0
000006E2  0C00 006C  595          cmp.b     #108,D0
000006E6  660A       596          bne.s     doprint_20
000006E8  52AE 000C  597          addq.l    #1,12(A6)
000006EC  1D7C 0001  598          move.b    #1,-45(A6)
000006F0  FFD3      
                     599   doprint_20:
000006F2  206E 000C  600          move.l    12(A6),A0
000006F6  1010       601          move.b    (A0),D0
000006F8  4880       602          ext.w     D0
000006FA  48C0       603          ext.l     D0
000006FC  0C80 0000  604          cmp.l     #111,D0
00000700  006F      
00000702  6700 00D8  605          beq       doprint_27
00000706  6E34       606          bgt.s     doprint_33
00000708  0C80 0000  607          cmp.l     #100,D0
0000070C  0064      
0000070E  6700 0054  608          beq       doprint_24
00000712  6E1C       609          bgt.s     doprint_34
00000714  0C80 0000  610          cmp.l     #99,D0
00000718  0063      
0000071A  6700 0130  611          beq       doprint_30
0000071E  6E00 0174  612          bgt       doprint_22
00000722  0C80 0000  613          cmp.l     #88,D0
00000726  0058      
00000728  6700 00EA  614          beq       doprint_28
0000072C  6000 0166  615          bra       doprint_22
                     616   doprint_34:
00000730  0C80 0000  617          cmp.l     #105,D0
00000734  0069      
00000736  672C       618          beq.s     doprint_24
00000738  6000 015A  619          bra       doprint_22
                     620   doprint_33:
0000073C  0C80 0000  621          cmp.l     #117,D0
00000740  0075      
00000742  6700 0060  622          beq       doprint_26
00000746  6E0E       623          bgt.s     doprint_35
00000748  0C80 0000  624          cmp.l     #115,D0
0000074C  0073      
0000074E  6700 0124  625          beq       doprint_31
00000752  6000 0140  626          bra       doprint_22
                     627   doprint_35:
00000756  0C80 0000  628          cmp.l     #120,D0
0000075A  0078      
0000075C  6700 00B6  629          beq       doprint_28
00000760  6000 0132  630          bra       doprint_22
                     631   doprint_24:
00000764  4A2E FFD3  632          tst.b     -45(A6)
00000768  671C       633          beq.s     doprint_36
0000076A  4878 000A  634          pea       10
0000076E  2F03       635          move.l    D3,-(A7)
00000770  206E 0010  636          move.l    16(A6),A0
00000774  58AE 0010  637          addq.l    #4,16(A6)
00000778  2F10       638          move.l    (A0),-(A7)
0000077A  4EB9 0000  639          jsr       _ltoa
0000077E  0C62      
00000780  DEFC 000C  640          add.w     #12,A7
00000784  601A       641          bra.s     doprint_37
                     642   doprint_36:
00000786  4878 000A  643          pea       10
0000078A  2F03       644          move.l    D3,-(A7)
0000078C  206E 0010  645          move.l    16(A6),A0
00000790  58AE 0010  646          addq.l    #4,16(A6)
00000794  2F10       647          move.l    (A0),-(A7)
00000796  4EB9 0000  648          jsr       _ltoa
0000079A  0C62      
0000079C  DEFC 000C  649          add.w     #12,A7
                     650   doprint_37:
000007A0  6000 0100  651          bra       doprint_23
                     652   doprint_26:
000007A4  4A2E FFD3  653          tst.b     -45(A6)
000007A8  6718       654          beq.s     doprint_38
000007AA  4878 000A  655          pea       10
000007AE  2F03       656          move.l    D3,-(A7)
000007B0  206E 0010  657          move.l    16(A6),A0
000007B4  58AE 0010  658          addq.l    #4,16(A6)
000007B8  2F10       659          move.l    (A0),-(A7)
000007BA  4E94       660          jsr       (A4)
000007BC  DEFC 000C  661          add.w     #12,A7
000007C0  6016       662          bra.s     doprint_39
                     663   doprint_38:
000007C2  4878 000A  664          pea       10
000007C6  2F03       665          move.l    D3,-(A7)
000007C8  206E 0010  666          move.l    16(A6),A0
000007CC  58AE 0010  667          addq.l    #4,16(A6)
000007D0  2F10       668          move.l    (A0),-(A7)
000007D2  4E94       669          jsr       (A4)
000007D4  DEFC 000C  670          add.w     #12,A7
                     671   doprint_39:
000007D8  6000 00C8  672          bra       doprint_23
                     673   doprint_27:
000007DC  4A2E FFD3  674          tst.b     -45(A6)
000007E0  6718       675          beq.s     doprint_40
000007E2  4878 0008  676          pea       8
000007E6  2F03       677          move.l    D3,-(A7)
000007E8  206E 0010  678          move.l    16(A6),A0
000007EC  58AE 0010  679          addq.l    #4,16(A6)
000007F0  2F10       680          move.l    (A0),-(A7)
000007F2  4E94       681          jsr       (A4)
000007F4  DEFC 000C  682          add.w     #12,A7
000007F8  6016       683          bra.s     doprint_41
                     684   doprint_40:
000007FA  4878 0008  685          pea       8
000007FE  2F03       686          move.l    D3,-(A7)
00000800  206E 0010  687          move.l    16(A6),A0
00000804  58AE 0010  688          addq.l    #4,16(A6)
00000808  2F10       689          move.l    (A0),-(A7)
0000080A  4E94       690          jsr       (A4)
0000080C  DEFC 000C  691          add.w     #12,A7
                     692   doprint_41:
00000810  6000 0090  693          bra       doprint_23
                     694   doprint_28:
00000814  4A2E FFD3  695          tst.b     -45(A6)
00000818  6718       696          beq.s     doprint_42
0000081A  4878 0010  697          pea       16
0000081E  2F03       698          move.l    D3,-(A7)
00000820  206E 0010  699          move.l    16(A6),A0
00000824  58AE 0010  700          addq.l    #4,16(A6)
00000828  2F10       701          move.l    (A0),-(A7)
0000082A  4E94       702          jsr       (A4)
0000082C  DEFC 000C  703          add.w     #12,A7
00000830  6016       704          bra.s     doprint_43
                     705   doprint_42:
00000832  4878 0010  706          pea       16
00000836  2F03       707          move.l    D3,-(A7)
00000838  206E 0010  708          move.l    16(A6),A0
0000083C  58AE 0010  709          addq.l    #4,16(A6)
00000840  2F10       710          move.l    (A0),-(A7)
00000842  4E94       711          jsr       (A4)
00000844  DEFC 000C  712          add.w     #12,A7
                     713   doprint_43:
00000848  6000 0058  714          bra       doprint_23
                     715   doprint_30:
0000084C  206E 0010  716          move.l    16(A6),A0
00000850  58AE 0010  717          addq.l    #4,16(A6)
00000854  2010       718          move.l    (A0),D0
00000856  2042       719          move.l    D2,A0
00000858  5282       720          addq.l    #1,D2
0000085A  1080       721          move.b    D0,(A0)
0000085C  2042       722          move.l    D2,A0
0000085E  4210       723          clr.b     (A0)
00000860  200D       724          move.l    A5,D0
00000862  6704       725          beq.s     doprint_44
00000864  200D       726          move.l    A5,D0
00000866  6006       727          bra.s     doprint_45
                     728   doprint_44:
00000868  7001       729          moveq     #1,D0
0000086A  4880       730          ext.w     D0
0000086C  48C0       731          ext.l     D0
                     732   doprint_45:
0000086E  2A00       733          move.l    D0,D5
00000870  6000 0030  734          bra       doprint_23
                     735   doprint_31:
00000874  206E 0010  736          move.l    16(A6),A0
00000878  58AE 0010  737          addq.l    #4,16(A6)
0000087C  2610       738          move.l    (A0),D3
0000087E  0C85 FFFF  739          cmp.l     #-1,D5
00000882  FFFF      
00000884  660C       740          bne.s     doprint_46
00000886  2F03       741          move.l    D3,-(A7)
00000888  4EB9 0000  742          jsr       _strlen
0000088C  0DEA      
0000088E  584F       743          addq.w    #4,A7
00000890  2A00       744          move.l    D0,D5
                     745   doprint_46:
00000892  600E       746          bra.s     doprint_23
                     747   doprint_22:
00000894  206E 000C  748          move.l    12(A6),A0
00000898  2242       749          move.l    D2,A1
0000089A  5282       750          addq.l    #1,D2
0000089C  1290       751          move.b    (A0),(A1)
0000089E  2042       752          move.l    D2,A0
000008A0  4210       753          clr.b     (A0)
                     754   doprint_23:
000008A2  2F03       755          move.l    D3,-(A7)
000008A4  4EB9 0000  756          jsr       _strlen
000008A8  0DEA      
000008AA  584F       757          addq.w    #4,A7
000008AC  1800       758          move.b    D0,D4
000008AE  206E 000C  759          move.l    12(A6),A0
000008B2  1010       760          move.b    (A0),D0
000008B4  0C00 0073  761          cmp.b     #115,D0
000008B8  661C       762          bne.s     doprint_48
000008BA  0C85 0000  763          cmp.l     #0,D5
000008BE  0000      
000008C0  6D14       764          blt.s     doprint_48
000008C2  4884       765          ext.w     D4
000008C4  48C4       766          ext.l     D4
000008C6  B885       767          cmp.l     D5,D4
000008C8  6F04       768          ble.s     doprint_50
000008CA  2005       769          move.l    D5,D0
000008CC  6006       770          bra.s     doprint_51
                     771   doprint_50:
000008CE  1004       772          move.b    D4,D0
000008D0  4880       773          ext.w     D0
000008D2  48C0       774          ext.l     D0
                     775   doprint_51:
000008D4  1800       776          move.b    D0,D4
                     777   doprint_48:
000008D6  206E 000C  778          move.l    12(A6),A0
000008DA  1010       779          move.b    (A0),D0
000008DC  0C00 0058  780          cmp.b     #88,D0
000008E0  6600 0028  781          bne       doprint_56
000008E4  41EE FFDC  782          lea       -36(A6),A0
000008E8  2408       783          move.l    A0,D2
                     784   doprint_54:
000008EA  2042       785          move.l    D2,A0
000008EC  4A10       786          tst.b     (A0)
000008EE  671A       787          beq.s     doprint_56
000008F0  2042       788          move.l    D2,A0
000008F2  1210       789          move.b    (A0),D1
000008F4  4881       790          ext.w     D1
000008F6  48C1       791          ext.l     D1
000008F8  2F01       792          move.l    D1,-(A7)
000008FA  4EB9 0000  793          jsr       _toupper
000008FE  0E28      
00000900  584F       794          addq.w    #4,A7
00000902  2042       795          move.l    D2,A0
00000904  1080       796          move.b    D0,(A0)
00000906  5282       797          addq.l    #1,D2
00000908  60E0       798          bra       doprint_54
                     799   doprint_56:
0000090A  7E00       800          moveq     #0,D7
0000090C  41EE FFD4  801          lea       -44(A6),A0
00000910  2408       802          move.l    A0,D2
00000912  206E 000C  803          move.l    12(A6),A0
00000916  1010       804          move.b    (A0),D0
00000918  0C00 0064  805          cmp.b     #100,D0
0000091C  670E       806          beq.s     doprint_59
0000091E  206E 000C  807          move.l    12(A6),A0
00000922  1010       808          move.b    (A0),D0
00000924  0C00 0069  809          cmp.b     #105,D0
00000928  6600 0068  810          bne       doprint_65
                     811   doprint_59:
0000092C  102E FFCE  812          move.b    -50(A6),D0
00000930  4880       813          ext.w     D0
00000932  48C0       814          ext.l     D0
00000934  4A80       815          tst.l     D0
00000936  660C       816          bne.s     doprint_62
00000938  2043       817          move.l    D3,A0
0000093A  1010       818          move.b    (A0),D0
0000093C  0C00 002D  819          cmp.b     #45,D0
00000940  6600 0028  820          bne       doprint_60
                     821   doprint_62:
00000944  2043       822          move.l    D3,A0
00000946  1010       823          move.b    (A0),D0
00000948  0C00 002D  824          cmp.b     #45,D0
0000094C  660E       825          bne.s     doprint_63
0000094E  2043       826          move.l    D3,A0
00000950  5283       827          addq.l    #1,D3
00000952  2242       828          move.l    D2,A1
00000954  5282       829          addq.l    #1,D2
00000956  1290       830          move.b    (A0),(A1)
00000958  5304       831          subq.b    #1,D4
0000095A  6008       832          bra.s     doprint_64
                     833   doprint_63:
0000095C  2042       834          move.l    D2,A0
0000095E  5282       835          addq.l    #1,D2
00000960  10BC 002B  836          move.b    #43,(A0)
                     837   doprint_64:
00000964  5287       838          addq.l    #1,D7
00000966  6000 002A  839          bra       doprint_65
                     840   doprint_60:
0000096A  4A2E FFCF  841          tst.b     -49(A6)
0000096E  6722       842          beq.s     doprint_65
00000970  2043       843          move.l    D3,A0
00000972  1010       844          move.b    (A0),D0
00000974  0C00 002D  845          cmp.b     #45,D0
00000978  660E       846          bne.s     doprint_67
0000097A  2043       847          move.l    D3,A0
0000097C  5283       848          addq.l    #1,D3
0000097E  2242       849          move.l    D2,A1
00000980  5282       850          addq.l    #1,D2
00000982  1290       851          move.b    (A0),(A1)
00000984  5304       852          subq.b    #1,D4
00000986  6008       853          bra.s     doprint_68
                     854   doprint_67:
00000988  2042       855          move.l    D2,A0
0000098A  5282       856          addq.l    #1,D2
0000098C  10BC 0020  857          move.b    #32,(A0)
                     858   doprint_68:
00000990  5287       859          addq.l    #1,D7
                     860   doprint_65:
00000992  4A2E FFD0  861          tst.b     -48(A6)
00000996  6700 005A  862          beq       doprint_77
0000099A  206E 000C  863          move.l    12(A6),A0
0000099E  1010       864          move.b    (A0),D0
000009A0  4880       865          ext.w     D0
000009A2  48C0       866          ext.l     D0
000009A4  0C80 0000  867          cmp.l     #111,D0
000009A8  006F      
000009AA  671A       868          beq.s     doprint_73
000009AC  6E0C       869          bgt.s     doprint_76
000009AE  0C80 0000  870          cmp.l     #88,D0
000009B2  0058      
000009B4  6710       871          beq.s     doprint_73
000009B6  6000 003A  872          bra       doprint_77
                     873   doprint_76:
000009BA  0C80 0000  874          cmp.l     #120,D0
000009BE  0078      
000009C0  6704       875          beq.s     doprint_73
000009C2  6000 002E  876          bra       doprint_77
                     877   doprint_73:
000009C6  2042       878          move.l    D2,A0
000009C8  5282       879          addq.l    #1,D2
000009CA  10BC 0030  880          move.b    #48,(A0)
000009CE  5287       881          addq.l    #1,D7
000009D0  206E 000C  882          move.l    12(A6),A0
000009D4  1010       883          move.b    (A0),D0
000009D6  0C00 0078  884          cmp.b     #120,D0
000009DA  670C       885          beq.s     doprint_79
000009DC  206E 000C  886          move.l    12(A6),A0
000009E0  1010       887          move.b    (A0),D0
000009E2  0C00 0058  888          cmp.b     #88,D0
000009E6  660A       889          bne.s     doprint_77
                     890   doprint_79:
000009E8  2042       891          move.l    D2,A0
000009EA  5282       892          addq.l    #1,D2
000009EC  10BC 0078  893          move.b    #120,(A0)
000009F0  5287       894          addq.l    #1,D7
                     895   doprint_77:
000009F2  2042       896          move.l    D2,A0
000009F4  4210       897          clr.b     (A0)
000009F6  206E 000C  898          move.l    12(A6),A0
000009FA  1010       899          move.b    (A0),D0
000009FC  4880       900          ext.w     D0
000009FE  48C0       901          ext.l     D0
00000A00  0C80 0000  902          cmp.l     #105,D0
00000A04  0069      
00000A06  6700 0076  903          beq       doprint_82
00000A0A  6E42       904          bgt.s     doprint_93
00000A0C  0C80 0000  905          cmp.l     #99,D0
00000A10  0063      
00000A12  6700 0084  906          beq       doprint_96
00000A16  6E1C       907          bgt.s     doprint_94
00000A18  0C80 0000  908          cmp.l     #88,D0
00000A1C  0058      
00000A1E  6700 005E  909          beq       doprint_82
00000A22  6E00 0184  910          bgt       doprint_80
00000A26  0C80 0000  911          cmp.l     #69,D0
00000A2A  0045      
00000A2C  6700 0050  912          beq       doprint_82
00000A30  6000 0176  913          bra       doprint_80
                     914   doprint_94:
00000A34  0C80 0000  915          cmp.l     #101,D0
00000A38  0065      
00000A3A  6700 0042  916          beq       doprint_82
00000A3E  6E00 0168  917          bgt       doprint_80
00000A42  0C80 0000  918          cmp.l     #100,D0
00000A46  0064      
00000A48  6734       919          beq.s     doprint_82
00000A4A  6000 015C  920          bra       doprint_80
                     921   doprint_93:
00000A4E  0C80 0000  922          cmp.l     #117,D0
00000A52  0075      
00000A54  6728       923          beq.s     doprint_82
00000A56  6E1A       924          bgt.s     doprint_95
00000A58  0C80 0000  925          cmp.l     #115,D0
00000A5C  0073      
00000A5E  6700 0038  926          beq       doprint_96
00000A62  6E00 0144  927          bgt       doprint_80
00000A66  0C80 0000  928          cmp.l     #111,D0
00000A6A  006F      
00000A6C  6710       929          beq.s     doprint_82
00000A6E  6000 0138  930          bra       doprint_80
                     931   doprint_95:
00000A72  0C80 0000  932          cmp.l     #120,D0
00000A76  0078      
00000A78  6704       933          beq.s     doprint_82
00000A7A  6000 012C  934          bra       doprint_80
                     935   doprint_82:
00000A7E  4A2E FFD2  936          tst.b     -46(A6)
00000A82  6714       937          beq.s     doprint_96
00000A84  4A2E FFCD  938          tst.b     -51(A6)
00000A88  660E       939          bne.s     doprint_96
00000A8A  200D       940          move.l    A5,D0
00000A8C  9087       941          sub.l     D7,D0
00000A8E  4884       942          ext.w     D4
00000A90  48C4       943          ext.l     D4
00000A92  9084       944          sub.l     D4,D0
00000A94  2D40 FFFC  945          move.l    D0,-4(A6)
                     946   doprint_96:
00000A98  202E FFFC  947          move.l    -4(A6),D0
00000A9C  0C80 0000  948          cmp.l     #0,D0
00000AA0  0000      
00000AA2  6C04       949          bge.s     doprint_98
00000AA4  42AE FFFC  950          clr.l     -4(A6)
                     951   doprint_98:
00000AA8  4A2E FFCD  952          tst.b     -51(A6)
00000AAC  6600 0030  953          bne       doprint_104
00000AB0  1004       954          move.b    D4,D0
00000AB2  4880       955          ext.w     D0
00000AB4  48C0       956          ext.l     D0
00000AB6  D0AE FFFC  957          add.l     -4(A6),D0
00000ABA  D087       958          add.l     D7,D0
00000ABC  1D40 FFD1  959          move.b    D0,-47(A6)
                     960   doprint_102:
00000AC0  102E FFD1  961          move.b    -47(A6),D0
00000AC4  4880       962          ext.w     D0
00000AC6  48C0       963          ext.l     D0
00000AC8  220D       964          move.l    A5,D1
00000ACA  534D       965          subq.w    #1,A5
00000ACC  B081       966          cmp.l     D1,D0
00000ACE  6C0E       967          bge.s     doprint_104
00000AD0  4878 0020  968          pea       32
00000AD4  2F0A       969          move.l    A2,-(A7)
00000AD6  4E93       970          jsr       (A3)
00000AD8  504F       971          addq.w    #8,A7
00000ADA  5286       972          addq.l    #1,D6
00000ADC  60E2       973          bra       doprint_102
                     974   doprint_104:
00000ADE  41EE FFD4  975          lea       -44(A6),A0
00000AE2  2408       976          move.l    A0,D2
                     977   doprint_105:
00000AE4  2042       978          move.l    D2,A0
00000AE6  4A10       979          tst.b     (A0)
00000AE8  6716       980          beq.s     doprint_107
00000AEA  2042       981          move.l    D2,A0
00000AEC  5282       982          addq.l    #1,D2
00000AEE  1210       983          move.b    (A0),D1
00000AF0  4881       984          ext.w     D1
00000AF2  48C1       985          ext.l     D1
00000AF4  2F01       986          move.l    D1,-(A7)
00000AF6  2F0A       987          move.l    A2,-(A7)
00000AF8  4E93       988          jsr       (A3)
00000AFA  504F       989          addq.w    #8,A7
00000AFC  5286       990          addq.l    #1,D6
00000AFE  60E4       991          bra       doprint_105
                     992   doprint_107:
00000B00  202E FFFC  993          move.l    -4(A6),D0
00000B04  1D40 FFD1  994          move.b    D0,-47(A6)
                     995   doprint_108:
00000B08  102E FFD1  996          move.b    -47(A6),D0
00000B0C  532E FFD1  997          subq.b    #1,-47(A6)
00000B10  4A00       998          tst.b     D0
00000B12  670E       999          beq.s     doprint_110
00000B14  4878 0030 1000          pea       48
00000B18  2F0A      1001          move.l    A2,-(A7)
00000B1A  4E93      1002          jsr       (A3)
00000B1C  504F      1003          addq.w    #8,A7
00000B1E  5286      1004          addq.l    #1,D6
00000B20  60E6      1005          bra       doprint_108
                    1006   doprint_110:
00000B22  2043      1007          move.l    D3,A0
00000B24  4A10      1008          tst.b     (A0)
00000B26  6700 0048 1009          beq       doprint_113
00000B2A  206E 000C 1010          move.l    12(A6),A0
00000B2E  1010      1011          move.b    (A0),D0
00000B30  4880      1012          ext.w     D0
00000B32  48C0      1013          ext.l     D0
00000B34  0C80 0000 1014          cmp.l     #115,D0
00000B38  0073      
00000B3A  670C      1015          beq.s     doprint_116
00000B3C  6E18      1016          bgt.s     doprint_119
00000B3E  0C80 0000 1017          cmp.l     #99,D0
00000B42  0063      
00000B44  6702      1018          beq.s     doprint_116
00000B46  600E      1019          bra.s     doprint_119
                    1020   doprint_116:
00000B48  2005      1021          move.l    D5,D0
00000B4A  5385      1022          subq.l    #1,D5
00000B4C  0C80 0000 1023          cmp.l     #0,D0
00000B50  0000      
00000B52  6E02      1024          bgt.s     doprint_119
00000B54  6016      1025          bra.s     doprint_115
                    1026   doprint_119:
00000B56  2043      1027          move.l    D3,A0
00000B58  5283      1028          addq.l    #1,D3
00000B5A  1210      1029          move.b    (A0),D1
00000B5C  4881      1030          ext.w     D1
00000B5E  48C1      1031          ext.l     D1
00000B60  2F01      1032          move.l    D1,-(A7)
00000B62  2F0A      1033          move.l    A2,-(A7)
00000B64  4E93      1034          jsr       (A3)
00000B66  504F      1035          addq.w    #8,A7
00000B68  5286      1036          addq.l    #1,D6
00000B6A  6002      1037          bra.s     doprint_112
                    1038   doprint_115:
00000B6C  6002      1039          bra.s     doprint_113
                    1040   doprint_112:
00000B6E  60B2      1041          bra       doprint_110
                    1042   doprint_113:
00000B70  4A2E FFCD 1043          tst.b     -51(A6)
00000B74  6700 0030 1044          beq       doprint_125
00000B78  1004      1045          move.b    D4,D0
00000B7A  4880      1046          ext.w     D0
00000B7C  48C0      1047          ext.l     D0
00000B7E  D0AE FFFC 1048          add.l     -4(A6),D0
00000B82  D087      1049          add.l     D7,D0
00000B84  1D40 FFD1 1050          move.b    D0,-47(A6)
                    1051   doprint_123:
00000B88  102E FFD1 1052          move.b    -47(A6),D0
00000B8C  4880      1053          ext.w     D0
00000B8E  48C0      1054          ext.l     D0
00000B90  220D      1055          move.l    A5,D1
00000B92  534D      1056          subq.w    #1,A5
00000B94  B081      1057          cmp.l     D1,D0
00000B96  6C0E      1058          bge.s     doprint_125
00000B98  4878 0020 1059          pea       32
00000B9C  2F0A      1060          move.l    A2,-(A7)
00000B9E  4E93      1061          jsr       (A3)
00000BA0  504F      1062          addq.w    #8,A7
00000BA2  5386      1063          subq.l    #1,D6
00000BA4  60E2      1064          bra       doprint_123
                    1065   doprint_125:
00000BA6  6014      1066          bra.s     doprint_81
                    1067   doprint_80:
00000BA8  206E 000C 1068          move.l    12(A6),A0
00000BAC  1210      1069          move.b    (A0),D1
00000BAE  4881      1070          ext.w     D1
00000BB0  48C1      1071          ext.l     D1
00000BB2  2F01      1072          move.l    D1,-(A7)
00000BB4  2F0A      1073          move.l    A2,-(A7)
00000BB6  4E93      1074          jsr       (A3)
00000BB8  504F      1075          addq.w    #8,A7
00000BBA  5286      1076          addq.l    #1,D6
                    1077   doprint_81:
00000BBC  52AE 000C 1078          addq.l    #1,12(A6)
                    1079   doprint_2:
00000BC0  6000 FA0E 1080          bra       doprint_1
                    1081   doprint_3:
00000BC4  4A92      1082          tst.l     (A2)
00000BC6  6710      1083          beq.s     doprint_126
00000BC8  4201      1084          clr.b     D1
00000BCA  C2BC 0000 1085          and.l     #255,D1
00000BCE  00FF      
00000BD0  2F01      1086          move.l    D1,-(A7)
00000BD2  2F0A      1087          move.l    A2,-(A7)
00000BD4  4E93      1088          jsr       (A3)
00000BD6  504F      1089          addq.w    #8,A7
                    1090   doprint_126:
00000BD8  2006      1091          move.l    D6,D0
00000BDA  4CDF 3CFC 1092          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
00000BDE  4E5E      1093          unlk      A6
00000BE0  4E75      1094          rts
                    1095   @itoa_convert:
00000BE2  4E56 0000 1096          link      A6,#0
00000BE6  48E7 3C00 1097          movem.l   D2/D3/D4/D5,-(A7)
00000BEA  242E 0008 1098          move.l    8(A6),D2
00000BEE  262E 0010 1099          move.l    16(A6),D3
00000BF2  2A2E 000C 1100          move.l    12(A6),D5
00000BF6  2F05      1101          move.l    D5,-(A7)
00000BF8  2F03      1102          move.l    D3,-(A7)
00000BFA  4EB9 0000 1103          jsr       ULDIV
00000BFE  0E54      
00000C00  202F 0004 1104          move.l    4(A7),D0
00000C04  504F      1105          addq.w    #8,A7
00000C06  2800      1106          move.l    D0,D4
00000C08  BA83      1107          cmp.l     D3,D5
00000C0A  651E      1108          blo.s     @itoa_convert_1
00000C0C  2F03      1109          move.l    D3,-(A7)
00000C0E  2F05      1110          move.l    D5,-(A7)
00000C10  2F03      1111          move.l    D3,-(A7)
00000C12  4EB9 0000 1112          jsr       ULDIV
00000C16  0E54      
00000C18  2217      1113          move.l    (A7),D1
00000C1A  504F      1114          addq.w    #8,A7
00000C1C  2F01      1115          move.l    D1,-(A7)
00000C1E  2F02      1116          move.l    D2,-(A7)
00000C20  4EB8 0BE2 1117          jsr       @itoa_convert
00000C24  DEFC 000C 1118          add.w     #12,A7
00000C28  2400      1119          move.l    D0,D2
                    1120   @itoa_convert_1:
00000C2A  0C84 0000 1121          cmp.l     #9,D4
00000C2E  0009      
00000C30  6E0E      1122          bgt.s     @itoa_convert_3
00000C32  2004      1123          move.l    D4,D0
00000C34  7230      1124          moveq     #48,D1
00000C36  C2BC 0000 1125          and.l     #255,D1
00000C3A  00FF      
00000C3C  D081      1126          add.l     D1,D0
00000C3E  6012      1127          bra.s     @itoa_convert_4
                    1128   @itoa_convert_3:
00000C40  2004      1129          move.l    D4,D0
00000C42  7261      1130          moveq     #97,D1
00000C44  C2BC 0000 1131          and.l     #255,D1
00000C48  00FF      
00000C4A  D081      1132          add.l     D1,D0
00000C4C  0480 0000 1133          sub.l     #10,D0
00000C50  000A      
                    1134   @itoa_convert_4:
00000C52  2042      1135          move.l    D2,A0
00000C54  1080      1136          move.b    D0,(A0)
00000C56  2002      1137          move.l    D2,D0
00000C58  5280      1138          addq.l    #1,D0
00000C5A  4CDF 003C 1139          movem.l   (A7)+,D2/D3/D4/D5
00000C5E  4E5E      1140          unlk      A6
00000C60  4E75      1141          rts
                    1142   _ltoa:
00000C62  4E56 0000 1143          link      A6,#0
00000C66  48E7 3C00 1144          movem.l   D2/D3/D4/D5,-(A7)
00000C6A  242E 0008 1145          move.l    8(A6),D2
00000C6E  262E 000C 1146          move.l    12(A6),D3
00000C72  2A2E 0010 1147          move.l    16(A6),D5
00000C76  2803      1148          move.l    D3,D4
00000C78  0C85 0000 1149          cmp.l     #2,D5
00000C7C  0002      
00000C7E  6D08      1150          blt.s     ltoa_3
00000C80  0C85 0000 1151          cmp.l     #36,D5
00000C84  0024      
00000C86  6F06      1152          ble.s     ltoa_1
                    1153   ltoa_3:
00000C88  2003      1154          move.l    D3,D0
00000C8A  6000 0054 1155          bra       ltoa_4
                    1156   ltoa_1:
00000C8E  0C85 0000 1157          cmp.l     #10,D5
00000C92  000A      
00000C94  6600 0034 1158          bne       ltoa_5
00000C98  0C82 0000 1159          cmp.l     #0,D2
00000C9C  0000      
00000C9E  6C2A      1160          bge.s     ltoa_5
00000CA0  2002      1161          move.l    D2,D0
00000CA2  4480      1162          neg.l     D0
00000CA4  2400      1163          move.l    D0,D2
00000CA6  0C82 0000 1164          cmp.l     #0,D2
00000CAA  0000      
00000CAC  6C14      1165          bge.s     ltoa_7
00000CAE  4879 0000 1166          pea       @itoa_1.L
00000CB2  0F88      
00000CB4  2F03      1167          move.l    D3,-(A7)
00000CB6  4EB9 0000 1168          jsr       _strcpy
00000CBA  0E44      
00000CBC  504F      1169          addq.w    #8,A7
00000CBE  2003      1170          move.l    D3,D0
00000CC0  601E      1171          bra.s     ltoa_4
                    1172   ltoa_7:
00000CC2  2044      1173          move.l    D4,A0
00000CC4  5284      1174          addq.l    #1,D4
00000CC6  10BC 002D 1175          move.b    #45,(A0)
                    1176   ltoa_5:
00000CCA  2F05      1177          move.l    D5,-(A7)
00000CCC  2F02      1178          move.l    D2,-(A7)
00000CCE  2F04      1179          move.l    D4,-(A7)
00000CD0  4EB8 0BE2 1180          jsr       @itoa_convert
00000CD4  DEFC 000C 1181          add.w     #12,A7
00000CD8  2800      1182          move.l    D0,D4
00000CDA  2044      1183          move.l    D4,A0
00000CDC  4210      1184          clr.b     (A0)
00000CDE  2003      1185          move.l    D3,D0
                    1186   ltoa_4:
00000CE0  4CDF 003C 1187          movem.l   (A7)+,D2/D3/D4/D5
00000CE4  4E5E      1188          unlk      A6
00000CE6  4E75      1189          rts
                    1190   _ultoa:
00000CE8  4E56 0000 1191          link      A6,#0
00000CEC  48E7 3800 1192          movem.l   D2/D3/D4,-(A7)
00000CF0  262E 0010 1193          move.l    16(A6),D3
00000CF4  282E 000C 1194          move.l    12(A6),D4
00000CF8  2404      1195          move.l    D4,D2
00000CFA  0C83 0000 1196          cmp.l     #2,D3
00000CFE  0002      
00000D00  6D08      1197          blt.s     ultoa_3
00000D02  0C83 0000 1198          cmp.l     #36,D3
00000D06  0024      
00000D08  6F04      1199          ble.s     ultoa_1
                    1200   ultoa_3:
00000D0A  2004      1201          move.l    D4,D0
00000D0C  6018      1202          bra.s     ultoa_4
                    1203   ultoa_1:
00000D0E  2F03      1204          move.l    D3,-(A7)
00000D10  2F2E 0008 1205          move.l    8(A6),-(A7)
00000D14  2F02      1206          move.l    D2,-(A7)
00000D16  4EB8 0BE2 1207          jsr       @itoa_convert
00000D1A  DEFC 000C 1208          add.w     #12,A7
00000D1E  2400      1209          move.l    D0,D2
00000D20  2042      1210          move.l    D2,A0
00000D22  4210      1211          clr.b     (A0)
00000D24  2004      1212          move.l    D4,D0
                    1213   ultoa_4:
00000D26  4CDF 001C 1214          movem.l   (A7)+,D2/D3/D4
00000D2A  4E5E      1215          unlk      A6
00000D2C  4E75      1216          rts
                    1217   _itoa:
00000D2E  4E56 0000 1218          link      A6,#0
00000D32  2F2E 0010 1219          move.l    16(A6),-(A7)
00000D36  2F2E 000C 1220          move.l    12(A6),-(A7)
00000D3A  2F2E 0008 1221          move.l    8(A6),-(A7)
00000D3E  4EB8 0C62 1222          jsr       _ltoa
00000D42  DEFC 000C 1223          add.w     #12,A7
00000D46  4E5E      1224          unlk      A6
00000D48  4E75      1225          rts
                    1226   ULMUL:
00000D4A  4E56 0000 1227          link    A6,#0
00000D4E  48E7 C000 1228          movem.l D0/D1,-(A7)
00000D52  222E 0008 1229          move.l  8(A6),D1
00000D56  202E 000C 1230          move.l  12(A6),D0
00000D5A  602C      1231          bra.s   lmul_3
                    1232   LMUL:
00000D5C  4E56 0000 1233          link    A6,#0
00000D60  48E7 C000 1234          movem.l D0/D1,-(A7)
00000D64  222E 0008 1235          move.l  8(A6),D1
00000D68  202E 000C 1236          move.l  12(A6),D0
00000D6C  4A80      1237          tst.l   D0
00000D6E  6A0A      1238          bpl.s   lmul_1
00000D70  4480      1239          neg.l   D0
00000D72  4A81      1240          tst.l   D1
00000D74  6A0A      1241          bpl.s   lmul_2
00000D76  4481      1242          neg.l   D1
00000D78  600E      1243          bra.s   lmul_3
                    1244   lmul_1:
00000D7A  4A81      1245          tst.l   D1
00000D7C  6A0A      1246          bpl.s   lmul_3
00000D7E  4481      1247          neg.l   D1
                    1248   lmul_2:
00000D80  6114      1249          bsr.s   domul
00000D82  4481      1250          neg.l   D1
00000D84  4080      1251          negx.l  D0
00000D86  6002      1252          bra.s   lmul_4
                    1253   lmul_3:
00000D88  610C      1254          bsr.s   domul
                    1255   lmul_4:
00000D8A  2D41 0008 1256          move.l  D1,8(A6)
00000D8E  4CDF 0003 1257          movem.l (A7)+,D0/D1
00000D92  4E5E      1258          unlk    A6
00000D94  4E75      1259          rts
                    1260   domul:
00000D96  0C81 0000 1261          cmpi.l  #$FFFF,D1
00000D9A  FFFF      
00000D9C  620C      1262          bhi.s   domul_1
00000D9E  0C80 0000 1263          cmpi.l  #$FFFF,D0
00000DA2  FFFF      
00000DA4  620E      1264          bhi.s   domul_2
00000DA6  C2C0      1265          mulu    D0,D1
00000DA8  4E75      1266          rts
                    1267   domul_1:
00000DAA  0C80 0000 1268          cmpi.l  #$FFFF,D0
00000DAE  FFFF      
00000DB0  6218      1269          bhi.s   domul_4
00000DB2  6002      1270          bra.s   domul_3
                    1271   domul_2
00000DB4  C141      1272          exg     D0,D1
                    1273   domul_3:
00000DB6  2F02      1274          move.l  D2,-(A7)
00000DB8  2401      1275          move.l  D1,D2
00000DBA  4842      1276          swap    D2
00000DBC  C2C0      1277          mulu    D0,D1
00000DBE  C4C0      1278          mulu    D0,D2
00000DC0  4842      1279          swap    D2
00000DC2  4242      1280          clr.w   D2
00000DC4  D282      1281          add.l   D2,D1
00000DC6  241F      1282          move.l  (A7)+,D2
00000DC8  4E75      1283          rts
                    1284   domul_4:
00000DCA  48E7 3000 1285          movem.l D2/D3,-(A7)
00000DCE  2401      1286          move.l  D1,D2
00000DD0  2601      1287          move.l  D1,D3
00000DD2  C2C0      1288          mulu    D0,D1
00000DD4  4842      1289          swap    D2
00000DD6  C4C0      1290          mulu    D0,D2
00000DD8  4840      1291          swap    D0
00000DDA  C6C0      1292          mulu    D0,D3
00000DDC  D483      1293          add.l   D3,D2
00000DDE  4842      1294          swap    D2
00000DE0  4242      1295          clr.w   D2
00000DE2  D282      1296          add.l   D2,D1
00000DE4  4CDF 000C 1297          movem.l (A7)+,D2/D3
00000DE8  4E75      1298          rts
                    1299   _strlen:
00000DEA  206F 0004 1300          move.l    (4,A7),A0
00000DEE  2248      1301          move.l    A0,A1
                    1302   strlen_1:
00000DF0  4A19      1303          tst.b     (A1)+
00000DF2  66FC      1304          bne       strlen_1
00000DF4  2009      1305          move.l    A1,D0
00000DF6  9088      1306          sub.l     A0,D0
00000DF8  5380      1307          subq.l    #1,D0
00000DFA  4E75      1308          rts
                    1309   _putch:
00000DFC  4E56 0000 1310          link      A6,#0
00000E00  2F02      1311          move.l    D2,-(A7)
00000E02  242E 0008 1312          move.l    8(A6),D2
00000E06  0C82 0000 1313          cmp.l     #10,D2
00000E0A  000A      
00000E0C  660A      1314          bne.s     putch_1
00000E0E  4878 000D 1315          pea       13
00000E12  4EB8 044A 1316          jsr       __putch
00000E16  584F      1317          addq.w    #4,A7
                    1318   putch_1:
00000E18  2F02      1319          move.l    D2,-(A7)
00000E1A  4EB8 044A 1320          jsr       __putch
00000E1E  584F      1321          addq.w    #4,A7
00000E20  2002      1322          move.l    D2,D0
00000E22  241F      1323          move.l    (A7)+,D2
00000E24  4E5E      1324          unlk      A6
00000E26  4E75      1325          rts
                    1326   _toupper:
00000E28  202F 0004 1327          move.l    4(A7),D0
00000E2C  0C80 0000 1328          cmp.l     #'a',D0
00000E30  0061      
00000E32  6D0E      1329          blt.s     toupper_1
00000E34  0C80 0000 1330          cmp.l     #'z',D0
00000E38  007A      
00000E3A  6E06      1331          bgt.s     toupper_1
00000E3C  0480 0000 1332          sub.l     #$20,D0
00000E40  0020      
                    1333   toupper_1:
00000E42  4E75      1334          rts
                    1335   _strcpy:
00000E44  206F 0004 1336          move.l    (4,A7),A0
00000E48  226F 0008 1337          move.l    (8,A7),A1
00000E4C  2008      1338          move.l    A0,D0
                    1339   strcpy_1:
00000E4E  10D9      1340          move.b    (A1)+,(A0)+
00000E50  66FC      1341          bne.s     strcpy_1
00000E52  4E75      1342          rts
                    1343   ULDIV:
00000E54  4E56 0000 1344          link    A6,#0
00000E58  48E7 C000 1345          movem.l D0/D1,-(A7)
00000E5C  222E 0008 1346          move.l  8(A6),D1
00000E60  202E 000C 1347          move.l  12(A6),D0
00000E64  6036      1348          bra.s   ldiv_3
                    1349   LDIV:
00000E66  4E56 0000 1350          link    A6,#0
00000E6A  48E7 C000 1351          movem.l D0/D1,-(A7)
00000E6E  222E 0008 1352          move.l  8(A6),D1
00000E72  202E 000C 1353          move.l  12(A6),D0
00000E76  4A80      1354          tst.l   D0
00000E78  6A0E      1355          bpl.s   ldiv_1
00000E7A  4480      1356          neg.l   D0
00000E7C  4A81      1357          tst.l   D1
00000E7E  6A14      1358          bpl.s   ldiv_2
00000E80  4481      1359          neg.l   D1
00000E82  612A      1360          bsr.s   dodiv
00000E84  4481      1361          neg.l   D1
00000E86  6016      1362          bra.s   ldiv_4
                    1363   ldiv_1:
00000E88  4A81      1364          tst.l   D1
00000E8A  6A10      1365          bpl.s   ldiv_3
00000E8C  4481      1366          neg.l   D1
00000E8E  611E      1367          bsr.s   dodiv
00000E90  4480      1368          neg.l   D0
00000E92  600A      1369          bra.s   ldiv_4
                    1370   ldiv_2:
00000E94  6118      1371          bsr.s   dodiv
00000E96  4480      1372          neg.l   D0
00000E98  4481      1373          neg.l   D1
00000E9A  6002      1374          bra.s   ldiv_4
                    1375   ldiv_3:
00000E9C  6110      1376          bsr.s   dodiv
                    1377   ldiv_4:
00000E9E  2D40 0008 1378          move.l  D0,8(A6)
00000EA2  2D41 000C 1379          move.l  D1,12(A6)
00000EA6  4CDF 0003 1380          movem.l (A7)+,D0/D1
00000EAA  4E5E      1381          unlk    A6
00000EAC  4E75      1382          rts
                    1383   dodiv:
00000EAE  0C81 0000 1384          cmpi.l  #$FFFF,D1
00000EB2  FFFF      
00000EB4  6236      1385          bhi.s   dodiv_2
00000EB6  0C80 0000 1386          cmpi.l  #$FFFF,D0
00000EBA  FFFF      
00000EBC  6210      1387          bhi.s   dodiv_1
00000EBE  80C1      1388          divu    D1,D0
00000EC0  2200      1389          move.l  D0,D1
00000EC2  4241      1390          clr.w   D1
00000EC4  4841      1391          swap    D1
00000EC6  0280 0000 1392          andi.l  #$FFFF,D0
00000ECA  FFFF      
00000ECC  4E75      1393          rts
                    1394   dodiv_1:
00000ECE  48A7 A000 1395          movem.w D0/D2,-(A7)
00000ED2  4240      1396          clr.w   D0
00000ED4  4840      1397          swap    D0
00000ED6  80C1      1398          divu    D1,D0
00000ED8  3400      1399          move.w  D0,D2
00000EDA  301F      1400          move.w  (A7)+,D0
00000EDC  80C1      1401          divu    D1,D0
00000EDE  4840      1402          swap    D0
00000EE0  4281      1403          clr.l   D1
00000EE2  3200      1404          move.w  D0,D1
00000EE4  3002      1405          move.w  D2,D0
00000EE6  4840      1406          swap    D0
00000EE8  341F      1407          move.w  (A7)+,D2
00000EEA  4E75      1408          rts
                    1409   dodiv_2:
00000EEC  48E7 3800 1410          movem.l D2/D3/D4,-(A7)
00000EF0  2401      1411          move.l  D1,D2
00000EF2  4242      1412          clr.w   D2
00000EF4  4842      1413          swap    D2
00000EF6  5282      1414          addq.l  #1,D2
00000EF8  2600      1415          move.l  D0,D3
00000EFA  2801      1416          move.l  D1,D4
00000EFC  2202      1417          move.l  D2,D1
00000EFE  61CE      1418          bsr.s   dodiv_1
00000F00  2204      1419          move.l  D4,D1
00000F02  82C2      1420          divu    D2,D1
00000F04  80C1      1421          divu    D1,D0
00000F06  0280 0000 1422          andi.l  #$FFFF,D0
00000F0A  FFFF      
                    1423   dodiv_3:
00000F0C  2204      1424          move.l  D4,D1
00000F0E  2404      1425          move.l  D4,D2
00000F10  4842      1426          swap    D2
00000F12  C2C0      1427          mulu    D0,D1
00000F14  C4C0      1428          mulu    D0,D2
00000F16  4842      1429          swap    D2
00000F18  D282      1430          add.l   D2,D1
00000F1A  9283      1431          sub.l   D3,D1
00000F1C  620A      1432          bhi.s   dodiv_4
00000F1E  4481      1433          neg.l   D1
00000F20  B881      1434          cmp.l   D1,D4
00000F22  6208      1435          bhi.s   dodiv_5
00000F24  5280      1436          addq.l  #1,D0
00000F26  60E4      1437          bra.s   dodiv_3
                    1438   dodiv_4:
00000F28  5380      1439          subq.l  #1,D0
00000F2A  60E0      1440          bra.s   dodiv_3
                    1441   dodiv_5:
00000F2C  4CDF 001C 1442          movem.l (A7)+,D2/D3/D4
00000F30  4E75      1443          rts
                    1444          section   const
          0000 0F32 1445   const      equ         *               ; start address of const section (initialized data in ROM)
                    1446   
                    1447   stackmsg:
00000F32  5374 6163 1448              dc.b        'Stack overflow!',$0A,$0D
00000F36  6B20 6F76 
00000F3A  6572 666C 
00000F3E  6F77 210A 
00000F42  0D        
00000F43  5072 6F67 1449              dc.b        'Program aborted',$0A,$0D,0
00000F47  7261 6D20 
00000F4B  6162 6F72 
00000F4F  7465 640A 
00000F53  0D00      
                    1450   
                    1451   @canbus~1_1:
00000F56  0D0A 0D0A 1452          dc.b      13,10,13,10,45,45,45,45,32,67,65,78,66,85,83
00000F5A  2D2D 2D2D 
00000F5E  2043 414E 
00000F62  4255 53   
00000F65  2054 6573 1453          dc.b      32,84,101,115,116,32,45,45,45,45,13,10,0
00000F69  7420 2D2D 
00000F6D  2D2D 0D0A 
00000F71  00        
                    1454   @canbus~1_2:
00000F72  0D0A 00   1455          dc.b      13,10,0
                    1456   @canbus~1_3:
00000F76  0D0A 2048 1457          dc.b      13,10,32,72,101,108,108,111,32,87,111,114,108
00000F7A  656C 6C6F 
00000F7E  2057 6F72 
00000F82  6C        
00000F83  6421 0D0A 1458          dc.b      100,33,13,10,0
00000F87  00        
                    1459   @itoa_1:
00000F88  2D32 3134 1460          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
00000F8C  3734 3833 
00000F90  3634 3800 
                    1461   __ctype:
00000F94  0040 4040 1462          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
00000F98  4040 4040 
00000F9C  4040 5050 
00000FA0  5050 50   
00000FA3  4040 4040 1463          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
00000FA7  4040 4040 
00000FAB  4040 4040 
00000FAF  4040 40   
00000FB2  4040 40D0 1464          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
00000FB6  A0A0 A0A0 
00000FBA  A0A0 A0A0 
00000FBE  A0A0 A0A0 1465          dc.b      160,160,160,160,160,160,160,140,140,140,140
00000FC2  A0A0 A08C 
00000FC6  8C8C 8C   
00000FC9  8C8C 8C8C 1466          dc.b      140,140,140,140,140,140,160,160,160,160,160
00000FCD  8C8C A0A0 
00000FD1  A0A0 A0   
00000FD4  A0A0 8A8A 1467          dc.b      160,160,138,138,138,138,138,138,130,130,130
00000FD8  8A8A 8A8A 
00000FDC  8282 82   
00000FDF  8282 8282 1468          dc.b      130,130,130,130,130,130,130,130,130,130,130
00000FE3  8282 8282 
00000FE7  8282 82   
00000FEA  8282 8282 1469          dc.b      130,130,130,130,130,130,160,160,160,160,160
00000FEE  8282 A0A0 
00000FF2  A0A0 A0   
00000FF5  A089 8989 1470          dc.b      160,137,137,137,137,137,137,129,129,129,129
00000FF9  8989 8981 
00000FFD  8181 81   
00001000  8181 8181 1471          dc.b      129,129,129,129,129,129,129,129,129,129,129
00001004  8181 8181 
00001008  8181 81   
0000100B  8181 8181 1472          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
0000100F  81A0 A0A0 
00001013  A040 0000 
00001017  00        
00001018  0000 0000 1473          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0000101C  0000 0000 
00001020  0000 0000 
00001024  0000 0000 
00001028  0000 0000 
0000102C  0000      
0000102E  0000 0000 1474          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
00001032  0000 0000 
00001036  0000 0000 
0000103A  0000 0000 
0000103E  0000 0000 
00001042  0000      
00001044  0000 0000 1475          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
00001048  0000 0000 
0000104C  0000 0000 
00001050  0000 0000 
00001054  0000 0000 
00001058  0000      
0000105A  0000 0000 1476          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0000105E  0000 0000 
00001062  0000 0000 
00001066  0000 0000 
0000106A  0000 0000 
0000106E  0000      
00001070  0000 0000 1477          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
00001074  0000 0000 
00001078  0000 0000 
0000107C  0000 0000 
00001080  0000 0000 
00001084  0000      
00001086  0000 0000 1478          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0000108A  0000 0000 
0000108E  0000 0000 
00001092  0000 00   
                    1479          section   data
          0000 1096 1480   data       equ         *               ; start address of data section (initialized global data ROM/RAM))
                    1481   
                    1482          section   bss
          0000 1096 1483   bss        equ         *               ; start address of bss section (uninitialized global data in RAM)
                    1484   
                    1485   __ungetbuf:
00001096            1486              ds.l        1               ; ungetbuffer for stdio functions
                    1487   __allocp:
0000109A            1488              ds.l        1               ; start of free memory block list
                    1489   __heap:
0000109E            1490              ds.l        1               ; begin of free memory
                    1491   __stack:
000010A2            1492              ds.l        1               ; bottom of stack
                    1493          section   heap
          0000 10A6 1494   heap       equ         *               ; start address of heap section (start of free memory, RAM)
                    1495   
          0000 0400

Assembly errors: 0
