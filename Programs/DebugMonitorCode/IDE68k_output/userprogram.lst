680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 28 Feb 2019      Time: 21:20:51          Source: C:\M68K\PROGRAMS\DEBUGMONITORCODE\IDE68K_OUTPUT\USERPROGRAM.SRC

                       1          section   code
                       2   **********************************************************************************************************
                       3   * CSTART.ASM  -  C startup-code
                       4   *
                       5   *          Initialises the system prior to running the users main() program
                       6   *
                       7   *          1) Sets up the user program stack pointer
                       8   *          2) Switches to User mode in the 68000
                       9   *          3) Enables All Interrupts 1-7 on 68000
                      10   *          4) Copies all initialised C program variables from Rom to Ram prior to running main()
                      11   *
                      12   **********************************************************************************************************
00000000              13                   align
                      14   
                      15   
                      16   **********************************************************************************************************
                      17   * The Following ORG Statement marks the address of the start of the this CStart Program
                      18   *
                      19   * The debug Monitor and Flash Load and Program routines assume your program lives here
                      20   **********************************************************************************************************
08000000              21                   org       $08000000
08000000  46FC 2000   22   start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode
                      23   
                      24   ******************************************************************************************
                      25   * Set unitialised global variables to 0 at startup
                      26   ******************************************************************************************
08000004  207C 0800   27   mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
08000008  18DE      
0800000A  203C 0000   28                   move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
0800000E  0050      
08000010  6700 0024   29                   beq       go_main               if no data to copy go straight to program
08000014  10FC 0000   30   Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
08000018  5380        31                   subq.l    #1,d0
0800001A  66F8        32                   bne       Zeroinit
                      33   
                      34   *******************************************************************************************
                      35   * last minute initialisation before calling main
                      36   *******************************************************************************************
                      37   
0800001C  23FC FFFF   38                   move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
08000020  FFFF 0800 
08000024  17BE      
08000026  42B9 0800   39                   clr.l     __allocp               used by malloc() in C
0800002A  17C2      
0800002C  23FC 0800   40                   move.l    #heap,__heap           pointer to free memory
08000030  192E 0800 
08000034  17C6      
08000036  4EB9 0800   41   go_main         jsr       _main
0800003A  027C      
0800003C  60C2        42                   bra       start
                      43   
                      44   ; C:\M68K\PROGRAMS\DEBUGMONITORCODE\USERPROGRAM FILES\M68KUSERPROGRAM (DE1).C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      45   ; #include <stdio.h>
                      46   ; // #include <string.h>
                      47   ; // #include <ctype.h>
                      48   ; /*********************************************************************************************
                      49   ; **  RS232 port addresses
                      50   ; *********************************************************************************************/
                      51   ; #define RS232_Control     *(volatile unsigned char *)(0x00400040)
                      52   ; #define RS232_Status      *(volatile unsigned char *)(0x00400040)
                      53   ; #define RS232_TxData      *(volatile unsigned char *)(0x00400042)
                      54   ; #define RS232_RxData      *(volatile unsigned char *)(0x00400042)
                      55   ; #define RS232_Baud        *(volatile unsigned char *)(0x00400044)
                      56   ; /*************************************************************
                      57   ; ** SPI Controller registers
                      58   ; **************************************************************/
                      59   ; // SPI Registers
                      60   ; #define SPI_Control         (*(volatile unsigned char *)(0x00408020))
                      61   ; #define SPI_Status          (*(volatile unsigned char *)(0x00408022))
                      62   ; #define SPI_Data            (*(volatile unsigned char *)(0x00408024))
                      63   ; #define SPI_Ext             (*(volatile unsigned char *)(0x00408026))
                      64   ; #define SPI_CS              (*(volatile unsigned char *)(0x00408028))
                      65   ; // these two macros enable or disable the flash memory chip enable off SSN_O[7..0]
                      66   ; // in this case we assume there is only 1 device connected to SSN_O[0] so we can
                      67   ; // write hex FE to the SPI_CS to enable it (the enable on the flash chip is active low)
                      68   ; // and write FF to disable it
                      69   ; #define   Enable_SPI_CS()             SPI_CS = 0xFE
                      70   ; #define   Disable_SPI_CS()            SPI_CS = 0xFF 
                      71   ; /*******************************************************************************************
                      72   ; ** Function Prototypes
                      73   ; *******************************************************************************************/
                      74   ; int sprintf(char *out, const char *format, ...) ;
                      75   ; int TestForSPITransmitDataComplete(void);
                      76   ; void SPI_Init(void);
                      77   ; void WaitForSPITransmitComplete(void);
                      78   ; void DisableWriteProtect(void);
                      79   ; void WriteSPIChar(char c);
                      80   ; char ReadSPIChar(void);
                      81   ; int _getch( void )
                      82   ; {
                      83   __getch:
0800003E  4E56 FFFC   84          link      A6,#-4
                      85   ; char c ;
                      86   ; while((RS232_Status & (char)(0x01)) != (char)(0x01))    // wait for Rx bit in 6850 serial comms chip status register to be '1'
                      87   _getch_1:
08000042  1039 0040   88          move.b    4194368,D0
08000046  0040      
08000048  C03C 0001   89          and.b     #1,D0
0800004C  0C00 0001   90          cmp.b     #1,D0
08000050  6702        91          beq.s     _getch_3
08000052  60EE        92          bra       _getch_1
                      93   _getch_3:
                      94   ; ;
                      95   ; return (RS232_RxData & (char)(0x7f));                   // read received character, mask off top bit and return as 7 bit ASCII character
08000054  1039 0040   96          move.b    4194370,D0
08000058  0042      
0800005A  C0BC 0000   97          and.l     #255,D0
0800005E  00FF      
08000060  C0BC 0000   98          and.l     #127,D0
08000064  007F      
08000066  4E5E        99          unlk      A6
08000068  4E75       100          rts
                     101   ; }
                     102   ; int _putch( int c)
                     103   ; {
                     104   __putch:
0800006A  4E56 0000  105          link      A6,#0
                     106   ; while((RS232_Status & (char)(0x02)) != (char)(0x02))    // wait for Tx bit in status register or 6850 serial comms chip to be '1'
                     107   _putch_1:
0800006E  1039 0040  108          move.b    4194368,D0
08000072  0040      
08000074  C03C 0002  109          and.b     #2,D0
08000078  0C00 0002  110          cmp.b     #2,D0
0800007C  6702       111          beq.s     _putch_3
0800007E  60EE       112          bra       _putch_1
                     113   _putch_3:
                     114   ; ;
                     115   ; RS232_TxData = (c & (char)(0x7f));                      // write to the data register to output the character (mask off bit 8 to keep it 7 bit ASCII)
08000080  202E 0008  116          move.l    8(A6),D0
08000084  C0BC 0000  117          and.l     #127,D0
08000088  007F      
0800008A  13C0 0040  118          move.b    D0,4194370
0800008E  0042      
                     119   ; return c ;                                              // putchar() expects the character to be returned
08000090  202E 0008  120          move.l    8(A6),D0
08000094  4E5E       121          unlk      A6
08000096  4E75       122          rts
                     123   ; }
                     124   ; /******************************************************************************************
                     125   ; ** The following code is for the SPI controller
                     126   ; *******************************************************************************************/
                     127   ; // return true if the SPI has finished transmitting a byte (to say the Flash chip) return false otherwise
                     128   ; // this can be used in a polling algorithm to know when the controller is busy or idle.
                     129   ; int TestForSPITransmitDataComplete(void)
                     130   ; {
                     131   _TestForSPITransmitDataComplete:
                     132   ; /* if register SPIF bit set, return true, otherwise wait*/
                     133   ; Enable_SPI_CS();
08000098  13FC 00FE  134          move.b    #254,4227112
0800009C  0040 8028 
                     135   ; SPI_Data = 0x05; // Read Status register command
080000A0  13FC 0005  136          move.b    #5,4227108
080000A4  0040 8024 
                     137   ; SPI_Data = 0xFF; // dummy byte
080000A8  13FC 00FF  138          move.b    #255,4227108
080000AC  0040 8024 
                     139   ; while ((SPI_Status & 128) >> 7 != 1);
                     140   TestForSPITransmitDataComplete_1:
080000B0  1039 0040  141          move.b    4227106,D0
080000B4  8022      
080000B6  C07C 00FF  142          and.w     #255,D0
080000BA  C07C 0080  143          and.w     #128,D0
080000BE  EE40       144          asr.w     #7,D0
080000C0  0C40 0001  145          cmp.w     #1,D0
080000C4  6702       146          beq.s     TestForSPITransmitDataComplete_3
080000C6  60E8       147          bra       TestForSPITransmitDataComplete_1
                     148   TestForSPITransmitDataComplete_3:
                     149   ; printf("\r\n SPI_Status = %d \r\n", SPI_Status); // 128
080000C8  1239 0040  150          move.b    4227106,D1
080000CC  8022      
080000CE  C2BC 0000  151          and.l     #255,D1
080000D2  00FF      
080000D4  2F01       152          move.l    D1,-(A7)
080000D6  4879 0800  153          pea       @m68kus~1_1.L
080000DA  16F2      
080000DC  4EB9 0800  154          jsr       _printf
080000E0  0B50      
080000E2  504F       155          addq.w    #8,A7
                     156   ; Disable_SPI_CS();
080000E4  13FC 00FF  157          move.b    #255,4227112
080000E8  0040 8028 
                     158   ; return 1;
080000EC  7001       159          moveq     #1,D0
080000EE  4E75       160          rts
                     161   ; }
                     162   ; /************************************************************************************
                     163   ; ** initialises the SPI controller chip to set speed, interrupt capability etc.
                     164   ; ************************************************************************************/
                     165   ; void SPI_Init(void)
                     166   ; {
                     167   _SPI_Init:
                     168   ; //TODO
                     169   ; //
                     170   ; // Program the SPI Control, EXT, CS and Status registers to initialise the SPI controller
                     171   ; // Don't forget to call this routine from main() before you do anything else with SPI
                     172   ; //
                     173   ; // Here are some settings we want to create
                     174   ; //
                     175   ; // Control Reg     - interrupts disabled, core enabled, Master mode, Polarity and Phase of clock = [0,0], speed =  divide by 32 = approx 700Khz
                     176   ; SPI_Control = 0x53; // 8'b01X10011, X = don't Care (Use 0)
080000F0  13FC 0053  177          move.b    #83,4227104
080000F4  0040 8020 
                     178   ; // Ext Reg         - in conjunction with control reg sets speed to above and also sets interrupt flag after every completed transfer (each byte)
                     179   ; SPI_Ext = 0;        //8'b00XXXX00
080000F8  4239 0040  180          clr.b     4227110
080000FC  8026      
                     181   ; // SPI_CS Reg      - disable all connected SPI chips via their CS signals
                     182   ; SPI_CS = Disable_SPI_CS();
080000FE  13FC 00FF  183          move.b    #255,4227112
08000102  0040 8028 
08000106  13FC 00FF  184          move.b    #255,4227112
0800010A  0040 8028 
                     185   ; // Status Reg      - clear any write collision and interrupt on transmit complete flag
                     186   ; SPI_Status = 0xC0;  // 8'b11XX0000, X = don't Care (Use 0)
0800010E  13FC 00C0  187          move.b    #192,4227106
08000112  0040 8022 
08000116  4E75       188          rts
                     189   ; }
                     190   ; /************************************************************************************
                     191   ; ** return ONLY when the SPI controller has finished transmitting a byte
                     192   ; ************************************************************************************/
                     193   ; void WaitForSPITransmitComplete(void)
                     194   ; {
                     195   _WaitForSPITransmitComplete:
                     196   ; // poll the status register SPIF bit looking for completion of transmission
                     197   ; TestForSPITransmitDataComplete();
08000118  4EB9 0800  198          jsr       _TestForSPITransmitDataComplete
0800011C  0098      
                     199   ; // once transmission is complete, clear the write collision and interrupt on transmit complete flags in the status register (read documentation)
                     200   ; // in case they were set
                     201   ; SPI_Status = 0xC0; //  (8'b11XX0000, X = don't Care (Use 0))
0800011E  13FC 00C0  202          move.b    #192,4227106
08000122  0040 8022 
08000126  4E75       203          rts
                     204   ; }
                     205   ; /************************************************************************************
                     206   ; ** Disable Write Protect to allow writing access to chip
                     207   ; ************************************************************************************/
                     208   ; void DisableWriteProtect(void){
                     209   _DisableWriteProtect:
                     210   ; // Enable Chip Select
                     211   ; SPI_CS = Enable_SPI_CS();
08000128  13FC 00FE  212          move.b    #254,4227112
0800012C  0040 8028 
08000130  13FC 00FE  213          move.b    #254,4227112
08000134  0040 8028 
                     214   ; // Send Write Command to Chip
                     215   ; SPI_Data = 0x6;
08000138  13FC 0006  216          move.b    #6,4227108
0800013C  0040 8024 
                     217   ; // Disable Chip Select
                     218   ; SPI_CS = Disable_SPI_CS();
08000140  13FC 00FF  219          move.b    #255,4227112
08000144  0040 8028 
08000148  13FC 00FF  220          move.b    #255,4227112
0800014C  0040 8028 
08000150  4E75       221          rts
                     222   ; }
                     223   ; /************************************************************************************
                     224   ; ** Write a byte to the SPI flash chip via the controller and returns (reads) whatever was
                     225   ; ** given back by SPI device at the same time (removes the read byte from the FIFO)
                     226   ; ************************************************************************************/
                     227   ; void WriteSPIChar(char c)
                     228   ; {
                     229   _WriteSPIChar:
08000152  4E56 0000  230          link      A6,#0
08000156  2F0A       231          move.l    A2,-(A7)
08000158  45F9 0800  232          lea       _printf.L,A2
0800015C  0B50      
                     233   ; // Enable Chip Select
                     234   ; SPI_CS = Enable_SPI_CS();
0800015E  13FC 00FE  235          move.b    #254,4227112
08000162  0040 8028 
08000166  13FC 00FE  236          move.b    #254,4227112
0800016A  0040 8028 
                     237   ; DisableWriteProtect();
0800016E  4EB9 0800  238          jsr       _DisableWriteProtect
08000172  0128      
                     239   ; // Send Write Command to Chip
                     240   ; SPI_Data = 0x2;
08000174  13FC 0002  241          move.b    #2,4227108
08000178  0040 8024 
                     242   ; // Send 24-bit Address that we stored c in
                     243   ; SPI_Data = 0x0; // 24-bit address - 1st Byte
0800017C  4239 0040  244          clr.b     4227108
08000180  8024      
                     245   ; SPI_Data = 0x0; // 24-bit address - 2nd Byte
08000182  4239 0040  246          clr.b     4227108
08000186  8024      
                     247   ; SPI_Data = 0xF; // 24-bit address - 3rd Byte
08000188  13FC 000F  248          move.b    #15,4227108
0800018C  0040 8024 
                     249   ; // Payload Data
                     250   ; SPI_Data = c;
08000190  13EE 000B  251          move.b    11(A6),4227108
08000194  0040 8024 
                     252   ; printf("\r\n SPI_Data before disable = %c", SPI_Data);
08000198  1239 0040  253          move.b    4227108,D1
0800019C  8024      
0800019E  C2BC 0000  254          and.l     #255,D1
080001A2  00FF      
080001A4  2F01       255          move.l    D1,-(A7)
080001A6  4879 0800  256          pea       @m68kus~1_2.L
080001AA  1708      
080001AC  4E92       257          jsr       (A2)
080001AE  504F       258          addq.w    #8,A7
                     259   ; //  Disable Chip Select
                     260   ; SPI_CS = Disable_SPI_CS();
080001B0  13FC 00FF  261          move.b    #255,4227112
080001B4  0040 8028 
080001B8  13FC 00FF  262          move.b    #255,4227112
080001BC  0040 8028 
                     263   ; printf("\r\n SPI_Data before wait = %c", SPI_Data);
080001C0  1239 0040  264          move.b    4227108,D1
080001C4  8024      
080001C6  C2BC 0000  265          and.l     #255,D1
080001CA  00FF      
080001CC  2F01       266          move.l    D1,-(A7)
080001CE  4879 0800  267          pea       @m68kus~1_3.L
080001D2  1728      
080001D4  4E92       268          jsr       (A2)
080001D6  504F       269          addq.w    #8,A7
                     270   ; // wait for completion of transmission
                     271   ; WaitForSPITransmitComplete();
080001D8  4EB9 0800  272          jsr       _WaitForSPITransmitComplete
080001DC  0118      
                     273   ; printf("\r\n SPI_Data after wait= %c", SPI_Data);
080001DE  1239 0040  274          move.b    4227108,D1
080001E2  8024      
080001E4  C2BC 0000  275          and.l     #255,D1
080001E8  00FF      
080001EA  2F01       276          move.l    D1,-(A7)
080001EC  4879 0800  277          pea       @m68kus~1_4.L
080001F0  1746      
080001F2  4E92       278          jsr       (A2)
080001F4  504F       279          addq.w    #8,A7
080001F6  245F       280          move.l    (A7)+,A2
080001F8  4E5E       281          unlk      A6
080001FA  4E75       282          rts
                     283   ; }
                     284   ; char ReadSPIChar(void){
                     285   _ReadSPIChar:
080001FC  2F02       286          move.l    D2,-(A7)
                     287   ; char read_byte;
                     288   ; // Enable Chip Select
                     289   ; SPI_CS = Enable_SPI_CS();
080001FE  13FC 00FE  290          move.b    #254,4227112
08000202  0040 8028 
08000206  13FC 00FE  291          move.b    #254,4227112
0800020A  0040 8028 
                     292   ; // Send Read Command to Chip
                     293   ; SPI_Data = 0x3;
0800020E  13FC 0003  294          move.b    #3,4227108
08000212  0040 8024 
                     295   ; // Send 24-bit Address that we stored c in
                     296   ; SPI_Data = 0x0; // 24-bit address - 1st Byte
08000216  4239 0040  297          clr.b     4227108
0800021A  8024      
                     298   ; SPI_Data = 0x0; // 24-bit address - 2nd Byte
0800021C  4239 0040  299          clr.b     4227108
08000220  8024      
                     300   ; SPI_Data = 0xF; // 24-bit address - 3rd Byte
08000222  13FC 000F  301          move.b    #15,4227108
08000226  0040 8024 
                     302   ; // Send Dummy Data to purge c out of read FIFO
                     303   ; SPI_Data = 0xFF;
0800022A  13FC 00FF  304          move.b    #255,4227108
0800022E  0040 8024 
                     305   ; // wait for completion of transmission
                     306   ; WaitForSPITransmitComplete();
08000232  4EB9 0800  307          jsr       _WaitForSPITransmitComplete
08000236  0118      
                     308   ; // store data from read FIFO into temporary variable
                     309   ; read_byte = SPI_Data;
08000238  1439 0040  310          move.b    4227108,D2
0800023C  8024      
                     311   ; //  Disable Chip Select
                     312   ; SPI_CS = Disable_SPI_CS();
0800023E  13FC 00FF  313          move.b    #255,4227112
08000242  0040 8028 
08000246  13FC 00FF  314          move.b    #255,4227112
0800024A  0040 8028 
                     315   ; printf("\r\nRead back Data (as int) = %d", read_byte);
0800024E  4882       316          ext.w     D2
08000250  48C2       317          ext.l     D2
08000252  2F02       318          move.l    D2,-(A7)
08000254  4879 0800  319          pea       @m68kus~1_5.L
08000258  1762      
0800025A  4EB9 0800  320          jsr       _printf
0800025E  0B50      
08000260  504F       321          addq.w    #8,A7
                     322   ; printf("\r\nRead back Data (as char) = %c", read_byte);
08000262  4882       323          ext.w     D2
08000264  48C2       324          ext.l     D2
08000266  2F02       325          move.l    D2,-(A7)
08000268  4879 0800  326          pea       @m68kus~1_6.L
0800026C  1782      
0800026E  4EB9 0800  327          jsr       _printf
08000272  0B50      
08000274  504F       328          addq.w    #8,A7
                     329   ; return read_byte;
08000276  1002       330          move.b    D2,D0
08000278  241F       331          move.l    (A7)+,D2
0800027A  4E75       332          rts
                     333   ; // return the received data from Flash chip 
                     334   ; }
                     335   ; /******************************************************************************************************************************
                     336   ; * Start of user program
                     337   ; ******************************************************************************************************************************/
                     338   ; void main()
                     339   ; {
                     340   _main:
0800027C  4E56 FFFC  341          link      A6,#-4
                     342   ; int test_byte;
                     343   ; scanflush() ;                       // flush any text that may have been typed ahead
08000280  4EB9 0800  344          jsr       _scanflush
08000284  0544      
                     345   ; printf("\r\nHello CPEN 412 Student\r\n") ;
08000286  4879 0800  346          pea       @m68kus~1_7.L
0800028A  17A2      
0800028C  4EB9 0800  347          jsr       _printf
08000290  0B50      
08000292  584F       348          addq.w    #4,A7
                     349   ; SPI_Init();
08000294  4EB9 0800  350          jsr       _SPI_Init
08000298  00F0      
                     351   ; WriteSPIChar('k');
0800029A  4878 006B  352          pea       107
0800029E  4EB9 0800  353          jsr       _WriteSPIChar
080002A2  0152      
080002A4  584F       354          addq.w    #4,A7
                     355   ; test_byte = ReadSPIChar();
080002A6  4EB9 0800  356          jsr       _ReadSPIChar
080002AA  01FC      
080002AC  C0BC 0000  357          and.l     #255,D0
080002B0  00FF      
080002B2  2D40 FFFC  358          move.l    D0,-4(A6)
                     359   ; while(1);
                     360   main_1:
080002B6  60FE       361          bra       main_1
                     362   ; // programs should NOT exit as there is nothing to Exit TO !!!!!!
                     363   ; // There is no OS - just press the reset button to end program and call debug
                     364   ; }
                     365   @vsscanf_scanread:
080002B8  4E56 FFFC  366          link      A6,#-4
080002BC  48E7 0020  367          movem.l   A2,-(A7)
080002C0  45F9 0800  368          lea       @vsscanf_bufx,A2
080002C4  17CA      
080002C6  4AAE 0008  369          tst.l     8(A6)
080002CA  6722       370          beq.s     @vsscanf_scanread_1
080002CC  206E 0008  371          move.l    8(A6),A0
080002D0  58AE 0008  372          addq.l    #4,8(A6)
080002D4  2050       373          move.l    (A0),A0
080002D6  1010       374          move.b    (A0),D0
080002D8  4880       375          ext.w     D0
080002DA  48C0       376          ext.l     D0
080002DC  2D40 FFFC  377          move.l    D0,-4(A6)
080002E0  6706       378          beq.s     @vsscanf_scanread_3
080002E2  202E FFFC  379          move.l    -4(A6),D0
080002E6  6002       380          bra.s     @vsscanf_scanread_4
                     381   @vsscanf_scanread_3:
080002E8  70FF       382          moveq     #-1,D0
                     383   @vsscanf_scanread_4:
080002EA  6000 0032  384          bra       @vsscanf_scanread_5
                     385   @vsscanf_scanread_1:
080002EE  2052       386          move.l    (A2),A0
080002F0  1010       387          move.b    (A0),D0
080002F2  6620       388          bne.s     @vsscanf_scanread_6
080002F4  4879 0800  389          pea       @vsscanf_buf
080002F8  18DE      
080002FA  6100 0926  390          bsr       _gets
080002FE  584F       391          addq.w    #4,A7
08000300  2480       392          move.l    D0,(A2)
08000302  4879 0800  393          pea       @vsscanf_1
08000306  17CE      
08000308  4879 0800  394          pea       @vsscanf_buf
0800030C  18DE      
0800030E  6100 09B2  395          bsr       _strcat
08000312  504F       396          addq.w    #8,A7
                     397   @vsscanf_scanread_6:
08000314  2052       398          move.l    (A2),A0
08000316  5292       399          addq.l    #1,(A2)
08000318  1010       400          move.b    (A0),D0
0800031A  4880       401          ext.w     D0
0800031C  48C0       402          ext.l     D0
                     403   @vsscanf_scanread_5:
0800031E  4CDF 0400  404          movem.l   (A7)+,A2
08000322  4E5E       405          unlk      A6
08000324  4E75       406          rts
                     407   @vsscanf_scanputback:
08000326  4E56 0000  408          link      A6,#0
0800032A  48E7 3000  409          movem.l   D2/D3,-(A7)
0800032E  242E 000C  410          move.l    12(A6),D2
08000332  262E 0008  411          move.l    8(A6),D3
08000336  6718       412          beq.s     @vsscanf_scanputback_1
08000338  0C82 FFFF  413          cmp.l     #-1,D2
0800033C  FFFF      
0800033E  670A       414          beq.s     @vsscanf_scanputback_3
08000340  5983       415          subq.l    #4,D3
08000342  2043       416          move.l    D3,A0
08000344  2050       417          move.l    (A0),A0
08000346  1082       418          move.b    D2,(A0)
08000348  6004       419          bra.s     @vsscanf_scanputback_4
                     420   @vsscanf_scanputback_3:
0800034A  2043       421          move.l    D3,A0
0800034C  5390       422          subq.l    #1,(A0)
                     423   @vsscanf_scanputback_4:
0800034E  602E       424          bra.s     @vsscanf_scanputback_6
                     425   @vsscanf_scanputback_1:
08000350  41F9 0800  426          lea       @vsscanf_buf,A0
08000354  18DE      
08000356  2008       427          move.l    A0,D0
08000358  B0B9 0800  428          cmp.l     @vsscanf_bufx,D0
0800035C  17CA      
0800035E  6610       429          bne.s     @vsscanf_scanputback_5
08000360  4239 0800  430          clr.b     @vsscanf_buf
08000364  18DE      
08000366  2F02       431          move.l    D2,-(A7)
08000368  6100 099A  432          bsr       _ungetch
0800036C  584F       433          addq.w    #4,A7
0800036E  600E       434          bra.s     @vsscanf_scanputback_6
                     435   @vsscanf_scanputback_5:
08000370  53B9 0800  436          subq.l    #1,@vsscanf_bufx
08000374  17CA      
08000376  2079 0800  437          move.l    @vsscanf_bufx,A0
0800037A  17CA      
0800037C  1082       438          move.b    D2,(A0)
                     439   @vsscanf_scanputback_6:
0800037E  2002       440          move.l    D2,D0
08000380  4CDF 000C  441          movem.l   (A7)+,D2/D3
08000384  4E5E       442          unlk      A6
08000386  4E75       443          rts
                     444   @vsscanf_scanspace:
08000388  4E56 0000  445          link      A6,#0
0800038C  48E7 2000  446          movem.l   D2,-(A7)
                     447   @vsscanf_scanspace_1:
08000390  2F2E 0008  448          move.l    8(A6),-(A7)
08000394  6100 FF22  449          bsr       @vsscanf_scanread
08000398  584F       450          addq.w    #4,A7
0800039A  2400       451          move.l    D0,D2
0800039C  206E 000C  452          move.l    12(A6),A0
080003A0  5290       453          addq.l    #1,(A0)
080003A2  2042       454          move.l    D2,A0
080003A4  43F9 0800  455          lea       __ctype,A1
080003A8  17D0      
080003AA  1030 9801  456          move.b    1(A0,A1.L),D0
080003AE  C03C 0010  457          and.b     #16,D0
080003B2  66DC       458          bne       @vsscanf_scanspace_1
080003B4  2002       459          move.l    D2,D0
080003B6  4CDF 0004  460          movem.l   (A7)+,D2
080003BA  4E5E       461          unlk      A6
080003BC  4E75       462          rts
                     463   @vsscanf_scanselect:
080003BE  4E56 0000  464          link      A6,#0
080003C2  48E7 3F20  465          movem.l   D2/D3/D4/D5/D6/D7/A2,-(A7)
080003C6  262E 000C  466          move.l    12(A6),D3
080003CA  2C2E 0018  467          move.l    24(A6),D6
080003CE  2E2E 0014  468          move.l    20(A6),D7
080003D2  2043       469          move.l    D3,A0
080003D4  1010       470          move.b    (A0),D0
080003D6  4880       471          ext.w     D0
080003D8  48C0       472          ext.l     D0
080003DA  0C80 0000  473          cmp.l     #94,D0
080003DE  005E      
080003E0  6608       474          bne.s     @vsscanf_scanselect_1
080003E2  347C 0001  475          move.w    #1,A2
080003E6  5283       476          addq.l    #1,D3
080003E8  6004       477          bra.s     @vsscanf_scanselect_2
                     478   @vsscanf_scanselect_1:
080003EA  347C 0000  479          move.w    #0,A2
                     480   @vsscanf_scanselect_2:
080003EE  202E 0010  481          move.l    16(A6),D0
080003F2  53AE 0010  482          subq.l    #1,16(A6)
080003F6  4A80       483          tst.l     D0
080003F8  6700 0108  484          beq       @vsscanf_scanselect_5
080003FC  2F2E 0008  485          move.l    8(A6),-(A7)
08000400  6100 FEB6  486          bsr       @vsscanf_scanread
08000404  584F       487          addq.w    #4,A7
08000406  2800       488          move.l    D0,D4
08000408  0C84 FFFF  489          cmp.l     #-1,D4
0800040C  FFFF      
0800040E  6604       490          bne.s     @vsscanf_scanselect_6
08000410  6000 00F0  491          bra       @vsscanf_scanselect_5
                     492   @vsscanf_scanselect_6:
08000414  206E 001C  493          move.l    28(A6),A0
08000418  5290       494          addq.l    #1,(A0)
0800041A  4285       495          clr.l     D5
0800041C  4282       496          clr.l     D2
                     497   @vsscanf_scanselect_8:
0800041E  2043       498          move.l    D3,A0
08000420  1030 2800  499          move.b    0(A0,D2.L),D0
08000424  4880       500          ext.w     D0
08000426  48C0       501          ext.l     D0
08000428  0C80 0000  502          cmp.l     #93,D0
0800042C  005D      
0800042E  6700 008E  503          beq       @vsscanf_scanselect_10
08000432  4A82       504          tst.l     D2
08000434  6716       505          beq.s     @vsscanf_scanselect_11
08000436  2043       506          move.l    D3,A0
08000438  1030 2800  507          move.b    0(A0,D2.L),D0
0800043C  4880       508          ext.w     D0
0800043E  48C0       509          ext.l     D0
08000440  0C80 0000  510          cmp.l     #93,D0
08000444  005D      
08000446  6604       511          bne.s     @vsscanf_scanselect_11
08000448  6000 0074  512          bra       @vsscanf_scanselect_10
                     513   @vsscanf_scanselect_11:
0800044C  4A82       514          tst.l     D2
0800044E  6700 0058  515          beq       @vsscanf_scanselect_15
08000452  2043       516          move.l    D3,A0
08000454  1030 2800  517          move.b    0(A0,D2.L),D0
08000458  4880       518          ext.w     D0
0800045A  48C0       519          ext.l     D0
0800045C  0C80 0000  520          cmp.l     #45,D0
08000460  002D      
08000462  6600 0044  521          bne       @vsscanf_scanselect_15
08000466  2043       522          move.l    D3,A0
08000468  2002       523          move.l    D2,D0
0800046A  5380       524          subq.l    #1,D0
0800046C  2243       525          move.l    D3,A1
0800046E  2F08       526          move.l    A0,-(A7)
08000470  2042       527          move.l    D2,A0
08000472  1230 0800  528          move.b    0(A0,D0.L),D1
08000476  B230 9801  529          cmp.b     1(A0,A1.L),D1
0800047A  6C00 002C  530          bge       @vsscanf_scanselect_15
0800047E  205F       531          move.l    (A7)+,A0
08000480  2043       532          move.l    D3,A0
08000482  2002       533          move.l    D2,D0
08000484  5380       534          subq.l    #1,D0
08000486  1030 0800  535          move.b    0(A0,D0.L),D0
0800048A  4880       536          ext.w     D0
0800048C  48C0       537          ext.l     D0
0800048E  B880       538          cmp.l     D0,D4
08000490  6D12       539          blt.s     @vsscanf_scanselect_17
08000492  2043       540          move.l    D3,A0
08000494  2242       541          move.l    D2,A1
08000496  1031 8801  542          move.b    1(A1,A0.L),D0
0800049A  4880       543          ext.w     D0
0800049C  48C0       544          ext.l     D0
0800049E  B880       545          cmp.l     D0,D4
080004A0  6E02       546          bgt.s     @vsscanf_scanselect_17
080004A2  601A       547          bra.s     @vsscanf_scanselect_10
                     548   @vsscanf_scanselect_17:
080004A4  5282       549          addq.l    #1,D2
080004A6  6010       550          bra.s     @vsscanf_scanselect_19
                     551   @vsscanf_scanselect_15:
080004A8  2043       552          move.l    D3,A0
080004AA  1030 2800  553          move.b    0(A0,D2.L),D0
080004AE  4880       554          ext.w     D0
080004B0  48C0       555          ext.l     D0
080004B2  B880       556          cmp.l     D0,D4
080004B4  6602       557          bne.s     @vsscanf_scanselect_19
080004B6  6006       558          bra.s     @vsscanf_scanselect_10
                     559   @vsscanf_scanselect_19:
080004B8  5282       560          addq.l    #1,D2
080004BA  6000 FF62  561          bra       @vsscanf_scanselect_8
                     562   @vsscanf_scanselect_10:
080004BE  4A82       563          tst.l     D2
080004C0  6712       564          beq.s     @vsscanf_scanselect_23
080004C2  2043       565          move.l    D3,A0
080004C4  1030 2800  566          move.b    0(A0,D2.L),D0
080004C8  4880       567          ext.w     D0
080004CA  48C0       568          ext.l     D0
080004CC  0C80 0000  569          cmp.l     #93,D0
080004D0  005D      
080004D2  6702       570          beq.s     @vsscanf_scanselect_21
                     571   @vsscanf_scanselect_23:
080004D4  7A01       572          moveq     #1,D5
                     573   @vsscanf_scanselect_21:
080004D6  200A       574          move.l    A2,D0
080004D8  6712       575          beq.s     @vsscanf_scanselect_24
080004DA  4A85       576          tst.l     D5
080004DC  660C       577          bne.s     @vsscanf_scanselect_26
080004DE  4A87       578          tst.l     D7
080004E0  6606       579          bne.s     @vsscanf_scanselect_28
080004E2  2046       580          move.l    D6,A0
080004E4  5286       581          addq.l    #1,D6
080004E6  1084       582          move.b    D4,(A0)
                     583   @vsscanf_scanselect_28:
080004E8  6014       584          bra.s     @vsscanf_scanselect_4
                     585   @vsscanf_scanselect_26:
080004EA  6016       586          bra.s     @vsscanf_scanselect_5
                     587   @vsscanf_scanselect_24:
080004EC  4A85       588          tst.l     D5
080004EE  670C       589          beq.s     @vsscanf_scanselect_30
080004F0  4A87       590          tst.l     D7
080004F2  6606       591          bne.s     @vsscanf_scanselect_32
080004F4  2046       592          move.l    D6,A0
080004F6  5286       593          addq.l    #1,D6
080004F8  1084       594          move.b    D4,(A0)
                     595   @vsscanf_scanselect_32:
080004FA  6002       596          bra.s     @vsscanf_scanselect_4
                     597   @vsscanf_scanselect_30:
080004FC  6004       598          bra.s     @vsscanf_scanselect_5
                     599   @vsscanf_scanselect_4:
080004FE  6000 FEEE  600          bra       @vsscanf_scanselect_2
                     601   @vsscanf_scanselect_5:
08000502  0C84 FFFF  602          cmp.l     #-1,D4
08000506  FFFF      
08000508  6712       603          beq.s     @vsscanf_scanselect_34
0800050A  2F04       604          move.l    D4,-(A7)
0800050C  2F2E 0008  605          move.l    8(A6),-(A7)
08000510  6100 FE14  606          bsr       @vsscanf_scanputback
08000514  504F       607          addq.w    #8,A7
08000516  206E 001C  608          move.l    28(A6),A0
0800051A  5390       609          subq.l    #1,(A0)
                     610   @vsscanf_scanselect_34:
0800051C  4A87       611          tst.l     D7
0800051E  6604       612          bne.s     @vsscanf_scanselect_36
08000520  2046       613          move.l    D6,A0
08000522  4210       614          clr.b     (A0)
                     615   @vsscanf_scanselect_36:
08000524  5283       616          addq.l    #1,D3
08000526  2043       617          move.l    D3,A0
08000528  1010       618          move.b    (A0),D0
0800052A  4880       619          ext.w     D0
0800052C  48C0       620          ext.l     D0
0800052E  0C80 0000  621          cmp.l     #93,D0
08000532  005D      
08000534  6702       622          beq.s     @vsscanf_scanselect_40
08000536  60EC       623          bra       @vsscanf_scanselect_36
                     624   @vsscanf_scanselect_40:
08000538  5283       625          addq.l    #1,D3
0800053A  2003       626          move.l    D3,D0
0800053C  4CDF 04FC  627          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2
08000540  4E5E       628          unlk      A6
08000542  4E75       629          rts
                     630   _scanflush:
08000544  41F9 0800  631          lea       @vsscanf_buf,A0
08000548  18DE      
0800054A  23C8 0800  632          move.l    A0,@vsscanf_bufx
0800054E  17CA      
08000550  4239 0800  633          clr.b     @vsscanf_buf
08000554  18DE      
08000556  4878 FFFF  634          pea       -1
0800055A  6100 07A8  635          bsr       _ungetch
0800055E  584F       636          addq.w    #4,A7
08000560  4E75       637          rts
                     638   _vsscanf:
08000562  4E56 FF88  639          link      A6,#-120
08000566  48E7 3F3C  640          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
0800056A  47F9 0800  641          lea       @vsscanf_scanread,A3
0800056E  02B8      
08000570  4AAE 0008  642          tst.l     8(A6)
08000574  6706       643          beq.s     vsscanf_1
08000576  41EE 0008  644          lea       8(A6),A0
0800057A  6004       645          bra.s     vsscanf_2
                     646   vsscanf_1:
0800057C  4280       647          clr.l     D0
0800057E  2040       648          move.l    D0,A0
                     649   vsscanf_2:
08000580  2A08       650          move.l    A0,D5
08000582  42AE FFE4  651          clr.l     -28(A6)
08000586  4284       652          clr.l     D4
                     653   vsscanf_3:
08000588  206E 000C  654          move.l    12(A6),A0
0800058C  52AE 000C  655          addq.l    #1,12(A6)
08000590  1010       656          move.b    (A0),D0
08000592  4880       657          ext.w     D0
08000594  48C0       658          ext.l     D0
08000596  2600       659          move.l    D0,D3
08000598  6700 05AC  660          beq       vsscanf_5
0800059C  4286       661          clr.l     D6
0800059E  387C 0000  662          move.w    #0,A4
080005A2  0C83 0000  663          cmp.l     #32,D3
080005A6  0020      
080005A8  6712       664          beq.s     vsscanf_8
080005AA  0C83 0000  665          cmp.l     #9,D3
080005AE  0009      
080005B0  670A       666          beq.s     vsscanf_8
080005B2  0C83 0000  667          cmp.l     #10,D3
080005B6  000A      
080005B8  6600 0048  668          bne       vsscanf_6
                     669   vsscanf_8:
080005BC  2F05       670          move.l    D5,-(A7)
080005BE  4E93       671          jsr       (A3)
080005C0  584F       672          addq.w    #4,A7
080005C2  2400       673          move.l    D0,D2
080005C4  52AE FFE4  674          addq.l    #1,-28(A6)
080005C8  0C82 FFFF  675          cmp.l     #-1,D2
080005CC  FFFF      
080005CE  660E       676          bne.s     vsscanf_11
080005D0  4A84       677          tst.l     D4
080005D2  6704       678          beq.s     vsscanf_13
080005D4  2004       679          move.l    D4,D0
080005D6  6002       680          bra.s     vsscanf_14
                     681   vsscanf_13:
080005D8  70FF       682          moveq     #-1,D0
                     683   vsscanf_14:
080005DA  6000 056C  684          bra       vsscanf_15
                     685   vsscanf_11:
080005DE  2042       686          move.l    D2,A0
080005E0  43F9 0800  687          lea       __ctype,A1
080005E4  17D0      
080005E6  1030 9801  688          move.b    1(A0,A1.L),D0
080005EA  C03C 0010  689          and.b     #16,D0
080005EE  66CC       690          bne       vsscanf_8
080005F0  53AE FFE4  691          subq.l    #1,-28(A6)
080005F4  2F02       692          move.l    D2,-(A7)
080005F6  2F05       693          move.l    D5,-(A7)
080005F8  6100 FD2C  694          bsr       @vsscanf_scanputback
080005FC  504F       695          addq.w    #8,A7
080005FE  6000 0542  696          bra       vsscanf_139
                     697   vsscanf_6:
08000602  0C83 0000  698          cmp.l     #37,D3
08000606  0025      
08000608  6600 0502  699          bne       vsscanf_127
0800060C  206E 000C  700          move.l    12(A6),A0
08000610  52AE 000C  701          addq.l    #1,12(A6)
08000614  1010       702          move.b    (A0),D0
08000616  4880       703          ext.w     D0
08000618  48C0       704          ext.l     D0
0800061A  2600       705          move.l    D0,D3
0800061C  42AE FFEC  706          clr.l     -20(A6)
08000620  4286       707          clr.l     D6
08000622  42AE FFE8  708          clr.l     -24(A6)
08000626  347C 7FFF  709          move.w    #32767,A2
0800062A  0C83 0000  710          cmp.l     #42,D3
0800062E  002A      
08000630  6612       711          bne.s     vsscanf_18
08000632  7C01       712          moveq     #1,D6
08000634  206E 000C  713          move.l    12(A6),A0
08000638  52AE 000C  714          addq.l    #1,12(A6)
0800063C  1010       715          move.b    (A0),D0
0800063E  4880       716          ext.w     D0
08000640  48C0       717          ext.l     D0
08000642  2600       718          move.l    D0,D3
                     719   vsscanf_18:
08000644  2043       720          move.l    D3,A0
08000646  43F9 0800  721          lea       __ctype,A1
0800064A  17D0      
0800064C  1030 9801  722          move.b    1(A0,A1.L),D0
08000650  C03C 0004  723          and.b     #4,D0
08000654  6700 004E  724          beq       vsscanf_24
08000658  2003       725          move.l    D3,D0
0800065A  0480 0000  726          sub.l     #48,D0
0800065E  0030      
08000660  2440       727          move.l    D0,A2
                     728   vsscanf_22:
08000662  206E 000C  729          move.l    12(A6),A0
08000666  52AE 000C  730          addq.l    #1,12(A6)
0800066A  1010       731          move.b    (A0),D0
0800066C  4880       732          ext.w     D0
0800066E  48C0       733          ext.l     D0
08000670  2600       734          move.l    D0,D3
08000672  2040       735          move.l    D0,A0
08000674  43F9 0800  736          lea       __ctype,A1
08000678  17D0      
0800067A  1030 9801  737          move.b    1(A0,A1.L),D0
0800067E  C0BC 0000  738          and.l     #255,D0
08000682  00FF      
08000684  C0BC 0000  739          and.l     #4,D0
08000688  0004      
0800068A  6718       740          beq.s     vsscanf_24
0800068C  70D0       741          moveq     #-48,D0
0800068E  2F0A       742          move.l    A2,-(A7)
08000690  4878 000A  743          pea       10
08000694  6100 04FE  744          bsr       LMUL
08000698  2217       745          move.l    (A7),D1
0800069A  504F       746          addq.w    #8,A7
0800069C  D283       747          add.l     D3,D1
0800069E  D081       748          add.l     D1,D0
080006A0  2440       749          move.l    D0,A2
080006A2  60BE       750          bra       vsscanf_22
                     751   vsscanf_24:
080006A4  0C83 0000  752          cmp.l     #108,D3
080006A8  006C      
080006AA  6708       753          beq.s     vsscanf_27
080006AC  0C83 0000  754          cmp.l     #76,D3
080006B0  004C      
080006B2  661A       755          bne.s     vsscanf_25
                     756   vsscanf_27:
080006B4  2D7C 0000  757          move.l    #1,-24(A6)
080006B8  0001 FFE8 
080006BC  206E 000C  758          move.l    12(A6),A0
080006C0  52AE 000C  759          addq.l    #1,12(A6)
080006C4  1010       760          move.b    (A0),D0
080006C6  4880       761          ext.w     D0
080006C8  48C0       762          ext.l     D0
080006CA  2600       763          move.l    D0,D3
080006CC  6020       764          bra.s     vsscanf_28
                     765   vsscanf_25:
080006CE  0C83 0000  766          cmp.l     #104,D3
080006D2  0068      
080006D4  6618       767          bne.s     vsscanf_28
080006D6  2D7C 0000  768          move.l    #1,-20(A6)
080006DA  0001 FFEC 
080006DE  206E 000C  769          move.l    12(A6),A0
080006E2  52AE 000C  770          addq.l    #1,12(A6)
080006E6  1010       771          move.b    (A0),D0
080006E8  4880       772          ext.w     D0
080006EA  48C0       773          ext.l     D0
080006EC  2600       774          move.l    D0,D3
                     775   vsscanf_28:
080006EE  0C83 0000  776          cmp.l     #91,D3
080006F2  005B      
080006F4  6600 0036  777          bne       vsscanf_30
080006F8  4A86       778          tst.l     D6
080006FA  660A       779          bne.s     vsscanf_32
080006FC  206E 0010  780          move.l    16(A6),A0
08000700  58AE 0010  781          addq.l    #4,16(A6)
08000704  2E10       782          move.l    (A0),D7
                     783   vsscanf_32:
08000706  486E FFE4  784          pea       -28(A6)
0800070A  2F07       785          move.l    D7,-(A7)
0800070C  2F06       786          move.l    D6,-(A7)
0800070E  2F0A       787          move.l    A2,-(A7)
08000710  2F2E 000C  788          move.l    12(A6),-(A7)
08000714  2F05       789          move.l    D5,-(A7)
08000716  6100 FCA6  790          bsr       @vsscanf_scanselect
0800071A  DEFC 0018  791          add.w     #24,A7
0800071E  2D40 000C  792          move.l    D0,12(A6)
08000722  4A86       793          tst.l     D6
08000724  6602       794          bne.s     vsscanf_34
08000726  5284       795          addq.l    #1,D4
                     796   vsscanf_34:
08000728  6000 0418  797          bra       vsscanf_139
                     798   vsscanf_30:
0800072C  0C83 0000  799          cmp.l     #110,D3
08000730  006E      
08000732  661A       800          bne.s     vsscanf_36
08000734  4A86       801          tst.l     D6
08000736  6612       802          bne.s     vsscanf_38
08000738  206E 0010  803          move.l    16(A6),A0
0800073C  58AE 0010  804          addq.l    #4,16(A6)
08000740  2E10       805          move.l    (A0),D7
08000742  2047       806          move.l    D7,A0
08000744  20AE FFE4  807          move.l    -28(A6),(A0)
08000748  5284       808          addq.l    #1,D4
                     809   vsscanf_38:
0800074A  6000 03F6  810          bra       vsscanf_139
                     811   vsscanf_36:
0800074E  0C83 0000  812          cmp.l     #115,D3
08000752  0073      
08000754  6600 00AC  813          bne       vsscanf_40
08000758  486E FFE4  814          pea       -28(A6)
0800075C  2F05       815          move.l    D5,-(A7)
0800075E  6100 FC28  816          bsr       @vsscanf_scanspace
08000762  504F       817          addq.w    #8,A7
08000764  2400       818          move.l    D0,D2
08000766  4A86       819          tst.l     D6
08000768  660A       820          bne.s     vsscanf_42
0800076A  206E 0010  821          move.l    16(A6),A0
0800076E  58AE 0010  822          addq.l    #4,16(A6)
08000772  2E10       823          move.l    (A0),D7
                     824   vsscanf_42:
08000774  52AE FFE4  825          addq.l    #1,-28(A6)
                     826   vsscanf_44:
08000778  200A       827          move.l    A2,D0
0800077A  534A       828          subq.w    #1,A2
0800077C  4A80       829          tst.l     D0
0800077E  6700 0038  830          beq       vsscanf_46
08000782  2042       831          move.l    D2,A0
08000784  43F9 0800  832          lea       __ctype,A1
08000788  17D0      
0800078A  1030 9801  833          move.b    1(A0,A1.L),D0
0800078E  C03C 0010  834          and.b     #16,D0
08000792  6624       835          bne.s     vsscanf_46
08000794  0C82 FFFF  836          cmp.l     #-1,D2
08000798  FFFF      
0800079A  671C       837          beq.s     vsscanf_46
0800079C  387C 0001  838          move.w    #1,A4
080007A0  4A86       839          tst.l     D6
080007A2  6606       840          bne.s     vsscanf_47
080007A4  2047       841          move.l    D7,A0
080007A6  5287       842          addq.l    #1,D7
080007A8  1082       843          move.b    D2,(A0)
                     844   vsscanf_47:
080007AA  2F05       845          move.l    D5,-(A7)
080007AC  4E93       846          jsr       (A3)
080007AE  584F       847          addq.w    #4,A7
080007B0  2400       848          move.l    D0,D2
080007B2  52AE FFE4  849          addq.l    #1,-28(A6)
080007B6  60C0       850          bra       vsscanf_44
                     851   vsscanf_46:
080007B8  4A86       852          tst.l     D6
080007BA  660A       853          bne.s     vsscanf_51
080007BC  2047       854          move.l    D7,A0
080007BE  4210       855          clr.b     (A0)
080007C0  200C       856          move.l    A4,D0
080007C2  6702       857          beq.s     vsscanf_51
080007C4  5284       858          addq.l    #1,D4
                     859   vsscanf_51:
080007C6  0C82 FFFF  860          cmp.l     #-1,D2
080007CA  FFFF      
080007CC  6708       861          beq.s     vsscanf_55
080007CE  4A86       862          tst.l     D6
080007D0  661E       863          bne.s     vsscanf_53
080007D2  200C       864          move.l    A4,D0
080007D4  661A       865          bne.s     vsscanf_53
                     866   vsscanf_55:
080007D6  4A84       867          tst.l     D4
080007D8  6704       868          beq.s     vsscanf_56
080007DA  2004       869          move.l    D4,D0
080007DC  600E       870          bra.s     vsscanf_59
                     871   vsscanf_56:
080007DE  0C82 FFFF  872          cmp.l     #-1,D2
080007E2  FFFF      
080007E4  6604       873          bne.s     vsscanf_58
080007E6  70FF       874          moveq     #-1,D0
080007E8  6002       875          bra.s     vsscanf_59
                     876   vsscanf_58:
080007EA  2004       877          move.l    D4,D0
                     878   vsscanf_59:
080007EC  6000 035A  879          bra       vsscanf_15
                     880   vsscanf_53:
080007F0  53AE FFE4  881          subq.l    #1,-28(A6)
080007F4  2F02       882          move.l    D2,-(A7)
080007F6  2F05       883          move.l    D5,-(A7)
080007F8  6100 FB2C  884          bsr       @vsscanf_scanputback
080007FC  504F       885          addq.w    #8,A7
080007FE  6000 0342  886          bra       vsscanf_139
                     887   vsscanf_40:
08000802  0C83 0000  888          cmp.l     #99,D3
08000806  0063      
08000808  6600 008E  889          bne       vsscanf_60
0800080C  4A86       890          tst.l     D6
0800080E  660A       891          bne.s     vsscanf_62
08000810  206E 0010  892          move.l    16(A6),A0
08000814  58AE 0010  893          addq.l    #4,16(A6)
08000818  2E10       894          move.l    (A0),D7
                     895   vsscanf_62:
0800081A  2F05       896          move.l    D5,-(A7)
0800081C  4E93       897          jsr       (A3)
0800081E  584F       898          addq.w    #4,A7
08000820  2400       899          move.l    D0,D2
08000822  52AE FFE4  900          addq.l    #1,-28(A6)
08000826  200A       901          move.l    A2,D0
08000828  0C80 0000  902          cmp.l     #32767,D0
0800082C  7FFF      
0800082E  6604       903          bne.s     vsscanf_64
08000830  347C 0001  904          move.w    #1,A2
                     905   vsscanf_64:
08000834  0C82 FFFF  906          cmp.l     #-1,D2
08000838  FFFF      
0800083A  6606       907          bne.s     vsscanf_66
0800083C  4A86       908          tst.l     D6
0800083E  6602       909          bne.s     vsscanf_66
08000840  5384       910          subq.l    #1,D4
                     911   vsscanf_66:
08000842  200A       912          move.l    A2,D0
08000844  534A       913          subq.w    #1,A2
08000846  4A80       914          tst.l     D0
08000848  6720       915          beq.s     vsscanf_70
0800084A  0C82 FFFF  916          cmp.l     #-1,D2
0800084E  FFFF      
08000850  6718       917          beq.s     vsscanf_70
08000852  4A86       918          tst.l     D6
08000854  6606       919          bne.s     vsscanf_71
08000856  2047       920          move.l    D7,A0
08000858  5287       921          addq.l    #1,D7
0800085A  1082       922          move.b    D2,(A0)
                     923   vsscanf_71:
0800085C  2F05       924          move.l    D5,-(A7)
0800085E  4E93       925          jsr       (A3)
08000860  584F       926          addq.w    #4,A7
08000862  2400       927          move.l    D0,D2
08000864  52AE FFE4  928          addq.l    #1,-28(A6)
08000868  60D8       929          bra       vsscanf_66
                     930   vsscanf_70:
0800086A  0C82 FFFF  931          cmp.l     #-1,D2
0800086E  FFFF      
08000870  660E       932          bne.s     vsscanf_73
08000872  4A84       933          tst.l     D4
08000874  6704       934          beq.s     vsscanf_75
08000876  2004       935          move.l    D4,D0
08000878  6002       936          bra.s     vsscanf_76
                     937   vsscanf_75:
0800087A  70FF       938          moveq     #-1,D0
                     939   vsscanf_76:
0800087C  6000 02CA  940          bra       vsscanf_15
                     941   vsscanf_73:
08000880  4A86       942          tst.l     D6
08000882  6602       943          bne.s     vsscanf_77
08000884  5284       944          addq.l    #1,D4
                     945   vsscanf_77:
08000886  53AE FFE4  946          subq.l    #1,-28(A6)
0800088A  2F02       947          move.l    D2,-(A7)
0800088C  2F05       948          move.l    D5,-(A7)
0800088E  6100 FA96  949          bsr       @vsscanf_scanputback
08000892  504F       950          addq.w    #8,A7
08000894  6000 02AC  951          bra       vsscanf_139
                     952   vsscanf_60:
08000898  0C83 0000  953          cmp.l     #105,D3
0800089C  0069      
0800089E  6600 0060  954          bne       vsscanf_82
080008A2  486E FFE4  955          pea       -28(A6)
080008A6  2F05       956          move.l    D5,-(A7)
080008A8  6100 FADE  957          bsr       @vsscanf_scanspace
080008AC  504F       958          addq.w    #8,A7
080008AE  2400       959          move.l    D0,D2
080008B0  0C82 0000  960          cmp.l     #48,D2
080008B4  0030      
080008B6  6600 0038  961          bne       vsscanf_81
080008BA  387C 0001  962          move.w    #1,A4
080008BE  2F05       963          move.l    D5,-(A7)
080008C0  4E93       964          jsr       (A3)
080008C2  584F       965          addq.w    #4,A7
080008C4  2400       966          move.l    D0,D2
080008C6  2F02       967          move.l    D2,-(A7)
080008C8  6100 03CC  968          bsr       _tolower
080008CC  584F       969          addq.w    #4,A7
080008CE  0C80 0000  970          cmp.l     #120,D0
080008D2  0078      
080008D4  6604       971          bne.s     vsscanf_83
080008D6  7678       972          moveq     #120,D3
080008D8  6010       973          bra.s     vsscanf_84
                     974   vsscanf_83:
080008DA  53AE FFE4  975          subq.l    #1,-28(A6)
080008DE  2F02       976          move.l    D2,-(A7)
080008E0  2F05       977          move.l    D5,-(A7)
080008E2  6100 FA42  978          bsr       @vsscanf_scanputback
080008E6  504F       979          addq.w    #8,A7
080008E8  766F       980          moveq     #111,D3
                     981   vsscanf_84:
080008EA  52AE FFE4  982          addq.l    #1,-28(A6)
080008EE  6010       983          bra.s     vsscanf_82
                     984   vsscanf_81:
080008F0  53AE FFE4  985          subq.l    #1,-28(A6)
080008F4  2F02       986          move.l    D2,-(A7)
080008F6  2F05       987          move.l    D5,-(A7)
080008F8  6100 FA2C  988          bsr       @vsscanf_scanputback
080008FC  504F       989          addq.w    #8,A7
080008FE  7664       990          moveq     #100,D3
                     991   vsscanf_82:
08000900  0C83 0000  992          cmp.l     #100,D3
08000904  0064      
08000906  671A       993          beq.s     vsscanf_87
08000908  0C83 0000  994          cmp.l     #117,D3
0800090C  0075      
0800090E  6712       995          beq.s     vsscanf_87
08000910  0C83 0000  996          cmp.l     #120,D3
08000914  0078      
08000916  670A       997          beq.s     vsscanf_87
08000918  0C83 0000  998          cmp.l     #111,D3
0800091C  006F      
0800091E  6600 01A4  999          bne       vsscanf_85
                    1000   vsscanf_87:
08000922  486E FFE4 1001          pea       -28(A6)
08000926  2F05      1002          move.l    D5,-(A7)
08000928  6100 FA5E 1003          bsr       @vsscanf_scanspace
0800092C  504F      1004          addq.w    #8,A7
0800092E  2400      1005          move.l    D0,D2
08000930  2D7C 0000 1006          move.l    #10,-4(A6)
08000934  000A FFFC 
08000938  0C83 0000 1007          cmp.l     #120,D3
0800093C  0078      
0800093E  6608      1008          bne.s     vsscanf_88
08000940  2D7C 0000 1009          move.l    #16,-4(A6)
08000944  0010 FFFC 
                    1010   vsscanf_88:
08000948  0C83 0000 1011          cmp.l     #111,D3
0800094C  006F      
0800094E  6608      1012          bne.s     vsscanf_90
08000950  2D7C 0000 1013          move.l    #8,-4(A6)
08000954  0008 FFFC 
                    1014   vsscanf_90:
08000958  4A86      1015          tst.l     D6
0800095A  660A      1016          bne.s     vsscanf_92
0800095C  206E 0010 1017          move.l    16(A6),A0
08000960  58AE 0010 1018          addq.l    #4,16(A6)
08000964  2E10      1019          move.l    (A0),D7
                    1020   vsscanf_92:
08000966  42AE FFE0 1021          clr.l     -32(A6)
0800096A  52AE FFE4 1022          addq.l    #1,-28(A6)
0800096E  0C83 0000 1023          cmp.l     #117,D3
08000972  0075      
08000974  6720      1024          beq.s     vsscanf_94
08000976  0C82 0000 1025          cmp.l     #45,D2
0800097A  002D      
0800097C  6618      1026          bne.s     vsscanf_94
0800097E  2F05      1027          move.l    D5,-(A7)
08000980  4E93      1028          jsr       (A3)
08000982  584F      1029          addq.w    #4,A7
08000984  2400      1030          move.l    D0,D2
08000986  52AE FFE4 1031          addq.l    #1,-28(A6)
0800098A  2D7C 0000 1032          move.l    #1,-32(A6)
0800098E  0001 FFE0 
08000992  387C 0001 1033          move.w    #1,A4
                    1034   vsscanf_94:
08000996  3A7C 0000 1035          move.w    #0,A5
0800099A  0C82 FFFF 1036          cmp.l     #-1,D2
0800099E  FFFF      
080009A0  660E      1037          bne.s     vsscanf_96
080009A2  4A84      1038          tst.l     D4
080009A4  6704      1039          beq.s     vsscanf_98
080009A6  2004      1040          move.l    D4,D0
080009A8  6002      1041          bra.s     vsscanf_99
                    1042   vsscanf_98:
080009AA  70FF      1043          moveq     #-1,D0
                    1044   vsscanf_99:
080009AC  6000 019A 1045          bra       vsscanf_15
                    1046   vsscanf_96:
080009B0  200A      1047          move.l    A2,D0
080009B2  534A      1048          subq.w    #1,A2
080009B4  4A80      1049          tst.l     D0
080009B6  6700 0090 1050          beq       vsscanf_102
080009BA  0C83 0000 1051          cmp.l     #120,D3
080009BE  0078      
080009C0  6620      1052          bne.s     vsscanf_104
080009C2  2F02      1053          move.l    D2,-(A7)
080009C4  6100 0312 1054          bsr       _toupper
080009C8  584F      1055          addq.w    #4,A7
080009CA  0C80 0000 1056          cmp.l     #65,D0
080009CE  0041      
080009D0  6D10      1057          blt.s     vsscanf_104
080009D2  2F02      1058          move.l    D2,-(A7)
080009D4  6100 0302 1059          bsr       _toupper
080009D8  584F      1060          addq.w    #4,A7
080009DA  0C80 0000 1061          cmp.l     #70,D0
080009DE  0046      
080009E0  6F14      1062          ble.s     vsscanf_103
                    1063   vsscanf_104:
080009E2  2042      1064          move.l    D2,A0
080009E4  43F9 0800 1065          lea       __ctype,A1
080009E8  17D0      
080009EA  1030 9801 1066          move.b    1(A0,A1.L),D0
080009EE  C03C 0004 1067          and.b     #4,D0
080009F2  6700 0054 1068          beq       vsscanf_102
                    1069   vsscanf_103:
080009F6  2042      1070          move.l    D2,A0
080009F8  43F9 0800 1071          lea       __ctype,A1
080009FC  17D0      
080009FE  1030 9801 1072          move.b    1(A0,A1.L),D0
08000A02  C03C 0004 1073          and.b     #4,D0
08000A06  6614      1074          bne.s     vsscanf_105
08000A08  70F9      1075          moveq     #-7,D0
08000A0A  2F00      1076          move.l    D0,-(A7)
08000A0C  2F02      1077          move.l    D2,-(A7)
08000A0E  6100 02C8 1078          bsr       _toupper
08000A12  584F      1079          addq.w    #4,A7
08000A14  2200      1080          move.l    D0,D1
08000A16  201F      1081          move.l    (A7)+,D0
08000A18  D081      1082          add.l     D1,D0
08000A1A  2400      1083          move.l    D0,D2
                    1084   vsscanf_105:
08000A1C  2F0D      1085          move.l    A5,-(A7)
08000A1E  2F2E FFFC 1086          move.l    -4(A6),-(A7)
08000A22  6100 0170 1087          bsr       LMUL
08000A26  2017      1088          move.l    (A7),D0
08000A28  504F      1089          addq.w    #8,A7
08000A2A  D082      1090          add.l     D2,D0
08000A2C  0480 0000 1091          sub.l     #48,D0
08000A30  0030      
08000A32  2A40      1092          move.l    D0,A5
08000A34  2F05      1093          move.l    D5,-(A7)
08000A36  4E93      1094          jsr       (A3)
08000A38  584F      1095          addq.w    #4,A7
08000A3A  2400      1096          move.l    D0,D2
08000A3C  52AE FFE4 1097          addq.l    #1,-28(A6)
08000A40  387C 0001 1098          move.w    #1,A4
08000A44  6000 FF6A 1099          bra       vsscanf_96
                    1100   vsscanf_102:
08000A48  0C82 FFFF 1101          cmp.l     #-1,D2
08000A4C  FFFF      
08000A4E  671A      1102          beq.s     vsscanf_107
08000A50  2F02      1103          move.l    D2,-(A7)
08000A52  2F05      1104          move.l    D5,-(A7)
08000A54  6100 F8D0 1105          bsr       @vsscanf_scanputback
08000A58  504F      1106          addq.w    #8,A7
08000A5A  53AE FFE4 1107          subq.l    #1,-28(A6)
08000A5E  200C      1108          move.l    A4,D0
08000A60  6606      1109          bne.s     vsscanf_109
08000A62  2004      1110          move.l    D4,D0
08000A64  6000 00E2 1111          bra       vsscanf_15
                    1112   vsscanf_109:
08000A68  6012      1113          bra.s     vsscanf_111
                    1114   vsscanf_107:
08000A6A  200C      1115          move.l    A4,D0
08000A6C  660E      1116          bne.s     vsscanf_111
08000A6E  4A84      1117          tst.l     D4
08000A70  6704      1118          beq.s     vsscanf_113
08000A72  2004      1119          move.l    D4,D0
08000A74  6002      1120          bra.s     vsscanf_114
                    1121   vsscanf_113:
08000A76  70FF      1122          moveq     #-1,D0
                    1123   vsscanf_114:
08000A78  6000 00CE 1124          bra       vsscanf_15
                    1125   vsscanf_111:
08000A7C  4AAE FFE0 1126          tst.l     -32(A6)
08000A80  6706      1127          beq.s     vsscanf_115
08000A82  200D      1128          move.l    A5,D0
08000A84  4480      1129          neg.l     D0
08000A86  2A40      1130          move.l    D0,A5
                    1131   vsscanf_115:
08000A88  4A86      1132          tst.l     D6
08000A8A  661E      1133          bne.s     vsscanf_117
08000A8C  4AAE FFE8 1134          tst.l     -24(A6)
08000A90  6706      1135          beq.s     vsscanf_119
08000A92  2047      1136          move.l    D7,A0
08000A94  208D      1137          move.l    A5,(A0)
08000A96  6010      1138          bra.s     vsscanf_122
                    1139   vsscanf_119:
08000A98  4AAE FFEC 1140          tst.l     -20(A6)
08000A9C  6706      1141          beq.s     vsscanf_121
08000A9E  2047      1142          move.l    D7,A0
08000AA0  308D      1143          move.w    A5,(A0)
08000AA2  6004      1144          bra.s     vsscanf_122
                    1145   vsscanf_121:
08000AA4  2047      1146          move.l    D7,A0
08000AA6  208D      1147          move.l    A5,(A0)
                    1148   vsscanf_122:
08000AA8  5284      1149          addq.l    #1,D4
                    1150   vsscanf_117:
08000AAA  0C82 FFFF 1151          cmp.l     #-1,D2
08000AAE  FFFF      
08000AB0  660E      1152          bne.s     vsscanf_123
08000AB2  4A84      1153          tst.l     D4
08000AB4  6704      1154          beq.s     vsscanf_125
08000AB6  2004      1155          move.l    D4,D0
08000AB8  6002      1156          bra.s     vsscanf_126
                    1157   vsscanf_125:
08000ABA  70FF      1158          moveq     #-1,D0
                    1159   vsscanf_126:
08000ABC  6000 008A 1160          bra       vsscanf_15
                    1161   vsscanf_123:
08000AC0  6000 0080 1162          bra       vsscanf_139
                    1163   vsscanf_85:
08000AC4  0C83 0000 1164          cmp.l     #37,D3
08000AC8  0025      
08000ACA  6600 0040 1165          bne       vsscanf_127
08000ACE  2F05      1166          move.l    D5,-(A7)
08000AD0  4E93      1167          jsr       (A3)
08000AD2  584F      1168          addq.w    #4,A7
08000AD4  2400      1169          move.l    D0,D2
08000AD6  0C82 FFFF 1170          cmp.l     #-1,D2
08000ADA  FFFF      
08000ADC  660E      1171          bne.s     vsscanf_129
08000ADE  4A84      1172          tst.l     D4
08000AE0  6704      1173          beq.s     vsscanf_131
08000AE2  2004      1174          move.l    D4,D0
08000AE4  6002      1175          bra.s     vsscanf_132
                    1176   vsscanf_131:
08000AE6  70FF      1177          moveq     #-1,D0
                    1178   vsscanf_132:
08000AE8  6000 005E 1179          bra       vsscanf_15
                    1180   vsscanf_129:
08000AEC  52AE FFE4 1181          addq.l    #1,-28(A6)
08000AF0  B483      1182          cmp.l     D3,D2
08000AF2  6714      1183          beq.s     vsscanf_133
08000AF4  2F02      1184          move.l    D2,-(A7)
08000AF6  2F05      1185          move.l    D5,-(A7)
08000AF8  6100 F82C 1186          bsr       @vsscanf_scanputback
08000AFC  504F      1187          addq.w    #8,A7
08000AFE  53AE FFE4 1188          subq.l    #1,-28(A6)
08000B02  2004      1189          move.l    D4,D0
08000B04  6000 0042 1190          bra       vsscanf_15
                    1191   vsscanf_133:
08000B08  6000 0038 1192          bra       vsscanf_139
                    1193   vsscanf_127:
08000B0C  2F05      1194          move.l    D5,-(A7)
08000B0E  4E93      1195          jsr       (A3)
08000B10  584F      1196          addq.w    #4,A7
08000B12  2400      1197          move.l    D0,D2
08000B14  52AE FFE4 1198          addq.l    #1,-28(A6)
08000B18  0C82 FFFF 1199          cmp.l     #-1,D2
08000B1C  FFFF      
08000B1E  660C      1200          bne.s     vsscanf_135
08000B20  4A84      1201          tst.l     D4
08000B22  6704      1202          beq.s     vsscanf_137
08000B24  2004      1203          move.l    D4,D0
08000B26  6002      1204          bra.s     vsscanf_138
                    1205   vsscanf_137:
08000B28  70FF      1206          moveq     #-1,D0
                    1207   vsscanf_138:
08000B2A  601C      1208          bra.s     vsscanf_15
                    1209   vsscanf_135:
08000B2C  B483      1210          cmp.l     D3,D2
08000B2E  6712      1211          beq.s     vsscanf_139
08000B30  2F02      1212          move.l    D2,-(A7)
08000B32  2F05      1213          move.l    D5,-(A7)
08000B34  6100 F7F0 1214          bsr       @vsscanf_scanputback
08000B38  504F      1215          addq.w    #8,A7
08000B3A  53AE FFE4 1216          subq.l    #1,-28(A6)
08000B3E  2004      1217          move.l    D4,D0
08000B40  6006      1218          bra.s     vsscanf_15
                    1219   vsscanf_139:
08000B42  6000 FA44 1220          bra       vsscanf_3
                    1221   vsscanf_5:
08000B46  2004      1222          move.l    D4,D0
                    1223   vsscanf_15:
08000B48  4CDF 3CFC 1224          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08000B4C  4E5E      1225          unlk      A6
08000B4E  4E75      1226          rts
                    1227   _printf:
08000B50  4E56 FFFC 1228          link      A6,#-4
08000B54  48E7 2000 1229          movem.l   D2,-(A7)
08000B58  41EE 0008 1230          lea       8(A6),A0
08000B5C  5848      1231          addq.w    #4,A0
08000B5E  2408      1232          move.l    A0,D2
08000B60  2F02      1233          move.l    D2,-(A7)
08000B62  2F2E 0008 1234          move.l    8(A6),-(A7)
08000B66  42A7      1235          clr.l     -(A7)
08000B68  6100 0260 1236          bsr       _vsprintf
08000B6C  DEFC 000C 1237          add.w     #12,A7
08000B70  2D40 FFFC 1238          move.l    D0,-4(A6)
08000B74  4282      1239          clr.l     D2
08000B76  202E FFFC 1240          move.l    -4(A6),D0
08000B7A  4CDF 0004 1241          movem.l   (A7)+,D2
08000B7E  4E5E      1242          unlk      A6
08000B80  4E75      1243          rts
                    1244   ULMUL:
08000B82  4E56 0000 1245          link    A6,#0
08000B86  48E7 C000 1246          movem.l D0/D1,-(A7)
08000B8A  222E 0008 1247          move.l  8(A6),D1
08000B8E  202E 000C 1248          move.l  12(A6),D0
08000B92  602C      1249          bra.s   lmul_3
                    1250   LMUL:
08000B94  4E56 0000 1251          link    A6,#0
08000B98  48E7 C000 1252          movem.l D0/D1,-(A7)
08000B9C  222E 0008 1253          move.l  8(A6),D1
08000BA0  202E 000C 1254          move.l  12(A6),D0
08000BA4  4A80      1255          tst.l   D0
08000BA6  6A0A      1256          bpl.s   lmul_1
08000BA8  4480      1257          neg.l   D0
08000BAA  4A81      1258          tst.l   D1
08000BAC  6A0A      1259          bpl.s   lmul_2
08000BAE  4481      1260          neg.l   D1
08000BB0  600E      1261          bra.s   lmul_3
                    1262   lmul_1:
08000BB2  4A81      1263          tst.l   D1
08000BB4  6A0A      1264          bpl.s   lmul_3
08000BB6  4481      1265          neg.l   D1
                    1266   lmul_2:
08000BB8  6114      1267          bsr.s   domul
08000BBA  4481      1268          neg.l   D1
08000BBC  4080      1269          negx.l  D0
08000BBE  6002      1270          bra.s   lmul_4
                    1271   lmul_3:
08000BC0  610C      1272          bsr.s   domul
                    1273   lmul_4:
08000BC2  2D41 0008 1274          move.l  D1,8(A6)
08000BC6  4CDF 0003 1275          movem.l (A7)+,D0/D1
08000BCA  4E5E      1276          unlk    A6
08000BCC  4E75      1277          rts
                    1278   domul:
08000BCE  0C81 0000 1279          cmpi.l  #$FFFF,D1
08000BD2  FFFF      
08000BD4  620C      1280          bhi.s   domul_1
08000BD6  0C80 0000 1281          cmpi.l  #$FFFF,D0
08000BDA  FFFF      
08000BDC  620E      1282          bhi.s   domul_2
08000BDE  C2C0      1283          mulu    D0,D1
08000BE0  4E75      1284          rts
                    1285   domul_1:
08000BE2  0C80 0000 1286          cmpi.l  #$FFFF,D0
08000BE6  FFFF      
08000BE8  6218      1287          bhi.s   domul_4
08000BEA  6002      1288          bra.s   domul_3
                    1289   domul_2
08000BEC  C141      1290          exg     D0,D1
                    1291   domul_3:
08000BEE  2F02      1292          move.l  D2,-(A7)
08000BF0  2401      1293          move.l  D1,D2
08000BF2  4842      1294          swap    D2
08000BF4  C2C0      1295          mulu    D0,D1
08000BF6  C4C0      1296          mulu    D0,D2
08000BF8  4842      1297          swap    D2
08000BFA  4242      1298          clr.w   D2
08000BFC  D282      1299          add.l   D2,D1
08000BFE  241F      1300          move.l  (A7)+,D2
08000C00  4E75      1301          rts
                    1302   domul_4:
08000C02  48E7 3000 1303          movem.l D2/D3,-(A7)
08000C06  2401      1304          move.l  D1,D2
08000C08  2601      1305          move.l  D1,D3
08000C0A  C2C0      1306          mulu    D0,D1
08000C0C  4842      1307          swap    D2
08000C0E  C4C0      1308          mulu    D0,D2
08000C10  4840      1309          swap    D0
08000C12  C6C0      1310          mulu    D0,D3
08000C14  D483      1311          add.l   D3,D2
08000C16  4842      1312          swap    D2
08000C18  4242      1313          clr.w   D2
08000C1A  D282      1314          add.l   D2,D1
08000C1C  4CDF 000C 1315          movem.l (A7)+,D2/D3
08000C20  4E75      1316          rts
                    1317   _gets:
08000C22  4E56 0000 1318          link      A6,#0
08000C26  48E7 3820 1319          movem.l   D2/D3/D4/A2,-(A7)
08000C2A  45F9 0800 1320          lea       _putch,A2
08000C2E  142E      
08000C30  282E 0008 1321          move.l    8(A6),D4
08000C34  2404      1322          move.l    D4,D2
                    1323   gets_1:
08000C36  6100 0826 1324          bsr       _getch
08000C3A  2600      1325          move.l    D0,D3
08000C3C  0C80 0000 1326          cmp.l     #10,D0
08000C40  000A      
08000C42  6700 003C 1327          beq       gets_3
08000C46  0C83 0000 1328          cmp.l     #8,D3
08000C4A  0008      
08000C4C  6712      1329          beq.s     gets_4
08000C4E  2042      1330          move.l    D2,A0
08000C50  5282      1331          addq.l    #1,D2
08000C52  1083      1332          move.b    D3,(A0)
08000C54  4883      1333          ext.w     D3
08000C56  48C3      1334          ext.l     D3
08000C58  2F03      1335          move.l    D3,-(A7)
08000C5A  4E92      1336          jsr       (A2)
08000C5C  584F      1337          addq.w    #4,A7
08000C5E  601E      1338          bra.s     gets_6
                    1339   gets_4:
08000C60  B484      1340          cmp.l     D4,D2
08000C62  631A      1341          bls.s     gets_6
08000C64  4878 0008 1342          pea       8
08000C68  4E92      1343          jsr       (A2)
08000C6A  584F      1344          addq.w    #4,A7
08000C6C  4878 0020 1345          pea       32
08000C70  4E92      1346          jsr       (A2)
08000C72  584F      1347          addq.w    #4,A7
08000C74  4878 0008 1348          pea       8
08000C78  4E92      1349          jsr       (A2)
08000C7A  584F      1350          addq.w    #4,A7
08000C7C  5382      1351          subq.l    #1,D2
                    1352   gets_6:
08000C7E  60B6      1353          bra       gets_1
                    1354   gets_3:
08000C80  4878 000A 1355          pea       10
08000C84  4E92      1356          jsr       (A2)
08000C86  584F      1357          addq.w    #4,A7
08000C88  2042      1358          move.l    D2,A0
08000C8A  4210      1359          clr.b     (A0)
08000C8C  2004      1360          move.l    D4,D0
08000C8E  4CDF 041C 1361          movem.l   (A7)+,D2/D3/D4/A2
08000C92  4E5E      1362          unlk      A6
08000C94  4E75      1363          rts
                    1364   _tolower:
08000C96  4E56 0000 1365          link      A6,#0
08000C9A  48E7 2000 1366          movem.l   D2,-(A7)
08000C9E  242E 0008 1367          move.l    8(A6),D2
08000CA2  0C82 0000 1368          cmp.l     #65,D2
08000CA6  0041      
08000CA8  6D0E      1369          blt.s     tolower_1
08000CAA  0C82 0000 1370          cmp.l     #90,D2
08000CAE  005A      
08000CB0  6E06      1371          bgt.s     tolower_1
08000CB2  84BC 0000 1372          or.l      #32,D2
08000CB6  0020      
                    1373   tolower_1:
08000CB8  2002      1374          move.l    D2,D0
08000CBA  4CDF 0004 1375          movem.l   (A7)+,D2
08000CBE  4E5E      1376          unlk      A6
08000CC0  4E75      1377          rts
                    1378   _strcat:
08000CC2  206F 0004 1379          move.l    (4,A7),A0	
08000CC6  226F 0008 1380          move.l    (8,A7),A1	
08000CCA  2008      1381          move.l    A0,D0		
                    1382   strcat_0:
08000CCC  4A18      1383          tst.b     (A0)+
08000CCE  66FC      1384          bne       strcat_0
08000CD0  5348      1385          subq      #1,A0
                    1386   strcat_1:
08000CD2  10D9      1387          move.b    (A1)+,(A0)+
08000CD4  66FC      1388          bne       strcat_1
08000CD6  4E75      1389          rts
                    1390   _toupper:
08000CD8  4E56 0000 1391          link      A6,#0
08000CDC  48E7 2000 1392          movem.l   D2,-(A7)
08000CE0  242E 0008 1393          move.l    8(A6),D2
08000CE4  0C82 0000 1394          cmp.l     #97,D2
08000CE8  0061      
08000CEA  6D0E      1395          blt.s     toupper_1
08000CEC  0C82 0000 1396          cmp.l     #122,D2
08000CF0  007A      
08000CF2  6E06      1397          bgt.s     toupper_1
08000CF4  C4BC 0000 1398          and.l     #95,D2
08000CF8  005F      
                    1399   toupper_1:
08000CFA  2002      1400          move.l    D2,D0
08000CFC  4CDF 0004 1401          movem.l   (A7)+,D2
08000D00  4E5E      1402          unlk      A6
08000D02  4E75      1403          rts
                    1404   _ungetch:
08000D04  4E56 0000 1405          link      A6,#0
08000D08  23EE 0008 1406          move.l    8(A6),__ungetbuf
08000D0C  0800 17BE 
08000D10  202E 0008 1407          move.l    8(A6),D0
08000D14  4E5E      1408          unlk      A6
08000D16  4E75      1409          rts
                    1410   @vsprintf_copy:
08000D18  4E56 0000 1411          link      A6,#0
08000D1C  206E 0008 1412          move.l    8(A6),A0
08000D20  4A90      1413          tst.l     (A0)
08000D22  6710      1414          beq.s     @vsprintf_copy_1
08000D24  202E 000C 1415          move.l    12(A6),D0
08000D28  206E 0008 1416          move.l    8(A6),A0
08000D2C  2250      1417          move.l    (A0),A1
08000D2E  5290      1418          addq.l    #1,(A0)
08000D30  1280      1419          move.b    D0,(A1)
08000D32  600A      1420          bra.s     @vsprintf_copy_2
                    1421   @vsprintf_copy_1:
08000D34  2F2E 000C 1422          move.l    12(A6),-(A7)
08000D38  6100 06F4 1423          bsr       _putch
08000D3C  584F      1424          addq.w    #4,A7
                    1425   @vsprintf_copy_2:
08000D3E  4E5E      1426          unlk      A6
08000D40  4E75      1427          rts
                    1428   @vsprintf_getval:
08000D42  4E56 0000 1429          link      A6,#0
08000D46  48E7 3000 1430          movem.l   D2/D3,-(A7)
08000D4A  242E 0008 1431          move.l    8(A6),D2
08000D4E  4283      1432          clr.l     D3
08000D50  2042      1433          move.l    D2,A0
08000D52  2050      1434          move.l    (A0),A0
08000D54  1010      1435          move.b    (A0),D0
08000D56  4880      1436          ext.w     D0
08000D58  48C0      1437          ext.l     D0
08000D5A  0C80 0000 1438          cmp.l     #42,D0
08000D5E  002A      
08000D60  6612      1439          bne.s     @vsprintf_getval_1
08000D62  206E 000C 1440          move.l    12(A6),A0
08000D66  2250      1441          move.l    (A0),A1
08000D68  5890      1442          addq.l    #4,(A0)
08000D6A  2611      1443          move.l    (A1),D3
08000D6C  2042      1444          move.l    D2,A0
08000D6E  5290      1445          addq.l    #1,(A0)
08000D70  6000 004E 1446          bra       @vsprintf_getval_5
                    1447   @vsprintf_getval_1:
08000D74  2042      1448          move.l    D2,A0
08000D76  2050      1449          move.l    (A0),A0
08000D78  1010      1450          move.b    (A0),D0
08000D7A  4880      1451          ext.w     D0
08000D7C  48C0      1452          ext.l     D0
08000D7E  0C80 0000 1453          cmp.l     #48,D0
08000D82  0030      
08000D84  6D00 003A 1454          blt       @vsprintf_getval_5
08000D88  2042      1455          move.l    D2,A0
08000D8A  2050      1456          move.l    (A0),A0
08000D8C  1010      1457          move.b    (A0),D0
08000D8E  4880      1458          ext.w     D0
08000D90  48C0      1459          ext.l     D0
08000D92  0C80 0000 1460          cmp.l     #57,D0
08000D96  0039      
08000D98  6E26      1461          bgt.s     @vsprintf_getval_5
08000D9A  2F03      1462          move.l    D3,-(A7)
08000D9C  4878 000A 1463          pea       10
08000DA0  6100 FDF2 1464          bsr       LMUL
08000DA4  2017      1465          move.l    (A7),D0
08000DA6  504F      1466          addq.w    #8,A7
08000DA8  2042      1467          move.l    D2,A0
08000DAA  2250      1468          move.l    (A0),A1
08000DAC  5290      1469          addq.l    #1,(A0)
08000DAE  1211      1470          move.b    (A1),D1
08000DB0  4881      1471          ext.w     D1
08000DB2  48C1      1472          ext.l     D1
08000DB4  D081      1473          add.l     D1,D0
08000DB6  0480 0000 1474          sub.l     #48,D0
08000DBA  0030      
08000DBC  2600      1475          move.l    D0,D3
08000DBE  60B4      1476          bra       @vsprintf_getval_1
                    1477   @vsprintf_getval_5:
08000DC0  2003      1478          move.l    D3,D0
08000DC2  4CDF 000C 1479          movem.l   (A7)+,D2/D3
08000DC6  4E5E      1480          unlk      A6
08000DC8  4E75      1481          rts
                    1482   _vsprintf:
08000DCA  4E56 FFCC 1483          link      A6,#-52
08000DCE  48E7 3F3C 1484          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000DD2  45EE 0008 1485          lea       8(A6),A2
08000DD6  47F9 0800 1486          lea       @vsprintf_copy,A3
08000DDA  0D18      
08000DDC  49F9 0800 1487          lea       _ultoa,A4
08000DE0  1590      
08000DE2  4286      1488          clr.l     D6
                    1489   vsprintf_1:
08000DE4  206E 000C 1490          move.l    12(A6),A0
08000DE8  4A10      1491          tst.b     (A0)
08000DEA  6700 0624 1492          beq       vsprintf_3
08000DEE  206E 000C 1493          move.l    12(A6),A0
08000DF2  1010      1494          move.b    (A0),D0
08000DF4  4880      1495          ext.w     D0
08000DF6  48C0      1496          ext.l     D0
08000DF8  0C80 0000 1497          cmp.l     #37,D0
08000DFC  0025      
08000DFE  671C      1498          beq.s     vsprintf_4
08000E00  206E 000C 1499          move.l    12(A6),A0
08000E04  52AE 000C 1500          addq.l    #1,12(A6)
08000E08  1210      1501          move.b    (A0),D1
08000E0A  4881      1502          ext.w     D1
08000E0C  48C1      1503          ext.l     D1
08000E0E  2F01      1504          move.l    D1,-(A7)
08000E10  2F0A      1505          move.l    A2,-(A7)
08000E12  4E93      1506          jsr       (A3)
08000E14  504F      1507          addq.w    #8,A7
08000E16  5286      1508          addq.l    #1,D6
08000E18  6000 05F2 1509          bra       vsprintf_2
                    1510   vsprintf_4:
08000E1C  52AE 000C 1511          addq.l    #1,12(A6)
08000E20  422E FFD3 1512          clr.b     -45(A6)
08000E24  422E FFD2 1513          clr.b     -46(A6)
08000E28  422E FFD0 1514          clr.b     -48(A6)
08000E2C  422E FFCF 1515          clr.b     -49(A6)
08000E30  422E FFCE 1516          clr.b     -50(A6)
08000E34  422E FFCD 1517          clr.b     -51(A6)
08000E38  42AE FFFC 1518          clr.l     -4(A6)
08000E3C  7AFF      1519          moveq     #-1,D5
08000E3E  41EE FFDC 1520          lea       -36(A6),A0
08000E42  2608      1521          move.l    A0,D3
08000E44  2408      1522          move.l    A0,D2
                    1523   vsprintf_6:
08000E46  206E 000C 1524          move.l    12(A6),A0
08000E4A  1010      1525          move.b    (A0),D0
08000E4C  4880      1526          ext.w     D0
08000E4E  48C0      1527          ext.l     D0
08000E50  0C80 0000 1528          cmp.l     #43,D0
08000E54  002B      
08000E56  6730      1529          beq.s     vsprintf_12
08000E58  6E18      1530          bgt.s     vsprintf_15
08000E5A  0C80 0000 1531          cmp.l     #35,D0
08000E5E  0023      
08000E60  6700 003E 1532          beq       vsprintf_14
08000E64  6E00 0046 1533          bgt       vsprintf_9
08000E68  0C80 0000 1534          cmp.l     #32,D0
08000E6C  0020      
08000E6E  6724      1535          beq.s     vsprintf_13
08000E70  603A      1536          bra.s     vsprintf_9
                    1537   vsprintf_15:
08000E72  0C80 0000 1538          cmp.l     #45,D0
08000E76  002D      
08000E78  6702      1539          beq.s     vsprintf_11
08000E7A  6030      1540          bra.s     vsprintf_9
                    1541   vsprintf_11:
08000E7C  1D7C 0001 1542          move.b    #1,-51(A6)
08000E80  FFCD      
08000E82  52AE 000C 1543          addq.l    #1,12(A6)
08000E86  6026      1544          bra.s     vsprintf_7
                    1545   vsprintf_12:
08000E88  1D7C 0001 1546          move.b    #1,-50(A6)
08000E8C  FFCE      
08000E8E  52AE 000C 1547          addq.l    #1,12(A6)
08000E92  601A      1548          bra.s     vsprintf_7
                    1549   vsprintf_13:
08000E94  1D7C 0001 1550          move.b    #1,-49(A6)
08000E98  FFCF      
08000E9A  52AE 000C 1551          addq.l    #1,12(A6)
08000E9E  600E      1552          bra.s     vsprintf_7
                    1553   vsprintf_14:
08000EA0  1D7C 0001 1554          move.b    #1,-48(A6)
08000EA4  FFD0      
08000EA6  52AE 000C 1555          addq.l    #1,12(A6)
08000EAA  6002      1556          bra.s     vsprintf_7
                    1557   vsprintf_9:
08000EAC  6002      1558          bra.s     vsprintf_8
                    1559   vsprintf_7:
08000EAE  6096      1560          bra       vsprintf_6
                    1561   vsprintf_8:
08000EB0  206E 000C 1562          move.l    12(A6),A0
08000EB4  1010      1563          move.b    (A0),D0
08000EB6  4880      1564          ext.w     D0
08000EB8  48C0      1565          ext.l     D0
08000EBA  0C80 0000 1566          cmp.l     #48,D0
08000EBE  0030      
08000EC0  660A      1567          bne.s     vsprintf_16
08000EC2  52AE 000C 1568          addq.l    #1,12(A6)
08000EC6  1D7C 0001 1569          move.b    #1,-46(A6)
08000ECA  FFD2      
                    1570   vsprintf_16:
08000ECC  486E 0010 1571          pea       16(A6)
08000ED0  486E 000C 1572          pea       12(A6)
08000ED4  6100 FE6C 1573          bsr       @vsprintf_getval
08000ED8  504F      1574          addq.w    #8,A7
08000EDA  2A40      1575          move.l    D0,A5
08000EDC  206E 000C 1576          move.l    12(A6),A0
08000EE0  1010      1577          move.b    (A0),D0
08000EE2  4880      1578          ext.w     D0
08000EE4  48C0      1579          ext.l     D0
08000EE6  0C80 0000 1580          cmp.l     #46,D0
08000EEA  002E      
08000EEC  6614      1581          bne.s     vsprintf_18
08000EEE  52AE 000C 1582          addq.l    #1,12(A6)
08000EF2  486E 0010 1583          pea       16(A6)
08000EF6  486E 000C 1584          pea       12(A6)
08000EFA  6100 FE46 1585          bsr       @vsprintf_getval
08000EFE  504F      1586          addq.w    #8,A7
08000F00  2A00      1587          move.l    D0,D5
                    1588   vsprintf_18:
08000F02  206E 000C 1589          move.l    12(A6),A0
08000F06  1010      1590          move.b    (A0),D0
08000F08  4880      1591          ext.w     D0
08000F0A  48C0      1592          ext.l     D0
08000F0C  0C80 0000 1593          cmp.l     #108,D0
08000F10  006C      
08000F12  660A      1594          bne.s     vsprintf_20
08000F14  52AE 000C 1595          addq.l    #1,12(A6)
08000F18  1D7C 0001 1596          move.b    #1,-45(A6)
08000F1C  FFD3      
                    1597   vsprintf_20:
08000F1E  206E 000C 1598          move.l    12(A6),A0
08000F22  1010      1599          move.b    (A0),D0
08000F24  4880      1600          ext.w     D0
08000F26  48C0      1601          ext.l     D0
08000F28  0C80 0000 1602          cmp.l     #111,D0
08000F2C  006F      
08000F2E  6700 00D4 1603          beq       vsprintf_27
08000F32  6E34      1604          bgt.s     vsprintf_33
08000F34  0C80 0000 1605          cmp.l     #100,D0
08000F38  0064      
08000F3A  6700 0054 1606          beq       vsprintf_24
08000F3E  6E1C      1607          bgt.s     vsprintf_34
08000F40  0C80 0000 1608          cmp.l     #99,D0
08000F44  0063      
08000F46  6700 012C 1609          beq       vsprintf_30
08000F4A  6E00 016A 1610          bgt       vsprintf_22
08000F4E  0C80 0000 1611          cmp.l     #88,D0
08000F52  0058      
08000F54  6700 00E6 1612          beq       vsprintf_28
08000F58  6000 015C 1613          bra       vsprintf_22
                    1614   vsprintf_34:
08000F5C  0C80 0000 1615          cmp.l     #105,D0
08000F60  0069      
08000F62  672C      1616          beq.s     vsprintf_24
08000F64  6000 0150 1617          bra       vsprintf_22
                    1618   vsprintf_33:
08000F68  0C80 0000 1619          cmp.l     #117,D0
08000F6C  0075      
08000F6E  6700 005C 1620          beq       vsprintf_26
08000F72  6E0E      1621          bgt.s     vsprintf_35
08000F74  0C80 0000 1622          cmp.l     #115,D0
08000F78  0073      
08000F7A  6700 011C 1623          beq       vsprintf_31
08000F7E  6000 0136 1624          bra       vsprintf_22
                    1625   vsprintf_35:
08000F82  0C80 0000 1626          cmp.l     #120,D0
08000F86  0078      
08000F88  6700 00B2 1627          beq       vsprintf_28
08000F8C  6000 0128 1628          bra       vsprintf_22
                    1629   vsprintf_24:
08000F90  4A2E FFD3 1630          tst.b     -45(A6)
08000F94  671A      1631          beq.s     vsprintf_36
08000F96  4878 000A 1632          pea       10
08000F9A  2F03      1633          move.l    D3,-(A7)
08000F9C  206E 0010 1634          move.l    16(A6),A0
08000FA0  58AE 0010 1635          addq.l    #4,16(A6)
08000FA4  2F10      1636          move.l    (A0),-(A7)
08000FA6  6100 0564 1637          bsr       _ltoa
08000FAA  DEFC 000C 1638          add.w     #12,A7
08000FAE  6018      1639          bra.s     vsprintf_37
                    1640   vsprintf_36:
08000FB0  4878 000A 1641          pea       10
08000FB4  2F03      1642          move.l    D3,-(A7)
08000FB6  206E 0010 1643          move.l    16(A6),A0
08000FBA  58AE 0010 1644          addq.l    #4,16(A6)
08000FBE  2F10      1645          move.l    (A0),-(A7)
08000FC0  6100 054A 1646          bsr       _ltoa
08000FC4  DEFC 000C 1647          add.w     #12,A7
                    1648   vsprintf_37:
08000FC8  6000 00FA 1649          bra       vsprintf_23
                    1650   vsprintf_26:
08000FCC  4A2E FFD3 1651          tst.b     -45(A6)
08000FD0  6718      1652          beq.s     vsprintf_38
08000FD2  4878 000A 1653          pea       10
08000FD6  2F03      1654          move.l    D3,-(A7)
08000FD8  206E 0010 1655          move.l    16(A6),A0
08000FDC  58AE 0010 1656          addq.l    #4,16(A6)
08000FE0  2F10      1657          move.l    (A0),-(A7)
08000FE2  4E94      1658          jsr       (A4)
08000FE4  DEFC 000C 1659          add.w     #12,A7
08000FE8  6016      1660          bra.s     vsprintf_39
                    1661   vsprintf_38:
08000FEA  4878 000A 1662          pea       10
08000FEE  2F03      1663          move.l    D3,-(A7)
08000FF0  206E 0010 1664          move.l    16(A6),A0
08000FF4  58AE 0010 1665          addq.l    #4,16(A6)
08000FF8  2F10      1666          move.l    (A0),-(A7)
08000FFA  4E94      1667          jsr       (A4)
08000FFC  DEFC 000C 1668          add.w     #12,A7
                    1669   vsprintf_39:
08001000  6000 00C2 1670          bra       vsprintf_23
                    1671   vsprintf_27:
08001004  4A2E FFD3 1672          tst.b     -45(A6)
08001008  6718      1673          beq.s     vsprintf_40
0800100A  4878 0008 1674          pea       8
0800100E  2F03      1675          move.l    D3,-(A7)
08001010  206E 0010 1676          move.l    16(A6),A0
08001014  58AE 0010 1677          addq.l    #4,16(A6)
08001018  2F10      1678          move.l    (A0),-(A7)
0800101A  4E94      1679          jsr       (A4)
0800101C  DEFC 000C 1680          add.w     #12,A7
08001020  6016      1681          bra.s     vsprintf_41
                    1682   vsprintf_40:
08001022  4878 0008 1683          pea       8
08001026  2F03      1684          move.l    D3,-(A7)
08001028  206E 0010 1685          move.l    16(A6),A0
0800102C  58AE 0010 1686          addq.l    #4,16(A6)
08001030  2F10      1687          move.l    (A0),-(A7)
08001032  4E94      1688          jsr       (A4)
08001034  DEFC 000C 1689          add.w     #12,A7
                    1690   vsprintf_41:
08001038  6000 008A 1691          bra       vsprintf_23
                    1692   vsprintf_28:
0800103C  4A2E FFD3 1693          tst.b     -45(A6)
08001040  6718      1694          beq.s     vsprintf_42
08001042  4878 0010 1695          pea       16
08001046  2F03      1696          move.l    D3,-(A7)
08001048  206E 0010 1697          move.l    16(A6),A0
0800104C  58AE 0010 1698          addq.l    #4,16(A6)
08001050  2F10      1699          move.l    (A0),-(A7)
08001052  4E94      1700          jsr       (A4)
08001054  DEFC 000C 1701          add.w     #12,A7
08001058  6016      1702          bra.s     vsprintf_43
                    1703   vsprintf_42:
0800105A  4878 0010 1704          pea       16
0800105E  2F03      1705          move.l    D3,-(A7)
08001060  206E 0010 1706          move.l    16(A6),A0
08001064  58AE 0010 1707          addq.l    #4,16(A6)
08001068  2F10      1708          move.l    (A0),-(A7)
0800106A  4E94      1709          jsr       (A4)
0800106C  DEFC 000C 1710          add.w     #12,A7
                    1711   vsprintf_43:
08001070  6000 0052 1712          bra       vsprintf_23
                    1713   vsprintf_30:
08001074  206E 0010 1714          move.l    16(A6),A0
08001078  58AE 0010 1715          addq.l    #4,16(A6)
0800107C  2010      1716          move.l    (A0),D0
0800107E  2042      1717          move.l    D2,A0
08001080  5282      1718          addq.l    #1,D2
08001082  1080      1719          move.b    D0,(A0)
08001084  2042      1720          move.l    D2,A0
08001086  4210      1721          clr.b     (A0)
08001088  200D      1722          move.l    A5,D0
0800108A  6704      1723          beq.s     vsprintf_44
0800108C  200D      1724          move.l    A5,D0
0800108E  6002      1725          bra.s     vsprintf_45
                    1726   vsprintf_44:
08001090  7001      1727          moveq     #1,D0
                    1728   vsprintf_45:
08001092  2A00      1729          move.l    D0,D5
08001094  6000 002E 1730          bra       vsprintf_23
                    1731   vsprintf_31:
08001098  206E 0010 1732          move.l    16(A6),A0
0800109C  58AE 0010 1733          addq.l    #4,16(A6)
080010A0  2610      1734          move.l    (A0),D3
080010A2  0C85 FFFF 1735          cmp.l     #-1,D5
080010A6  FFFF      
080010A8  660A      1736          bne.s     vsprintf_46
080010AA  2F03      1737          move.l    D3,-(A7)
080010AC  6100 0544 1738          bsr       _strlen
080010B0  584F      1739          addq.w    #4,A7
080010B2  2A00      1740          move.l    D0,D5
                    1741   vsprintf_46:
080010B4  600E      1742          bra.s     vsprintf_23
                    1743   vsprintf_22:
080010B6  206E 000C 1744          move.l    12(A6),A0
080010BA  2242      1745          move.l    D2,A1
080010BC  5282      1746          addq.l    #1,D2
080010BE  1290      1747          move.b    (A0),(A1)
080010C0  2042      1748          move.l    D2,A0
080010C2  4210      1749          clr.b     (A0)
                    1750   vsprintf_23:
080010C4  2F03      1751          move.l    D3,-(A7)
080010C6  6100 052A 1752          bsr       _strlen
080010CA  584F      1753          addq.w    #4,A7
080010CC  1800      1754          move.b    D0,D4
080010CE  206E 000C 1755          move.l    12(A6),A0
080010D2  1010      1756          move.b    (A0),D0
080010D4  4880      1757          ext.w     D0
080010D6  48C0      1758          ext.l     D0
080010D8  0C80 0000 1759          cmp.l     #115,D0
080010DC  0073      
080010DE  6618      1760          bne.s     vsprintf_48
080010E0  0C85 0000 1761          cmp.l     #0,D5
080010E4  0000      
080010E6  6D10      1762          blt.s     vsprintf_48
080010E8  4884      1763          ext.w     D4
080010EA  48C4      1764          ext.l     D4
080010EC  B885      1765          cmp.l     D5,D4
080010EE  6F04      1766          ble.s     vsprintf_50
080010F0  1005      1767          move.b    D5,D0
080010F2  6002      1768          bra.s     vsprintf_51
                    1769   vsprintf_50:
080010F4  1004      1770          move.b    D4,D0
                    1771   vsprintf_51:
080010F6  1800      1772          move.b    D0,D4
                    1773   vsprintf_48:
080010F8  206E 000C 1774          move.l    12(A6),A0
080010FC  1010      1775          move.b    (A0),D0
080010FE  4880      1776          ext.w     D0
08001100  48C0      1777          ext.l     D0
08001102  0C80 0000 1778          cmp.l     #88,D0
08001106  0058      
08001108  6600 0026 1779          bne       vsprintf_56
0800110C  41EE FFDC 1780          lea       -36(A6),A0
08001110  2408      1781          move.l    A0,D2
                    1782   vsprintf_54:
08001112  2042      1783          move.l    D2,A0
08001114  4A10      1784          tst.b     (A0)
08001116  6718      1785          beq.s     vsprintf_56
08001118  2042      1786          move.l    D2,A0
0800111A  1210      1787          move.b    (A0),D1
0800111C  4881      1788          ext.w     D1
0800111E  48C1      1789          ext.l     D1
08001120  2F01      1790          move.l    D1,-(A7)
08001122  6100 FBB4 1791          bsr       _toupper
08001126  584F      1792          addq.w    #4,A7
08001128  2042      1793          move.l    D2,A0
0800112A  1080      1794          move.b    D0,(A0)
0800112C  5282      1795          addq.l    #1,D2
0800112E  60E2      1796          bra       vsprintf_54
                    1797   vsprintf_56:
08001130  7E00      1798          moveq     #0,D7
08001132  41EE FFD4 1799          lea       -44(A6),A0
08001136  2408      1800          move.l    A0,D2
08001138  206E 000C 1801          move.l    12(A6),A0
0800113C  1010      1802          move.b    (A0),D0
0800113E  4880      1803          ext.w     D0
08001140  48C0      1804          ext.l     D0
08001142  0C80 0000 1805          cmp.l     #100,D0
08001146  0064      
08001148  6714      1806          beq.s     vsprintf_59
0800114A  206E 000C 1807          move.l    12(A6),A0
0800114E  1010      1808          move.b    (A0),D0
08001150  4880      1809          ext.w     D0
08001152  48C0      1810          ext.l     D0
08001154  0C80 0000 1811          cmp.l     #105,D0
08001158  0069      
0800115A  6600 0076 1812          bne       vsprintf_65
                    1813   vsprintf_59:
0800115E  4A2E FFCE 1814          tst.b     -50(A6)
08001162  6612      1815          bne.s     vsprintf_62
08001164  2043      1816          move.l    D3,A0
08001166  1010      1817          move.b    (A0),D0
08001168  4880      1818          ext.w     D0
0800116A  48C0      1819          ext.l     D0
0800116C  0C80 0000 1820          cmp.l     #45,D0
08001170  002D      
08001172  6600 002E 1821          bne       vsprintf_60
                    1822   vsprintf_62:
08001176  2043      1823          move.l    D3,A0
08001178  1010      1824          move.b    (A0),D0
0800117A  4880      1825          ext.w     D0
0800117C  48C0      1826          ext.l     D0
0800117E  0C80 0000 1827          cmp.l     #45,D0
08001182  002D      
08001184  660E      1828          bne.s     vsprintf_63
08001186  2043      1829          move.l    D3,A0
08001188  5283      1830          addq.l    #1,D3
0800118A  2242      1831          move.l    D2,A1
0800118C  5282      1832          addq.l    #1,D2
0800118E  1290      1833          move.b    (A0),(A1)
08001190  5304      1834          subq.b    #1,D4
08001192  6008      1835          bra.s     vsprintf_64
                    1836   vsprintf_63:
08001194  2042      1837          move.l    D2,A0
08001196  5282      1838          addq.l    #1,D2
08001198  10BC 002B 1839          move.b    #43,(A0)
                    1840   vsprintf_64:
0800119C  5287      1841          addq.l    #1,D7
0800119E  6000 0032 1842          bra       vsprintf_65
                    1843   vsprintf_60:
080011A2  4A2E FFCF 1844          tst.b     -49(A6)
080011A6  6700 002A 1845          beq       vsprintf_65
080011AA  2043      1846          move.l    D3,A0
080011AC  1010      1847          move.b    (A0),D0
080011AE  4880      1848          ext.w     D0
080011B0  48C0      1849          ext.l     D0
080011B2  0C80 0000 1850          cmp.l     #45,D0
080011B6  002D      
080011B8  660E      1851          bne.s     vsprintf_67
080011BA  2043      1852          move.l    D3,A0
080011BC  5283      1853          addq.l    #1,D3
080011BE  2242      1854          move.l    D2,A1
080011C0  5282      1855          addq.l    #1,D2
080011C2  1290      1856          move.b    (A0),(A1)
080011C4  5304      1857          subq.b    #1,D4
080011C6  6008      1858          bra.s     vsprintf_68
                    1859   vsprintf_67:
080011C8  2042      1860          move.l    D2,A0
080011CA  5282      1861          addq.l    #1,D2
080011CC  10BC 0020 1862          move.b    #32,(A0)
                    1863   vsprintf_68:
080011D0  5287      1864          addq.l    #1,D7
                    1865   vsprintf_65:
080011D2  4A2E FFD0 1866          tst.b     -48(A6)
080011D6  6700 0066 1867          beq       vsprintf_77
080011DA  206E 000C 1868          move.l    12(A6),A0
080011DE  1010      1869          move.b    (A0),D0
080011E0  4880      1870          ext.w     D0
080011E2  48C0      1871          ext.l     D0
080011E4  0C80 0000 1872          cmp.l     #111,D0
080011E8  006F      
080011EA  671A      1873          beq.s     vsprintf_73
080011EC  6E0C      1874          bgt.s     vsprintf_76
080011EE  0C80 0000 1875          cmp.l     #88,D0
080011F2  0058      
080011F4  6710      1876          beq.s     vsprintf_73
080011F6  6000 0046 1877          bra       vsprintf_77
                    1878   vsprintf_76:
080011FA  0C80 0000 1879          cmp.l     #120,D0
080011FE  0078      
08001200  6704      1880          beq.s     vsprintf_73
08001202  6000 003A 1881          bra       vsprintf_77
                    1882   vsprintf_73:
08001206  2042      1883          move.l    D2,A0
08001208  5282      1884          addq.l    #1,D2
0800120A  10BC 0030 1885          move.b    #48,(A0)
0800120E  5287      1886          addq.l    #1,D7
08001210  206E 000C 1887          move.l    12(A6),A0
08001214  1010      1888          move.b    (A0),D0
08001216  4880      1889          ext.w     D0
08001218  48C0      1890          ext.l     D0
0800121A  0C80 0000 1891          cmp.l     #120,D0
0800121E  0078      
08001220  6712      1892          beq.s     vsprintf_79
08001222  206E 000C 1893          move.l    12(A6),A0
08001226  1010      1894          move.b    (A0),D0
08001228  4880      1895          ext.w     D0
0800122A  48C0      1896          ext.l     D0
0800122C  0C80 0000 1897          cmp.l     #88,D0
08001230  0058      
08001232  660A      1898          bne.s     vsprintf_77
                    1899   vsprintf_79:
08001234  2042      1900          move.l    D2,A0
08001236  5282      1901          addq.l    #1,D2
08001238  10BC 0078 1902          move.b    #120,(A0)
0800123C  5287      1903          addq.l    #1,D7
                    1904   vsprintf_77:
0800123E  2042      1905          move.l    D2,A0
08001240  4210      1906          clr.b     (A0)
08001242  206E 000C 1907          move.l    12(A6),A0
08001246  1010      1908          move.b    (A0),D0
08001248  4880      1909          ext.w     D0
0800124A  48C0      1910          ext.l     D0
0800124C  0C80 0000 1911          cmp.l     #105,D0
08001250  0069      
08001252  6700 0076 1912          beq       vsprintf_82
08001256  6E42      1913          bgt.s     vsprintf_93
08001258  0C80 0000 1914          cmp.l     #99,D0
0800125C  0063      
0800125E  6700 0084 1915          beq       vsprintf_96
08001262  6E1C      1916          bgt.s     vsprintf_94
08001264  0C80 0000 1917          cmp.l     #88,D0
08001268  0058      
0800126A  6700 005E 1918          beq       vsprintf_82
0800126E  6E00 0184 1919          bgt       vsprintf_80
08001272  0C80 0000 1920          cmp.l     #69,D0
08001276  0045      
08001278  6700 0050 1921          beq       vsprintf_82
0800127C  6000 0176 1922          bra       vsprintf_80
                    1923   vsprintf_94:
08001280  0C80 0000 1924          cmp.l     #101,D0
08001284  0065      
08001286  6700 0042 1925          beq       vsprintf_82
0800128A  6E00 0168 1926          bgt       vsprintf_80
0800128E  0C80 0000 1927          cmp.l     #100,D0
08001292  0064      
08001294  6734      1928          beq.s     vsprintf_82
08001296  6000 015C 1929          bra       vsprintf_80
                    1930   vsprintf_93:
0800129A  0C80 0000 1931          cmp.l     #117,D0
0800129E  0075      
080012A0  6728      1932          beq.s     vsprintf_82
080012A2  6E1A      1933          bgt.s     vsprintf_95
080012A4  0C80 0000 1934          cmp.l     #115,D0
080012A8  0073      
080012AA  6700 0038 1935          beq       vsprintf_96
080012AE  6E00 0144 1936          bgt       vsprintf_80
080012B2  0C80 0000 1937          cmp.l     #111,D0
080012B6  006F      
080012B8  6710      1938          beq.s     vsprintf_82
080012BA  6000 0138 1939          bra       vsprintf_80
                    1940   vsprintf_95:
080012BE  0C80 0000 1941          cmp.l     #120,D0
080012C2  0078      
080012C4  6704      1942          beq.s     vsprintf_82
080012C6  6000 012C 1943          bra       vsprintf_80
                    1944   vsprintf_82:
080012CA  4A2E FFD2 1945          tst.b     -46(A6)
080012CE  6714      1946          beq.s     vsprintf_96
080012D0  4A2E FFCD 1947          tst.b     -51(A6)
080012D4  660E      1948          bne.s     vsprintf_96
080012D6  200D      1949          move.l    A5,D0
080012D8  9087      1950          sub.l     D7,D0
080012DA  4884      1951          ext.w     D4
080012DC  48C4      1952          ext.l     D4
080012DE  9084      1953          sub.l     D4,D0
080012E0  2D40 FFFC 1954          move.l    D0,-4(A6)
                    1955   vsprintf_96:
080012E4  202E FFFC 1956          move.l    -4(A6),D0
080012E8  0C80 0000 1957          cmp.l     #0,D0
080012EC  0000      
080012EE  6C04      1958          bge.s     vsprintf_98
080012F0  42AE FFFC 1959          clr.l     -4(A6)
                    1960   vsprintf_98:
080012F4  4A2E FFCD 1961          tst.b     -51(A6)
080012F8  6600 0030 1962          bne       vsprintf_104
080012FC  4884      1963          ext.w     D4
080012FE  48C4      1964          ext.l     D4
08001300  2004      1965          move.l    D4,D0
08001302  D0AE FFFC 1966          add.l     -4(A6),D0
08001306  D087      1967          add.l     D7,D0
08001308  1D40 FFD1 1968          move.b    D0,-47(A6)
                    1969   vsprintf_102:
0800130C  102E FFD1 1970          move.b    -47(A6),D0
08001310  4880      1971          ext.w     D0
08001312  48C0      1972          ext.l     D0
08001314  220D      1973          move.l    A5,D1
08001316  534D      1974          subq.w    #1,A5
08001318  B081      1975          cmp.l     D1,D0
0800131A  6C0E      1976          bge.s     vsprintf_104
0800131C  4878 0020 1977          pea       32
08001320  2F0A      1978          move.l    A2,-(A7)
08001322  4E93      1979          jsr       (A3)
08001324  504F      1980          addq.w    #8,A7
08001326  5286      1981          addq.l    #1,D6
08001328  60E2      1982          bra       vsprintf_102
                    1983   vsprintf_104:
0800132A  41EE FFD4 1984          lea       -44(A6),A0
0800132E  2408      1985          move.l    A0,D2
                    1986   vsprintf_105:
08001330  2042      1987          move.l    D2,A0
08001332  4A10      1988          tst.b     (A0)
08001334  6716      1989          beq.s     vsprintf_107
08001336  2042      1990          move.l    D2,A0
08001338  5282      1991          addq.l    #1,D2
0800133A  1210      1992          move.b    (A0),D1
0800133C  4881      1993          ext.w     D1
0800133E  48C1      1994          ext.l     D1
08001340  2F01      1995          move.l    D1,-(A7)
08001342  2F0A      1996          move.l    A2,-(A7)
08001344  4E93      1997          jsr       (A3)
08001346  504F      1998          addq.w    #8,A7
08001348  5286      1999          addq.l    #1,D6
0800134A  60E4      2000          bra       vsprintf_105
                    2001   vsprintf_107:
0800134C  202E FFFC 2002          move.l    -4(A6),D0
08001350  1D40 FFD1 2003          move.b    D0,-47(A6)
                    2004   vsprintf_108:
08001354  102E FFD1 2005          move.b    -47(A6),D0
08001358  532E FFD1 2006          subq.b    #1,-47(A6)
0800135C  4A00      2007          tst.b     D0
0800135E  670E      2008          beq.s     vsprintf_110
08001360  4878 0030 2009          pea       48
08001364  2F0A      2010          move.l    A2,-(A7)
08001366  4E93      2011          jsr       (A3)
08001368  504F      2012          addq.w    #8,A7
0800136A  5286      2013          addq.l    #1,D6
0800136C  60E6      2014          bra       vsprintf_108
                    2015   vsprintf_110:
0800136E  2043      2016          move.l    D3,A0
08001370  4A10      2017          tst.b     (A0)
08001372  6700 0048 2018          beq       vsprintf_113
08001376  206E 000C 2019          move.l    12(A6),A0
0800137A  1010      2020          move.b    (A0),D0
0800137C  4880      2021          ext.w     D0
0800137E  48C0      2022          ext.l     D0
08001380  0C80 0000 2023          cmp.l     #115,D0
08001384  0073      
08001386  670C      2024          beq.s     vsprintf_116
08001388  6E18      2025          bgt.s     vsprintf_119
0800138A  0C80 0000 2026          cmp.l     #99,D0
0800138E  0063      
08001390  6702      2027          beq.s     vsprintf_116
08001392  600E      2028          bra.s     vsprintf_119
                    2029   vsprintf_116:
08001394  2005      2030          move.l    D5,D0
08001396  5385      2031          subq.l    #1,D5
08001398  0C80 0000 2032          cmp.l     #0,D0
0800139C  0000      
0800139E  6E02      2033          bgt.s     vsprintf_119
080013A0  6016      2034          bra.s     vsprintf_115
                    2035   vsprintf_119:
080013A2  2043      2036          move.l    D3,A0
080013A4  5283      2037          addq.l    #1,D3
080013A6  1210      2038          move.b    (A0),D1
080013A8  4881      2039          ext.w     D1
080013AA  48C1      2040          ext.l     D1
080013AC  2F01      2041          move.l    D1,-(A7)
080013AE  2F0A      2042          move.l    A2,-(A7)
080013B0  4E93      2043          jsr       (A3)
080013B2  504F      2044          addq.w    #8,A7
080013B4  5286      2045          addq.l    #1,D6
080013B6  6002      2046          bra.s     vsprintf_112
                    2047   vsprintf_115:
080013B8  6002      2048          bra.s     vsprintf_113
                    2049   vsprintf_112:
080013BA  60B2      2050          bra       vsprintf_110
                    2051   vsprintf_113:
080013BC  4A2E FFCD 2052          tst.b     -51(A6)
080013C0  6700 0030 2053          beq       vsprintf_125
080013C4  4884      2054          ext.w     D4
080013C6  48C4      2055          ext.l     D4
080013C8  2004      2056          move.l    D4,D0
080013CA  D0AE FFFC 2057          add.l     -4(A6),D0
080013CE  D087      2058          add.l     D7,D0
080013D0  1D40 FFD1 2059          move.b    D0,-47(A6)
                    2060   vsprintf_123:
080013D4  102E FFD1 2061          move.b    -47(A6),D0
080013D8  4880      2062          ext.w     D0
080013DA  48C0      2063          ext.l     D0
080013DC  220D      2064          move.l    A5,D1
080013DE  534D      2065          subq.w    #1,A5
080013E0  B081      2066          cmp.l     D1,D0
080013E2  6C0E      2067          bge.s     vsprintf_125
080013E4  4878 0020 2068          pea       32
080013E8  2F0A      2069          move.l    A2,-(A7)
080013EA  4E93      2070          jsr       (A3)
080013EC  504F      2071          addq.w    #8,A7
080013EE  5386      2072          subq.l    #1,D6
080013F0  60E2      2073          bra       vsprintf_123
                    2074   vsprintf_125:
080013F2  6014      2075          bra.s     vsprintf_81
                    2076   vsprintf_80:
080013F4  206E 000C 2077          move.l    12(A6),A0
080013F8  1210      2078          move.b    (A0),D1
080013FA  4881      2079          ext.w     D1
080013FC  48C1      2080          ext.l     D1
080013FE  2F01      2081          move.l    D1,-(A7)
08001400  2F0A      2082          move.l    A2,-(A7)
08001402  4E93      2083          jsr       (A3)
08001404  504F      2084          addq.w    #8,A7
08001406  5286      2085          addq.l    #1,D6
                    2086   vsprintf_81:
08001408  52AE 000C 2087          addq.l    #1,12(A6)
                    2088   vsprintf_2:
0800140C  6000 F9D6 2089          bra       vsprintf_1
                    2090   vsprintf_3:
08001410  4A92      2091          tst.l     (A2)
08001412  6710      2092          beq.s     vsprintf_126
08001414  4201      2093          clr.b     D1
08001416  C2BC 0000 2094          and.l     #255,D1
0800141A  00FF      
0800141C  2F01      2095          move.l    D1,-(A7)
0800141E  2F0A      2096          move.l    A2,-(A7)
08001420  4E93      2097          jsr       (A3)
08001422  504F      2098          addq.w    #8,A7
                    2099   vsprintf_126:
08001424  2006      2100          move.l    D6,D0
08001426  4CDF 3CFC 2101          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
0800142A  4E5E      2102          unlk      A6
0800142C  4E75      2103          rts
                    2104   _putch:
0800142E  4E56 0000 2105          link      A6,#0
08001432  48E7 2000 2106          movem.l   D2,-(A7)
08001436  242E 0008 2107          move.l    8(A6),D2
0800143A  0C82 0000 2108          cmp.l     #10,D2
0800143E  000A      
08001440  660A      2109          bne.s     putch_1
08001442  4878 000D 2110          pea       13
08001446  6100 EC22 2111          bsr       __putch
0800144A  584F      2112          addq.w    #4,A7
                    2113   putch_1:
0800144C  2F02      2114          move.l    D2,-(A7)
0800144E  6100 EC1A 2115          bsr       __putch
08001452  584F      2116          addq.w    #4,A7
08001454  2002      2117          move.l    D2,D0
08001456  4CDF 0004 2118          movem.l   (A7)+,D2
0800145A  4E5E      2119          unlk      A6
0800145C  4E75      2120          rts
                    2121   _getch:
0800145E  48E7 2000 2122          movem.l   D2,-(A7)
08001462  2439 0800 2123          move.l    __ungetbuf,D2
08001466  17BE      
08001468  2039 0800 2124          move.l    __ungetbuf,D0
0800146C  17BE      
0800146E  0C80 FFFF 2125          cmp.l     #-1,D0
08001472  FFFF      
08001474  670C      2126          beq.s     getch_1
08001476  23FC FFFF 2127          move.l    #-1,__ungetbuf
0800147A  FFFF 0800 
0800147E  17BE      
08001480  6010      2128          bra.s     getch_3
                    2129   getch_1:
08001482  6100 EBBA 2130          bsr       __getch
08001486  2400      2131          move.l    D0,D2
08001488  0C80 0000 2132          cmp.l     #13,D0
0800148C  000D      
0800148E  6602      2133          bne.s     getch_3
08001490  740A      2134          moveq     #10,D2
                    2135   getch_3:
08001492  2002      2136          move.l    D2,D0
08001494  4CDF 0004 2137          movem.l   (A7)+,D2
08001498  4E75      2138          rts
                    2139   @itoa_convert:
0800149A  4E56 0000 2140          link      A6,#0
0800149E  48E7 3C00 2141          movem.l   D2/D3/D4/D5,-(A7)
080014A2  242E 0008 2142          move.l    8(A6),D2
080014A6  262E 0010 2143          move.l    16(A6),D3
080014AA  2A2E 000C 2144          move.l    12(A6),D5
080014AE  2F05      2145          move.l    D5,-(A7)
080014B0  2F03      2146          move.l    D3,-(A7)
080014B2  6100 0160 2147          bsr       ULDIV
080014B6  202F 0004 2148          move.l    4(A7),D0
080014BA  504F      2149          addq.w    #8,A7
080014BC  2800      2150          move.l    D0,D4
080014BE  BA83      2151          cmp.l     D3,D5
080014C0  651A      2152          blo.s     @itoa_convert_1
080014C2  2F03      2153          move.l    D3,-(A7)
080014C4  2F05      2154          move.l    D5,-(A7)
080014C6  2F03      2155          move.l    D3,-(A7)
080014C8  6100 014A 2156          bsr       ULDIV
080014CC  2217      2157          move.l    (A7),D1
080014CE  504F      2158          addq.w    #8,A7
080014D0  2F01      2159          move.l    D1,-(A7)
080014D2  2F02      2160          move.l    D2,-(A7)
080014D4  61C4      2161          bsr       @itoa_convert
080014D6  DEFC 000C 2162          add.w     #12,A7
080014DA  2400      2163          move.l    D0,D2
                    2164   @itoa_convert_1:
080014DC  0C84 0000 2165          cmp.l     #9,D4
080014E0  0009      
080014E2  6E0A      2166          bgt.s     @itoa_convert_3
080014E4  2004      2167          move.l    D4,D0
080014E6  0680 0000 2168          add.l     #48,D0
080014EA  0030      
080014EC  600E      2169          bra.s     @itoa_convert_4
                    2170   @itoa_convert_3:
080014EE  2004      2171          move.l    D4,D0
080014F0  0680 0000 2172          add.l     #97,D0
080014F4  0061      
080014F6  0480 0000 2173          sub.l     #10,D0
080014FA  000A      
                    2174   @itoa_convert_4:
080014FC  2042      2175          move.l    D2,A0
080014FE  1080      2176          move.b    D0,(A0)
08001500  2002      2177          move.l    D2,D0
08001502  5280      2178          addq.l    #1,D0
08001504  4CDF 003C 2179          movem.l   (A7)+,D2/D3/D4/D5
08001508  4E5E      2180          unlk      A6
0800150A  4E75      2181          rts
                    2182   _ltoa:
0800150C  4E56 0000 2183          link      A6,#0
08001510  48E7 3C00 2184          movem.l   D2/D3/D4/D5,-(A7)
08001514  242E 0008 2185          move.l    8(A6),D2
08001518  262E 000C 2186          move.l    12(A6),D3
0800151C  2A2E 0010 2187          move.l    16(A6),D5
08001520  2803      2188          move.l    D3,D4
08001522  0C85 0000 2189          cmp.l     #2,D5
08001526  0002      
08001528  6D08      2190          blt.s     ltoa_3
0800152A  0C85 0000 2191          cmp.l     #36,D5
0800152E  0024      
08001530  6F06      2192          ble.s     ltoa_1
                    2193   ltoa_3:
08001532  2003      2194          move.l    D3,D0
08001534  6000 0052 2195          bra       ltoa_4
                    2196   ltoa_1:
08001538  0C85 0000 2197          cmp.l     #10,D5
0800153C  000A      
0800153E  6600 0032 2198          bne       ltoa_5
08001542  0C82 0000 2199          cmp.l     #0,D2
08001546  0000      
08001548  6C28      2200          bge.s     ltoa_5
0800154A  2002      2201          move.l    D2,D0
0800154C  4480      2202          neg.l     D0
0800154E  2400      2203          move.l    D0,D2
08001550  0C82 0000 2204          cmp.l     #0,D2
08001554  0000      
08001556  6C12      2205          bge.s     ltoa_7
08001558  4879 0800 2206          pea       @itoa_1
0800155C  18D2      
0800155E  2F03      2207          move.l    D3,-(A7)
08001560  6100 00A2 2208          bsr       _strcpy
08001564  504F      2209          addq.w    #8,A7
08001566  2003      2210          move.l    D3,D0
08001568  601E      2211          bra.s     ltoa_4
                    2212   ltoa_7:
0800156A  2044      2213          move.l    D4,A0
0800156C  5284      2214          addq.l    #1,D4
0800156E  10BC 002D 2215          move.b    #45,(A0)
                    2216   ltoa_5:
08001572  2F05      2217          move.l    D5,-(A7)
08001574  2F02      2218          move.l    D2,-(A7)
08001576  2F04      2219          move.l    D4,-(A7)
08001578  6100 FF20 2220          bsr       @itoa_convert
0800157C  DEFC 000C 2221          add.w     #12,A7
08001580  2800      2222          move.l    D0,D4
08001582  2044      2223          move.l    D4,A0
08001584  4210      2224          clr.b     (A0)
08001586  2003      2225          move.l    D3,D0
                    2226   ltoa_4:
08001588  4CDF 003C 2227          movem.l   (A7)+,D2/D3/D4/D5
0800158C  4E5E      2228          unlk      A6
0800158E  4E75      2229          rts
                    2230   _ultoa:
08001590  4E56 0000 2231          link      A6,#0
08001594  48E7 3800 2232          movem.l   D2/D3/D4,-(A7)
08001598  262E 0010 2233          move.l    16(A6),D3
0800159C  282E 000C 2234          move.l    12(A6),D4
080015A0  2404      2235          move.l    D4,D2
080015A2  0C83 0000 2236          cmp.l     #2,D3
080015A6  0002      
080015A8  6D08      2237          blt.s     ultoa_3
080015AA  0C83 0000 2238          cmp.l     #36,D3
080015AE  0024      
080015B0  6F04      2239          ble.s     ultoa_1
                    2240   ultoa_3:
080015B2  2004      2241          move.l    D4,D0
080015B4  6018      2242          bra.s     ultoa_4
                    2243   ultoa_1:
080015B6  2F03      2244          move.l    D3,-(A7)
080015B8  2F2E 0008 2245          move.l    8(A6),-(A7)
080015BC  2F02      2246          move.l    D2,-(A7)
080015BE  6100 FEDA 2247          bsr       @itoa_convert
080015C2  DEFC 000C 2248          add.w     #12,A7
080015C6  2400      2249          move.l    D0,D2
080015C8  2042      2250          move.l    D2,A0
080015CA  4210      2251          clr.b     (A0)
080015CC  2004      2252          move.l    D4,D0
                    2253   ultoa_4:
080015CE  4CDF 001C 2254          movem.l   (A7)+,D2/D3/D4
080015D2  4E5E      2255          unlk      A6
080015D4  4E75      2256          rts
                    2257   _itoa:
080015D6  4E56 0000 2258          link      A6,#0
080015DA  2F2E 0010 2259          move.l    16(A6),-(A7)
080015DE  2F2E 000C 2260          move.l    12(A6),-(A7)
080015E2  2F2E 0008 2261          move.l    8(A6),-(A7)
080015E6  6100 FF24 2262          bsr       _ltoa
080015EA  DEFC 000C 2263          add.w     #12,A7
080015EE  4E5E      2264          unlk      A6
080015F0  4E75      2265          rts
                    2266   _strlen:
080015F2  206F 0004 2267          move.l    (4,A7),A0
080015F6  2248      2268          move.l    A0,A1
                    2269   strlen_1:
080015F8  4A19      2270          tst.b     (A1)+
080015FA  66FC      2271          bne       strlen_1
080015FC  2009      2272          move.l    A1,D0
080015FE  9088      2273          sub.l     A0,D0
08001600  5380      2274          subq.l    #1,D0
08001602  4E75      2275          rts
                    2276   _strcpy:
08001604  206F 0004 2277          move.l    (4,A7),A0
08001608  226F 0008 2278          move.l    (8,A7),A1
0800160C  2008      2279          move.l    A0,D0
                    2280   strcpy_1:
0800160E  10D9      2281          move.b    (A1)+,(A0)+
08001610  66FC      2282          bne       strcpy_1
08001612  4E75      2283          rts
                    2284   ULDIV:
08001614  4E56 0000 2285          link    A6,#0
08001618  48E7 C000 2286          movem.l D0/D1,-(A7)
0800161C  222E 0008 2287          move.l  8(A6),D1
08001620  202E 000C 2288          move.l  12(A6),D0
08001624  6036      2289          bra.s   ldiv_3
                    2290   LDIV:
08001626  4E56 0000 2291          link    A6,#0
0800162A  48E7 C000 2292          movem.l D0/D1,-(A7)
0800162E  222E 0008 2293          move.l  8(A6),D1
08001632  202E 000C 2294          move.l  12(A6),D0
08001636  4A80      2295          tst.l   D0
08001638  6A0E      2296          bpl.s   ldiv_1
0800163A  4480      2297          neg.l   D0
0800163C  4A81      2298          tst.l   D1
0800163E  6A14      2299          bpl.s   ldiv_2
08001640  4481      2300          neg.l   D1
08001642  612A      2301          bsr.s   dodiv
08001644  4481      2302          neg.l   D1
08001646  6016      2303          bra.s   ldiv_4
                    2304   ldiv_1:
08001648  4A81      2305          tst.l   D1
0800164A  6A10      2306          bpl.s   ldiv_3
0800164C  4481      2307          neg.l   D1
0800164E  611E      2308          bsr.s   dodiv
08001650  4480      2309          neg.l   D0
08001652  600A      2310          bra.s   ldiv_4
                    2311   ldiv_2:
08001654  6118      2312          bsr.s   dodiv
08001656  4480      2313          neg.l   D0
08001658  4481      2314          neg.l   D1
0800165A  6002      2315          bra.s   ldiv_4
                    2316   ldiv_3:
0800165C  6110      2317          bsr.s   dodiv
                    2318   ldiv_4:
0800165E  2D40 0008 2319          move.l  D0,8(A6)
08001662  2D41 000C 2320          move.l  D1,12(A6)
08001666  4CDF 0003 2321          movem.l (A7)+,D0/D1
0800166A  4E5E      2322          unlk    A6
0800166C  4E75      2323          rts
                    2324   dodiv:
0800166E  0C81 0000 2325          cmpi.l  #$FFFF,D1
08001672  FFFF      
08001674  6236      2326          bhi.s   dodiv_2
08001676  0C80 0000 2327          cmpi.l  #$FFFF,D0
0800167A  FFFF      
0800167C  6210      2328          bhi.s   dodiv_1
0800167E  80C1      2329          divu    D1,D0
08001680  2200      2330          move.l  D0,D1
08001682  4241      2331          clr.w   D1
08001684  4841      2332          swap    D1
08001686  0280 0000 2333          andi.l  #$FFFF,D0
0800168A  FFFF      
0800168C  4E75      2334          rts
                    2335   dodiv_1:
0800168E  48A7 A000 2336          movem.w D0/D2,-(A7)
08001692  4240      2337          clr.w   D0
08001694  4840      2338          swap    D0
08001696  80C1      2339          divu    D1,D0
08001698  3400      2340          move.w  D0,D2
0800169A  301F      2341          move.w  (A7)+,D0
0800169C  80C1      2342          divu    D1,D0
0800169E  4840      2343          swap    D0
080016A0  4281      2344          clr.l   D1
080016A2  3200      2345          move.w  D0,D1
080016A4  3002      2346          move.w  D2,D0
080016A6  4840      2347          swap    D0
080016A8  341F      2348          move.w  (A7)+,D2
080016AA  4E75      2349          rts
                    2350   dodiv_2:
080016AC  48E7 3800 2351          movem.l D2/D3/D4,-(A7)
080016B0  2401      2352          move.l  D1,D2
080016B2  4242      2353          clr.w   D2
080016B4  4842      2354          swap    D2
080016B6  5282      2355          addq.l  #1,D2
080016B8  2600      2356          move.l  D0,D3
080016BA  2801      2357          move.l  D1,D4
080016BC  2202      2358          move.l  D2,D1
080016BE  61CE      2359          bsr.s   dodiv_1
080016C0  2204      2360          move.l  D4,D1
080016C2  82C2      2361          divu    D2,D1
080016C4  80C1      2362          divu    D1,D0
080016C6  0280 0000 2363          andi.l  #$FFFF,D0
080016CA  FFFF      
                    2364   dodiv_3:
080016CC  2204      2365          move.l  D4,D1
080016CE  2404      2366          move.l  D4,D2
080016D0  4842      2367          swap    D2
080016D2  C2C0      2368          mulu    D0,D1
080016D4  C4C0      2369          mulu    D0,D2
080016D6  4842      2370          swap    D2
080016D8  D282      2371          add.l   D2,D1
080016DA  9283      2372          sub.l   D3,D1
080016DC  620A      2373          bhi.s   dodiv_4
080016DE  4481      2374          neg.l   D1
080016E0  B881      2375          cmp.l   D1,D4
080016E2  6208      2376          bhi.s   dodiv_5
080016E4  5280      2377          addq.l  #1,D0
080016E6  60E4      2378          bra.s   dodiv_3
                    2379   dodiv_4:
080016E8  5380      2380          subq.l  #1,D0
080016EA  60E0      2381          bra.s   dodiv_3
                    2382   dodiv_5:
080016EC  4CDF 001C 2383          movem.l (A7)+,D2/D3/D4
080016F0  4E75      2384          rts
                    2385          section   const
080016F2            2386                   align
                    2387   
                    2388   
                    2389   @m68kus~1_1:
080016F2  0D0A 2053 2390          dc.b      13,10,32,83,80,73,95,83,116,97,116,117,115,32
080016F6  5049 5F53 
080016FA  7461 7475 
080016FE  7320      
08001700  3D20 2564 2391          dc.b      61,32,37,100,32,13,10,0
08001704  200D 0A00 
                    2392   @m68kus~1_2:
08001708  0D0A 2053 2393          dc.b      13,10,32,83,80,73,95,68,97,116,97,32,98,101
0800170C  5049 5F44 
08001710  6174 6120 
08001714  6265      
08001716  666F 7265 2394          dc.b      102,111,114,101,32,100,105,115,97,98,108,101
0800171A  2064 6973 
0800171E  6162 6C65 
08001722  203D 2025 2395          dc.b      32,61,32,37,99,0
08001726  6300      
                    2396   @m68kus~1_3:
08001728  0D0A 2053 2397          dc.b      13,10,32,83,80,73,95,68,97,116,97,32,98,101
0800172C  5049 5F44 
08001730  6174 6120 
08001734  6265      
08001736  666F 7265 2398          dc.b      102,111,114,101,32,119,97,105,116,32,61,32,37
0800173A  2077 6169 
0800173E  7420 3D20 
08001742  25        
08001743  6300      2399          dc.b      99,0
                    2400   @m68kus~1_4:
08001746  0D0A 2053 2401          dc.b      13,10,32,83,80,73,95,68,97,116,97,32,97,102
0800174A  5049 5F44 
0800174E  6174 6120 
08001752  6166      
08001754  7465 7220 2402          dc.b      116,101,114,32,119,97,105,116,61,32,37,99,0
08001758  7761 6974 
0800175C  3D20 2563 
08001760  00        
                    2403   @m68kus~1_5:
08001762  0D0A 5265 2404          dc.b      13,10,82,101,97,100,32,98,97,99,107,32,68,97
08001766  6164 2062 
0800176A  6163 6B20 
0800176E  4461      
08001770  7461 2028 2405          dc.b      116,97,32,40,97,115,32,105,110,116,41,32,61
08001774  6173 2069 
08001778  6E74 2920 
0800177C  3D        
0800177D  2025 6400 2406          dc.b      32,37,100,0
                    2407   @m68kus~1_6:
08001782  0D0A 5265 2408          dc.b      13,10,82,101,97,100,32,98,97,99,107,32,68,97
08001786  6164 2062 
0800178A  6163 6B20 
0800178E  4461      
08001790  7461 2028 2409          dc.b      116,97,32,40,97,115,32,99,104,97,114,41,32,61
08001794  6173 2063 
08001798  6861 7229 
0800179C  203D      
0800179E  2025 6300 2410          dc.b      32,37,99,0
                    2411   @m68kus~1_7:
080017A2  0D0A 4865 2412          dc.b      13,10,72,101,108,108,111,32,67,80,69,78,32,52
080017A6  6C6C 6F20 
080017AA  4350 454E 
080017AE  2034      
080017B0  3132 2053 2413          dc.b      49,50,32,83,116,117,100,101,110,116,13,10,0
080017B4  7475 6465 
080017B8  6E74 0D0A 
080017BC  00        
                    2414          section   data
080017BE            2415                   align
                    2416   
                    2417   *********************************************************************************************************************************************************
                    2418   * Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
                    2419   ********************************************************************************************************************************************************
                    2420   
          0800 17BE 2421   DataStart       equ       *
080017BE            2422   __ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
080017C2            2423   __allocp:       ds.l      1                    start of free memory block list
080017C6            2424   __heap:         ds.l      1                    begin of free memory
                    2425   
                    2426   
                    2427   @vsscanf_bufx:
080017CA  0800 18DE 2428          dc.l      @vsscanf_buf
                    2429   @vsscanf_1:
080017CE  0A00      2430          dc.b      10,0
                    2431   __ctype:
080017D0  0040 4040 2432          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
080017D4  4040 4040 
080017D8  4040 5050 
080017DC  5050 50   
080017DF  4040 4040 2433          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
080017E3  4040 4040 
080017E7  4040 4040 
080017EB  4040 40   
080017EE  4040 40D0 2434          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
080017F2  A0A0 A0A0 
080017F6  A0A0 A0A0 
080017FA  A0A0 A0A0 2435          dc.b      160,160,160,160,160,160,160,140,140,140,140
080017FE  A0A0 A08C 
08001802  8C8C 8C   
08001805  8C8C 8C8C 2436          dc.b      140,140,140,140,140,140,160,160,160,160,160
08001809  8C8C A0A0 
0800180D  A0A0 A0   
08001810  A0A0 8A8A 2437          dc.b      160,160,138,138,138,138,138,138,130,130,130
08001814  8A8A 8A8A 
08001818  8282 82   
0800181B  8282 8282 2438          dc.b      130,130,130,130,130,130,130,130,130,130,130
0800181F  8282 8282 
08001823  8282 82   
08001826  8282 8282 2439          dc.b      130,130,130,130,130,130,160,160,160,160,160
0800182A  8282 A0A0 
0800182E  A0A0 A0   
08001831  A089 8989 2440          dc.b      160,137,137,137,137,137,137,129,129,129,129
08001835  8989 8981 
08001839  8181 81   
0800183C  8181 8181 2441          dc.b      129,129,129,129,129,129,129,129,129,129,129
08001840  8181 8181 
08001844  8181 81   
08001847  8181 8181 2442          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
0800184B  81A0 A0A0 
0800184F  A040 0000 
08001853  00        
08001854  0000 0000 2443          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001858  0000 0000 
0800185C  0000 0000 
08001860  0000 0000 
08001864  0000 0000 
08001868  0000      
0800186A  0000 0000 2444          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800186E  0000 0000 
08001872  0000 0000 
08001876  0000 0000 
0800187A  0000 0000 
0800187E  0000      
08001880  0000 0000 2445          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001884  0000 0000 
08001888  0000 0000 
0800188C  0000 0000 
08001890  0000 0000 
08001894  0000      
08001896  0000 0000 2446          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800189A  0000 0000 
0800189E  0000 0000 
080018A2  0000 0000 
080018A6  0000 0000 
080018AA  0000      
080018AC  0000 0000 2447          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080018B0  0000 0000 
080018B4  0000 0000 
080018B8  0000 0000 
080018BC  0000 0000 
080018C0  0000      
080018C2  0000 0000 2448          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080018C6  0000 0000 
080018CA  0000 0000 
080018CE  0000 00   
                    2449   @itoa_1:
080018D2  2D32 3134 2450          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
080018D6  3734 3833 
080018DA  3634 3800 
                    2451          section   bss
080018DE            2452                   align
                    2453   
          0800 18DE 2454   DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
          0000 0120 2455   DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup
                    2456   
                    2457   *********************************************************************************************************
                    2458   * Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
                    2459   *********************************************************************************************************
          0800 18DE 2460   BssStart       equ       *
                    2461   
                    2462   @vsscanf_buf:
080018DE            2463          ds.b      80
                    2464          section   heap
0800192E            2465                  align
                    2466   
          0800 192E 2467   BssEnd         equ       *
          0000 0050 2468   BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup
                    2469   
                    2470   *********************************************************************************************************
                    2471   * Section for Heap
                    2472   *********************************************************************************************************
                    2473   
          0800 192E 2474   heap           equ       *
0800192E            2475                  align
          0800 0000

Assembly errors: 0
